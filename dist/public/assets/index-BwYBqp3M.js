var nE=Object.defineProperty;var wg=e=>{throw TypeError(e)};var rE=(e,t,n)=>t in e?nE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var R=(e,t,n)=>rE(e,typeof t!="symbol"?t+"":t,n),Ef=(e,t,n)=>t.has(e)||wg("Cannot "+n);var A=(e,t,n)=>(Ef(e,t,"read from private field"),n?n.call(e):t.get(e)),Ae=(e,t,n)=>t.has(e)?wg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ge=(e,t,n,s)=>(Ef(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),Ze=(e,t,n)=>(Ef(e,t,"access private method"),n);var Yc=(e,t,n,s)=>({set _(a){ge(e,t,a,n)},get _(){return A(e,t,s)}});function sE(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var ZV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nN(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rN={exports:{}},qu={},sN={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _c=Symbol.for("react.element"),aE=Symbol.for("react.portal"),iE=Symbol.for("react.fragment"),oE=Symbol.for("react.strict_mode"),lE=Symbol.for("react.profiler"),cE=Symbol.for("react.provider"),dE=Symbol.for("react.context"),uE=Symbol.for("react.forward_ref"),fE=Symbol.for("react.suspense"),mE=Symbol.for("react.memo"),hE=Symbol.for("react.lazy"),Ng=Symbol.iterator;function pE(e){return e===null||typeof e!="object"?null:(e=Ng&&e[Ng]||e["@@iterator"],typeof e=="function"?e:null)}var aN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iN=Object.assign,oN={};function qo(e,t,n){this.props=e,this.context=t,this.refs=oN,this.updater=n||aN}qo.prototype.isReactComponent={};qo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lN(){}lN.prototype=qo.prototype;function mp(e,t,n){this.props=e,this.context=t,this.refs=oN,this.updater=n||aN}var hp=mp.prototype=new lN;hp.constructor=mp;iN(hp,qo.prototype);hp.isPureReactComponent=!0;var Sg=Array.isArray,cN=Object.prototype.hasOwnProperty,pp={current:null},dN={key:!0,ref:!0,__self:!0,__source:!0};function uN(e,t,n){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)cN.call(t,s)&&!dN.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:_c,type:e,key:i,ref:o,props:a,_owner:pp.current}}function xE(e,t){return{$$typeof:_c,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xp(e){return typeof e=="object"&&e!==null&&e.$$typeof===_c}function gE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Cg=/\/+/g;function Df(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gE(""+e.key):t.toString(36)}function Sd(e,t,n,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case _c:case aE:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+Df(o,0):s,Sg(a)?(n="",e!=null&&(n=e.replace(Cg,"$&/")+"/"),Sd(a,t,n,"",function(d){return d})):a!=null&&(xp(a)&&(a=xE(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Cg,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",Sg(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+Df(i,l);o+=Sd(i,t,n,c,a)}else if(c=pE(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+Df(i,l++),o+=Sd(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Gc(e,t,n){if(e==null)return e;var s=[],a=0;return Sd(e,s,"","",function(i){return t.call(n,i,a++)}),s}function yE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var En={current:null},Cd={transition:null},vE={ReactCurrentDispatcher:En,ReactCurrentBatchConfig:Cd,ReactCurrentOwner:pp};function fN(){throw Error("act(...) is not supported in production builds of React.")}tt.Children={map:Gc,forEach:function(e,t,n){Gc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gc(e,function(){t++}),t},toArray:function(e){return Gc(e,function(t){return t})||[]},only:function(e){if(!xp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};tt.Component=qo;tt.Fragment=iE;tt.Profiler=lE;tt.PureComponent=mp;tt.StrictMode=oE;tt.Suspense=fE;tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vE;tt.act=fN;tt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=iN({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=pp.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)cN.call(t,c)&&!dN.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:_c,type:e.type,key:a,ref:i,props:s,_owner:o}};tt.createContext=function(e){return e={$$typeof:dE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cE,_context:e},e.Consumer=e};tt.createElement=uN;tt.createFactory=function(e){var t=uN.bind(null,e);return t.type=e,t};tt.createRef=function(){return{current:null}};tt.forwardRef=function(e){return{$$typeof:uE,render:e}};tt.isValidElement=xp;tt.lazy=function(e){return{$$typeof:hE,_payload:{_status:-1,_result:e},_init:yE}};tt.memo=function(e,t){return{$$typeof:mE,type:e,compare:t===void 0?null:t}};tt.startTransition=function(e){var t=Cd.transition;Cd.transition={};try{e()}finally{Cd.transition=t}};tt.unstable_act=fN;tt.useCallback=function(e,t){return En.current.useCallback(e,t)};tt.useContext=function(e){return En.current.useContext(e)};tt.useDebugValue=function(){};tt.useDeferredValue=function(e){return En.current.useDeferredValue(e)};tt.useEffect=function(e,t){return En.current.useEffect(e,t)};tt.useId=function(){return En.current.useId()};tt.useImperativeHandle=function(e,t,n){return En.current.useImperativeHandle(e,t,n)};tt.useInsertionEffect=function(e,t){return En.current.useInsertionEffect(e,t)};tt.useLayoutEffect=function(e,t){return En.current.useLayoutEffect(e,t)};tt.useMemo=function(e,t){return En.current.useMemo(e,t)};tt.useReducer=function(e,t,n){return En.current.useReducer(e,t,n)};tt.useRef=function(e){return En.current.useRef(e)};tt.useState=function(e){return En.current.useState(e)};tt.useSyncExternalStore=function(e,t,n){return En.current.useSyncExternalStore(e,t,n)};tt.useTransition=function(){return En.current.useTransition()};tt.version="18.3.1";sN.exports=tt;var h=sN.exports;const He=nN(h),mN=sE({__proto__:null,default:He},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE=h,jE=Symbol.for("react.element"),wE=Symbol.for("react.fragment"),NE=Object.prototype.hasOwnProperty,SE=bE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CE={key:!0,ref:!0,__self:!0,__source:!0};function hN(e,t,n){var s,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)NE.call(t,s)&&!CE.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:jE,type:e,key:i,ref:o,props:a,_owner:SE.current}}qu.Fragment=wE;qu.jsx=hN;qu.jsxs=hN;rN.exports=qu;var r=rN.exports,pN={exports:{}},ar={},xN={exports:{}},gN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,W){var re=P.length;P.push(W);e:for(;0<re;){var ve=re-1>>>1,Qe=P[ve];if(0<a(Qe,W))P[ve]=W,P[re]=Qe,re=ve;else break e}}function n(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var W=P[0],re=P.pop();if(re!==W){P[0]=re;e:for(var ve=0,Qe=P.length,kt=Qe>>>1;ve<kt;){var I=2*(ve+1)-1,M=P[I],ce=I+1,X=P[ce];if(0>a(M,re))ce<Qe&&0>a(X,M)?(P[ve]=X,P[ce]=re,ve=ce):(P[ve]=M,P[I]=re,ve=I);else if(ce<Qe&&0>a(X,re))P[ve]=X,P[ce]=re,ve=ce;else break e}}return W}function a(P,W){var re=P.sortIndex-W.sortIndex;return re!==0?re:P.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,m=null,u=3,y=!1,v=!1,g=!1,j=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(P){for(var W=n(d);W!==null;){if(W.callback===null)s(d);else if(W.startTime<=P)s(d),W.sortIndex=W.expirationTime,t(c,W);else break;W=n(d)}}function w(P){if(g=!1,b(P),!v)if(n(c)!==null)v=!0,K(C);else{var W=n(d);W!==null&&B(w,W.startTime-P)}}function C(P,W){v=!1,g&&(g=!1,x(k),k=-1),y=!0;var re=u;try{for(b(W),m=n(c);m!==null&&(!(m.expirationTime>W)||P&&!S());){var ve=m.callback;if(typeof ve=="function"){m.callback=null,u=m.priorityLevel;var Qe=ve(m.expirationTime<=W);W=e.unstable_now(),typeof Qe=="function"?m.callback=Qe:m===n(c)&&s(c),b(W)}else s(c);m=n(c)}if(m!==null)var kt=!0;else{var I=n(d);I!==null&&B(w,I.startTime-W),kt=!1}return kt}finally{m=null,u=re,y=!1}}var _=!1,N=null,k=-1,F=5,L=-1;function S(){return!(e.unstable_now()-L<F)}function D(){if(N!==null){var P=e.unstable_now();L=P;var W=!0;try{W=N(!0,P)}finally{W?q():(_=!1,N=null)}}else _=!1}var q;if(typeof p=="function")q=function(){p(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,$=V.port2;V.port1.onmessage=D,q=function(){$.postMessage(null)}}else q=function(){j(D,0)};function K(P){N=P,_||(_=!0,q())}function B(P,W){k=j(function(){P(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,K(C))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return u},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(u){case 1:case 2:case 3:var W=3;break;default:W=u}var re=u;u=W;try{return P()}finally{u=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,W){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var re=u;u=P;try{return W()}finally{u=re}},e.unstable_scheduleCallback=function(P,W,re){var ve=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ve+re:ve):re=ve,P){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=re+Qe,P={id:f++,callback:W,priorityLevel:P,startTime:re,expirationTime:Qe,sortIndex:-1},re>ve?(P.sortIndex=re,t(d,P),n(c)===null&&P===n(d)&&(g?(x(k),k=-1):g=!0,B(w,re-ve))):(P.sortIndex=Qe,t(c,P),v||y||(v=!0,K(C))),P},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(P){var W=u;return function(){var re=u;u=W;try{return P.apply(this,arguments)}finally{u=re}}}})(gN);xN.exports=gN;var PE=xN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E=h,rr=PE;function te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yN=new Set,Vl={};function ki(e,t){Co(e,t),Co(e+"Capture",t)}function Co(e,t){for(Vl[e]=t,e=0;e<t.length;e++)yN.add(t[e])}var As=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Im=Object.prototype.hasOwnProperty,kE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pg={},_g={};function TE(e){return Im.call(_g,e)?!0:Im.call(Pg,e)?!1:kE.test(e)?_g[e]=!0:(Pg[e]=!0,!1)}function EE(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function DE(e,t,n,s){if(t===null||typeof t>"u"||EE(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dn(e,t,n,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var an={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){an[e]=new Dn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];an[t]=new Dn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){an[e]=new Dn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){an[e]=new Dn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){an[e]=new Dn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){an[e]=new Dn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){an[e]=new Dn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){an[e]=new Dn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){an[e]=new Dn(e,5,!1,e.toLowerCase(),null,!1,!1)});var gp=/[\-:]([a-z])/g;function yp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gp,yp);an[t]=new Dn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gp,yp);an[t]=new Dn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gp,yp);an[t]=new Dn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){an[e]=new Dn(e,1,!1,e.toLowerCase(),null,!1,!1)});an.xlinkHref=new Dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){an[e]=new Dn(e,1,!1,e.toLowerCase(),null,!0,!0)});function vp(e,t,n,s){var a=an.hasOwnProperty(t)?an[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(DE(t,n,a,s)&&(n=null),s||a===null?TE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Vs=_E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zc=Symbol.for("react.element"),Li=Symbol.for("react.portal"),$i=Symbol.for("react.fragment"),bp=Symbol.for("react.strict_mode"),Fm=Symbol.for("react.profiler"),vN=Symbol.for("react.provider"),bN=Symbol.for("react.context"),jp=Symbol.for("react.forward_ref"),Mm=Symbol.for("react.suspense"),Om=Symbol.for("react.suspense_list"),wp=Symbol.for("react.memo"),Gs=Symbol.for("react.lazy"),jN=Symbol.for("react.offscreen"),kg=Symbol.iterator;function rl(e){return e===null||typeof e!="object"?null:(e=kg&&e[kg]||e["@@iterator"],typeof e=="function"?e:null)}var It=Object.assign,Af;function gl(e){if(Af===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Af=t&&t[1]||""}return`
`+Af+e}var Rf=!1;function If(e,t){if(!e||Rf)return"";Rf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Rf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?gl(e):""}function AE(e){switch(e.tag){case 5:return gl(e.type);case 16:return gl("Lazy");case 13:return gl("Suspense");case 19:return gl("SuspenseList");case 0:case 2:case 15:return e=If(e.type,!1),e;case 11:return e=If(e.type.render,!1),e;case 1:return e=If(e.type,!0),e;default:return""}}function Lm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $i:return"Fragment";case Li:return"Portal";case Fm:return"Profiler";case bp:return"StrictMode";case Mm:return"Suspense";case Om:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bN:return(e.displayName||"Context")+".Consumer";case vN:return(e._context.displayName||"Context")+".Provider";case jp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wp:return t=e.displayName||null,t!==null?t:Lm(e.type)||"Memo";case Gs:t=e._payload,e=e._init;try{return Lm(e(t))}catch{}}return null}function RE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lm(t);case 8:return t===bp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ja(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function IE(e){var t=wN(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xc(e){e._valueTracker||(e._valueTracker=IE(e))}function NN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=wN(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Hd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $m(e,t){var n=t.checked;return It({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Tg(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=ja(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function SN(e,t){t=t.checked,t!=null&&vp(e,"checked",t,!1)}function Vm(e,t){SN(e,t);var n=ja(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bm(e,t.type,n):t.hasOwnProperty("defaultValue")&&Bm(e,t.type,ja(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Eg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Bm(e,t,n){(t!=="number"||Hd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yl=Array.isArray;function Xi(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+ja(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function zm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(te(91));return It({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Dg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(te(92));if(yl(n)){if(1<n.length)throw Error(te(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ja(n)}}function CN(e,t){var n=ja(t.value),s=ja(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Ag(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function PN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Um(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?PN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Jc,_N=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Jc=Jc||document.createElement("div"),Jc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Jc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var _l={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FE=["Webkit","ms","Moz","O"];Object.keys(_l).forEach(function(e){FE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_l[t]=_l[e]})});function kN(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||_l.hasOwnProperty(e)&&_l[e]?(""+t).trim():t+"px"}function TN(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=kN(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var ME=It({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qm(e,t){if(t){if(ME[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(te(62))}}function Wm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qm=null;function Np(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hm=null,Ji=null,eo=null;function Rg(e){if(e=Ec(e)){if(typeof Hm!="function")throw Error(te(280));var t=e.stateNode;t&&(t=Yu(t),Hm(e.stateNode,e.type,t))}}function EN(e){Ji?eo?eo.push(e):eo=[e]:Ji=e}function DN(){if(Ji){var e=Ji,t=eo;if(eo=Ji=null,Rg(e),t)for(e=0;e<t.length;e++)Rg(t[e])}}function AN(e,t){return e(t)}function RN(){}var Ff=!1;function IN(e,t,n){if(Ff)return e(t,n);Ff=!0;try{return AN(e,t,n)}finally{Ff=!1,(Ji!==null||eo!==null)&&(RN(),DN())}}function zl(e,t){var n=e.stateNode;if(n===null)return null;var s=Yu(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(te(231,t,typeof n));return n}var Km=!1;if(As)try{var sl={};Object.defineProperty(sl,"passive",{get:function(){Km=!0}}),window.addEventListener("test",sl,sl),window.removeEventListener("test",sl,sl)}catch{Km=!1}function OE(e,t,n,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(f){this.onError(f)}}var kl=!1,Kd=null,Yd=!1,Ym=null,LE={onError:function(e){kl=!0,Kd=e}};function $E(e,t,n,s,a,i,o,l,c){kl=!1,Kd=null,OE.apply(LE,arguments)}function VE(e,t,n,s,a,i,o,l,c){if($E.apply(this,arguments),kl){if(kl){var d=Kd;kl=!1,Kd=null}else throw Error(te(198));Yd||(Yd=!0,Ym=d)}}function Ti(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function FN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ig(e){if(Ti(e)!==e)throw Error(te(188))}function BE(e){var t=e.alternate;if(!t){if(t=Ti(e),t===null)throw Error(te(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Ig(a),e;if(i===s)return Ig(a),t;i=i.sibling}throw Error(te(188))}if(n.return!==s.return)n=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o)throw Error(te(189))}}if(n.alternate!==s)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?e:t}function MN(e){return e=BE(e),e!==null?ON(e):null}function ON(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ON(e);if(t!==null)return t;e=e.sibling}return null}var LN=rr.unstable_scheduleCallback,Fg=rr.unstable_cancelCallback,zE=rr.unstable_shouldYield,UE=rr.unstable_requestPaint,zt=rr.unstable_now,qE=rr.unstable_getCurrentPriorityLevel,Sp=rr.unstable_ImmediatePriority,$N=rr.unstable_UserBlockingPriority,Gd=rr.unstable_NormalPriority,WE=rr.unstable_LowPriority,VN=rr.unstable_IdlePriority,Wu=null,ss=null;function QE(e){if(ss&&typeof ss.onCommitFiberRoot=="function")try{ss.onCommitFiberRoot(Wu,e,void 0,(e.current.flags&128)===128)}catch{}}var Ir=Math.clz32?Math.clz32:YE,HE=Math.log,KE=Math.LN2;function YE(e){return e>>>=0,e===0?32:31-(HE(e)/KE|0)|0}var ed=64,td=4194304;function vl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zd(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?s=vl(l):(i&=o,i!==0&&(s=vl(i)))}else o=n&~a,o!==0?s=vl(o):i!==0&&(s=vl(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Ir(t),a=1<<n,s|=e[n],t&=~a;return s}function GE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZE(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ir(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&s)&&(a[o]=GE(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Gm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function BN(){var e=ed;return ed<<=1,!(ed&4194240)&&(ed=64),e}function Mf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function kc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ir(t),e[t]=n}function XE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Ir(n),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,n&=~i}}function Cp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Ir(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}var ht=0;function zN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var UN,Pp,qN,WN,QN,Zm=!1,nd=[],fa=null,ma=null,ha=null,Ul=new Map,ql=new Map,Xs=[],JE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mg(e,t){switch(e){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":Ul.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(t.pointerId)}}function al(e,t,n,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Ec(t),t!==null&&Pp(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function eD(e,t,n,s,a){switch(t){case"focusin":return fa=al(fa,e,t,n,s,a),!0;case"dragenter":return ma=al(ma,e,t,n,s,a),!0;case"mouseover":return ha=al(ha,e,t,n,s,a),!0;case"pointerover":var i=a.pointerId;return Ul.set(i,al(Ul.get(i)||null,e,t,n,s,a)),!0;case"gotpointercapture":return i=a.pointerId,ql.set(i,al(ql.get(i)||null,e,t,n,s,a)),!0}return!1}function HN(e){var t=Ka(e.target);if(t!==null){var n=Ti(t);if(n!==null){if(t=n.tag,t===13){if(t=FN(n),t!==null){e.blockedOn=t,QN(e.priority,function(){qN(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Qm=s,n.target.dispatchEvent(s),Qm=null}else return t=Ec(n),t!==null&&Pp(t),e.blockedOn=n,!1;t.shift()}return!0}function Og(e,t,n){Pd(e)&&n.delete(t)}function tD(){Zm=!1,fa!==null&&Pd(fa)&&(fa=null),ma!==null&&Pd(ma)&&(ma=null),ha!==null&&Pd(ha)&&(ha=null),Ul.forEach(Og),ql.forEach(Og)}function il(e,t){e.blockedOn===t&&(e.blockedOn=null,Zm||(Zm=!0,rr.unstable_scheduleCallback(rr.unstable_NormalPriority,tD)))}function Wl(e){function t(a){return il(a,e)}if(0<nd.length){il(nd[0],e);for(var n=1;n<nd.length;n++){var s=nd[n];s.blockedOn===e&&(s.blockedOn=null)}}for(fa!==null&&il(fa,e),ma!==null&&il(ma,e),ha!==null&&il(ha,e),Ul.forEach(t),ql.forEach(t),n=0;n<Xs.length;n++)s=Xs[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Xs.length&&(n=Xs[0],n.blockedOn===null);)HN(n),n.blockedOn===null&&Xs.shift()}var to=Vs.ReactCurrentBatchConfig,Xd=!0;function nD(e,t,n,s){var a=ht,i=to.transition;to.transition=null;try{ht=1,_p(e,t,n,s)}finally{ht=a,to.transition=i}}function rD(e,t,n,s){var a=ht,i=to.transition;to.transition=null;try{ht=4,_p(e,t,n,s)}finally{ht=a,to.transition=i}}function _p(e,t,n,s){if(Xd){var a=Xm(e,t,n,s);if(a===null)Qf(e,t,s,Jd,n),Mg(e,s);else if(eD(a,e,t,n,s))s.stopPropagation();else if(Mg(e,s),t&4&&-1<JE.indexOf(e)){for(;a!==null;){var i=Ec(a);if(i!==null&&UN(i),i=Xm(e,t,n,s),i===null&&Qf(e,t,s,Jd,n),i===a)break;a=i}a!==null&&s.stopPropagation()}else Qf(e,t,s,null,n)}}var Jd=null;function Xm(e,t,n,s){if(Jd=null,e=Np(s),e=Ka(e),e!==null)if(t=Ti(e),t===null)e=null;else if(n=t.tag,n===13){if(e=FN(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jd=e,null}function KN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qE()){case Sp:return 1;case $N:return 4;case Gd:case WE:return 16;case VN:return 536870912;default:return 16}default:return 16}}var da=null,kp=null,_d=null;function YN(){if(_d)return _d;var e,t=kp,n=t.length,s,a="value"in da?da.value:da.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===a[i-s];s++);return _d=a.slice(e,1<s?1-s:void 0)}function kd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rd(){return!0}function Lg(){return!1}function ir(e){function t(n,s,a,i,o){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?rd:Lg,this.isPropagationStopped=Lg,this}return It(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rd)},persist:function(){},isPersistent:rd}),t}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tp=ir(Wo),Tc=It({},Wo,{view:0,detail:0}),sD=ir(Tc),Of,Lf,ol,Qu=It({},Tc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ep,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ol&&(ol&&e.type==="mousemove"?(Of=e.screenX-ol.screenX,Lf=e.screenY-ol.screenY):Lf=Of=0,ol=e),Of)},movementY:function(e){return"movementY"in e?e.movementY:Lf}}),$g=ir(Qu),aD=It({},Qu,{dataTransfer:0}),iD=ir(aD),oD=It({},Tc,{relatedTarget:0}),$f=ir(oD),lD=It({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),cD=ir(lD),dD=It({},Wo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uD=ir(dD),fD=It({},Wo,{data:0}),Vg=ir(fD),mD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pD[e])?!!t[e]:!1}function Ep(){return xD}var gD=It({},Tc,{key:function(e){if(e.key){var t=mD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=kd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ep,charCode:function(e){return e.type==="keypress"?kd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yD=ir(gD),vD=It({},Qu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bg=ir(vD),bD=It({},Tc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ep}),jD=ir(bD),wD=It({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ND=ir(wD),SD=It({},Qu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),CD=ir(SD),PD=[9,13,27,32],Dp=As&&"CompositionEvent"in window,Tl=null;As&&"documentMode"in document&&(Tl=document.documentMode);var _D=As&&"TextEvent"in window&&!Tl,GN=As&&(!Dp||Tl&&8<Tl&&11>=Tl),zg=" ",Ug=!1;function ZN(e,t){switch(e){case"keyup":return PD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vi=!1;function kD(e,t){switch(e){case"compositionend":return XN(t);case"keypress":return t.which!==32?null:(Ug=!0,zg);case"textInput":return e=t.data,e===zg&&Ug?null:e;default:return null}}function TD(e,t){if(Vi)return e==="compositionend"||!Dp&&ZN(e,t)?(e=YN(),_d=kp=da=null,Vi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return GN&&t.locale!=="ko"?null:t.data;default:return null}}var ED={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ED[e.type]:t==="textarea"}function JN(e,t,n,s){EN(s),t=eu(t,"onChange"),0<t.length&&(n=new Tp("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var El=null,Ql=null;function DD(e){d1(e,0)}function Hu(e){var t=Ui(e);if(NN(t))return e}function AD(e,t){if(e==="change")return t}var e1=!1;if(As){var Vf;if(As){var Bf="oninput"in document;if(!Bf){var Wg=document.createElement("div");Wg.setAttribute("oninput","return;"),Bf=typeof Wg.oninput=="function"}Vf=Bf}else Vf=!1;e1=Vf&&(!document.documentMode||9<document.documentMode)}function Qg(){El&&(El.detachEvent("onpropertychange",t1),Ql=El=null)}function t1(e){if(e.propertyName==="value"&&Hu(Ql)){var t=[];JN(t,Ql,e,Np(e)),IN(DD,t)}}function RD(e,t,n){e==="focusin"?(Qg(),El=t,Ql=n,El.attachEvent("onpropertychange",t1)):e==="focusout"&&Qg()}function ID(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hu(Ql)}function FD(e,t){if(e==="click")return Hu(t)}function MD(e,t){if(e==="input"||e==="change")return Hu(t)}function OD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lr=typeof Object.is=="function"?Object.is:OD;function Hl(e,t){if(Lr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!Im.call(t,a)||!Lr(e[a],t[a]))return!1}return!0}function Hg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kg(e,t){var n=Hg(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hg(n)}}function n1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?n1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function r1(){for(var e=window,t=Hd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Hd(e.document)}return t}function Ap(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function LD(e){var t=r1(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&n1(n.ownerDocument.documentElement,n)){if(s!==null&&Ap(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=Kg(n,i);var o=Kg(n,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $D=As&&"documentMode"in document&&11>=document.documentMode,Bi=null,Jm=null,Dl=null,eh=!1;function Yg(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;eh||Bi==null||Bi!==Hd(s)||(s=Bi,"selectionStart"in s&&Ap(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Dl&&Hl(Dl,s)||(Dl=s,s=eu(Jm,"onSelect"),0<s.length&&(t=new Tp("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Bi)))}function sd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zi={animationend:sd("Animation","AnimationEnd"),animationiteration:sd("Animation","AnimationIteration"),animationstart:sd("Animation","AnimationStart"),transitionend:sd("Transition","TransitionEnd")},zf={},s1={};As&&(s1=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function Ku(e){if(zf[e])return zf[e];if(!zi[e])return e;var t=zi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in s1)return zf[e]=t[n];return e}var a1=Ku("animationend"),i1=Ku("animationiteration"),o1=Ku("animationstart"),l1=Ku("transitionend"),c1=new Map,Gg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ma(e,t){c1.set(e,t),ki(t,[e])}for(var Uf=0;Uf<Gg.length;Uf++){var qf=Gg[Uf],VD=qf.toLowerCase(),BD=qf[0].toUpperCase()+qf.slice(1);Ma(VD,"on"+BD)}Ma(a1,"onAnimationEnd");Ma(i1,"onAnimationIteration");Ma(o1,"onAnimationStart");Ma("dblclick","onDoubleClick");Ma("focusin","onFocus");Ma("focusout","onBlur");Ma(l1,"onTransitionEnd");Co("onMouseEnter",["mouseout","mouseover"]);Co("onMouseLeave",["mouseout","mouseover"]);Co("onPointerEnter",["pointerout","pointerover"]);Co("onPointerLeave",["pointerout","pointerover"]);ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ki("onBeforeInput",["compositionend","keypress","textInput","paste"]);ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zD=new Set("cancel close invalid load scroll toggle".split(" ").concat(bl));function Zg(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,VE(s,t,void 0,e),e.currentTarget=null}function d1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Zg(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Zg(a,l,d),i=c}}}if(Yd)throw e=Ym,Yd=!1,Ym=null,e}function Pt(e,t){var n=t[ah];n===void 0&&(n=t[ah]=new Set);var s=e+"__bubble";n.has(s)||(u1(t,e,2,!1),n.add(s))}function Wf(e,t,n){var s=0;t&&(s|=4),u1(n,e,s,t)}var ad="_reactListening"+Math.random().toString(36).slice(2);function Kl(e){if(!e[ad]){e[ad]=!0,yN.forEach(function(n){n!=="selectionchange"&&(zD.has(n)||Wf(n,!1,e),Wf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ad]||(t[ad]=!0,Wf("selectionchange",!1,t))}}function u1(e,t,n,s){switch(KN(t)){case 1:var a=nD;break;case 4:a=rD;break;default:a=_p}n=a.bind(null,t,n,e),a=void 0,!Km||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Qf(e,t,n,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Ka(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}IN(function(){var d=i,f=Np(n),m=[];e:{var u=c1.get(e);if(u!==void 0){var y=Tp,v=e;switch(e){case"keypress":if(kd(n)===0)break e;case"keydown":case"keyup":y=yD;break;case"focusin":v="focus",y=$f;break;case"focusout":v="blur",y=$f;break;case"beforeblur":case"afterblur":y=$f;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=$g;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=iD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=jD;break;case a1:case i1:case o1:y=cD;break;case l1:y=ND;break;case"scroll":y=sD;break;case"wheel":y=CD;break;case"copy":case"cut":case"paste":y=uD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Bg}var g=(t&4)!==0,j=!g&&e==="scroll",x=g?u!==null?u+"Capture":null:u;g=[];for(var p=d,b;p!==null;){b=p;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,x!==null&&(w=zl(p,x),w!=null&&g.push(Yl(p,w,b)))),j)break;p=p.return}0<g.length&&(u=new y(u,v,null,n,f),m.push({event:u,listeners:g}))}}if(!(t&7)){e:{if(u=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",u&&n!==Qm&&(v=n.relatedTarget||n.fromElement)&&(Ka(v)||v[Rs]))break e;if((y||u)&&(u=f.window===f?f:(u=f.ownerDocument)?u.defaultView||u.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=d,v=v?Ka(v):null,v!==null&&(j=Ti(v),v!==j||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=d),y!==v)){if(g=$g,w="onMouseLeave",x="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(g=Bg,w="onPointerLeave",x="onPointerEnter",p="pointer"),j=y==null?u:Ui(y),b=v==null?u:Ui(v),u=new g(w,p+"leave",y,n,f),u.target=j,u.relatedTarget=b,w=null,Ka(f)===d&&(g=new g(x,p+"enter",v,n,f),g.target=b,g.relatedTarget=j,w=g),j=w,y&&v)t:{for(g=y,x=v,p=0,b=g;b;b=Di(b))p++;for(b=0,w=x;w;w=Di(w))b++;for(;0<p-b;)g=Di(g),p--;for(;0<b-p;)x=Di(x),b--;for(;p--;){if(g===x||x!==null&&g===x.alternate)break t;g=Di(g),x=Di(x)}g=null}else g=null;y!==null&&Xg(m,u,y,g,!1),v!==null&&j!==null&&Xg(m,j,v,g,!0)}}e:{if(u=d?Ui(d):window,y=u.nodeName&&u.nodeName.toLowerCase(),y==="select"||y==="input"&&u.type==="file")var C=AD;else if(qg(u))if(e1)C=MD;else{C=ID;var _=RD}else(y=u.nodeName)&&y.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(C=FD);if(C&&(C=C(e,d))){JN(m,C,n,f);break e}_&&_(e,u,d),e==="focusout"&&(_=u._wrapperState)&&_.controlled&&u.type==="number"&&Bm(u,"number",u.value)}switch(_=d?Ui(d):window,e){case"focusin":(qg(_)||_.contentEditable==="true")&&(Bi=_,Jm=d,Dl=null);break;case"focusout":Dl=Jm=Bi=null;break;case"mousedown":eh=!0;break;case"contextmenu":case"mouseup":case"dragend":eh=!1,Yg(m,n,f);break;case"selectionchange":if($D)break;case"keydown":case"keyup":Yg(m,n,f)}var N;if(Dp)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Vi?ZN(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(GN&&n.locale!=="ko"&&(Vi||k!=="onCompositionStart"?k==="onCompositionEnd"&&Vi&&(N=YN()):(da=f,kp="value"in da?da.value:da.textContent,Vi=!0)),_=eu(d,k),0<_.length&&(k=new Vg(k,e,null,n,f),m.push({event:k,listeners:_}),N?k.data=N:(N=XN(n),N!==null&&(k.data=N)))),(N=_D?kD(e,n):TD(e,n))&&(d=eu(d,"onBeforeInput"),0<d.length&&(f=new Vg("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:d}),f.data=N))}d1(m,t)})}function Yl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function eu(e,t){for(var n=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=zl(e,n),i!=null&&s.unshift(Yl(e,i,a)),i=zl(e,t),i!=null&&s.push(Yl(e,i,a))),e=e.return}return s}function Di(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xg(e,t,n,s,a){for(var i=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=zl(n,i),c!=null&&o.unshift(Yl(n,c,l))):a||(c=zl(n,i),c!=null&&o.push(Yl(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var UD=/\r\n?/g,qD=/\u0000|\uFFFD/g;function Jg(e){return(typeof e=="string"?e:""+e).replace(UD,`
`).replace(qD,"")}function id(e,t,n){if(t=Jg(t),Jg(e)!==t&&n)throw Error(te(425))}function tu(){}var th=null,nh=null;function rh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sh=typeof setTimeout=="function"?setTimeout:void 0,WD=typeof clearTimeout=="function"?clearTimeout:void 0,ey=typeof Promise=="function"?Promise:void 0,QD=typeof queueMicrotask=="function"?queueMicrotask:typeof ey<"u"?function(e){return ey.resolve(null).then(e).catch(HD)}:sh;function HD(e){setTimeout(function(){throw e})}function Hf(e,t){var n=t,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),Wl(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);Wl(t)}function pa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ty(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Qo=Math.random().toString(36).slice(2),es="__reactFiber$"+Qo,Gl="__reactProps$"+Qo,Rs="__reactContainer$"+Qo,ah="__reactEvents$"+Qo,KD="__reactListeners$"+Qo,YD="__reactHandles$"+Qo;function Ka(e){var t=e[es];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rs]||n[es]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ty(e);e!==null;){if(n=e[es])return n;e=ty(e)}return t}e=n,n=e.parentNode}return null}function Ec(e){return e=e[es]||e[Rs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ui(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(te(33))}function Yu(e){return e[Gl]||null}var ih=[],qi=-1;function Oa(e){return{current:e}}function _t(e){0>qi||(e.current=ih[qi],ih[qi]=null,qi--)}function Nt(e,t){qi++,ih[qi]=e.current,e.current=t}var wa={},xn=Oa(wa),Ln=Oa(!1),ui=wa;function Po(e,t){var n=e.type.contextTypes;if(!n)return wa;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function $n(e){return e=e.childContextTypes,e!=null}function nu(){_t(Ln),_t(xn)}function ny(e,t,n){if(xn.current!==wa)throw Error(te(168));Nt(xn,t),Nt(Ln,n)}function f1(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(te(108,RE(e)||"Unknown",a));return It({},n,s)}function ru(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wa,ui=xn.current,Nt(xn,e),Nt(Ln,Ln.current),!0}function ry(e,t,n){var s=e.stateNode;if(!s)throw Error(te(169));n?(e=f1(e,t,ui),s.__reactInternalMemoizedMergedChildContext=e,_t(Ln),_t(xn),Nt(xn,e)):_t(Ln),Nt(Ln,n)}var ws=null,Gu=!1,Kf=!1;function m1(e){ws===null?ws=[e]:ws.push(e)}function GD(e){Gu=!0,m1(e)}function La(){if(!Kf&&ws!==null){Kf=!0;var e=0,t=ht;try{var n=ws;for(ht=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}ws=null,Gu=!1}catch(a){throw ws!==null&&(ws=ws.slice(e+1)),LN(Sp,La),a}finally{ht=t,Kf=!1}}return null}var Wi=[],Qi=0,su=null,au=0,mr=[],hr=0,fi=null,Ps=1,_s="";function qa(e,t){Wi[Qi++]=au,Wi[Qi++]=su,su=e,au=t}function h1(e,t,n){mr[hr++]=Ps,mr[hr++]=_s,mr[hr++]=fi,fi=e;var s=Ps;e=_s;var a=32-Ir(s)-1;s&=~(1<<a),n+=1;var i=32-Ir(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,Ps=1<<32-Ir(t)+a|n<<a|s,_s=i+e}else Ps=1<<i|n<<a|s,_s=e}function Rp(e){e.return!==null&&(qa(e,1),h1(e,1,0))}function Ip(e){for(;e===su;)su=Wi[--Qi],Wi[Qi]=null,au=Wi[--Qi],Wi[Qi]=null;for(;e===fi;)fi=mr[--hr],mr[hr]=null,_s=mr[--hr],mr[hr]=null,Ps=mr[--hr],mr[hr]=null}var Jn=null,Xn=null,Tt=!1,_r=null;function p1(e,t){var n=pr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function sy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jn=e,Xn=pa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jn=e,Xn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fi!==null?{id:Ps,overflow:_s}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=pr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Jn=e,Xn=null,!0):!1;default:return!1}}function oh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lh(e){if(Tt){var t=Xn;if(t){var n=t;if(!sy(e,t)){if(oh(e))throw Error(te(418));t=pa(n.nextSibling);var s=Jn;t&&sy(e,t)?p1(s,n):(e.flags=e.flags&-4097|2,Tt=!1,Jn=e)}}else{if(oh(e))throw Error(te(418));e.flags=e.flags&-4097|2,Tt=!1,Jn=e}}}function ay(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jn=e}function od(e){if(e!==Jn)return!1;if(!Tt)return ay(e),Tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rh(e.type,e.memoizedProps)),t&&(t=Xn)){if(oh(e))throw x1(),Error(te(418));for(;t;)p1(e,t),t=pa(t.nextSibling)}if(ay(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xn=pa(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xn=null}}else Xn=Jn?pa(e.stateNode.nextSibling):null;return!0}function x1(){for(var e=Xn;e;)e=pa(e.nextSibling)}function _o(){Xn=Jn=null,Tt=!1}function Fp(e){_r===null?_r=[e]:_r.push(e)}var ZD=Vs.ReactCurrentBatchConfig;function ll(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var s=n.stateNode}if(!s)throw Error(te(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,e))}return e}function ld(e,t){throw e=Object.prototype.toString.call(t),Error(te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function iy(e){var t=e._init;return t(e._payload)}function g1(e){function t(x,p){if(e){var b=x.deletions;b===null?(x.deletions=[p],x.flags|=16):b.push(p)}}function n(x,p){if(!e)return null;for(;p!==null;)t(x,p),p=p.sibling;return null}function s(x,p){for(x=new Map;p!==null;)p.key!==null?x.set(p.key,p):x.set(p.index,p),p=p.sibling;return x}function a(x,p){return x=va(x,p),x.index=0,x.sibling=null,x}function i(x,p,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<p?(x.flags|=2,p):b):(x.flags|=2,p)):(x.flags|=1048576,p)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,p,b,w){return p===null||p.tag!==6?(p=tm(b,x.mode,w),p.return=x,p):(p=a(p,b),p.return=x,p)}function c(x,p,b,w){var C=b.type;return C===$i?f(x,p,b.props.children,w,b.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Gs&&iy(C)===p.type)?(w=a(p,b.props),w.ref=ll(x,p,b),w.return=x,w):(w=Fd(b.type,b.key,b.props,null,x.mode,w),w.ref=ll(x,p,b),w.return=x,w)}function d(x,p,b,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==b.containerInfo||p.stateNode.implementation!==b.implementation?(p=nm(b,x.mode,w),p.return=x,p):(p=a(p,b.children||[]),p.return=x,p)}function f(x,p,b,w,C){return p===null||p.tag!==7?(p=ii(b,x.mode,w,C),p.return=x,p):(p=a(p,b),p.return=x,p)}function m(x,p,b){if(typeof p=="string"&&p!==""||typeof p=="number")return p=tm(""+p,x.mode,b),p.return=x,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Zc:return b=Fd(p.type,p.key,p.props,null,x.mode,b),b.ref=ll(x,null,p),b.return=x,b;case Li:return p=nm(p,x.mode,b),p.return=x,p;case Gs:var w=p._init;return m(x,w(p._payload),b)}if(yl(p)||rl(p))return p=ii(p,x.mode,b,null),p.return=x,p;ld(x,p)}return null}function u(x,p,b,w){var C=p!==null?p.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:l(x,p,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zc:return b.key===C?c(x,p,b,w):null;case Li:return b.key===C?d(x,p,b,w):null;case Gs:return C=b._init,u(x,p,C(b._payload),w)}if(yl(b)||rl(b))return C!==null?null:f(x,p,b,w,null);ld(x,b)}return null}function y(x,p,b,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(b)||null,l(p,x,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zc:return x=x.get(w.key===null?b:w.key)||null,c(p,x,w,C);case Li:return x=x.get(w.key===null?b:w.key)||null,d(p,x,w,C);case Gs:var _=w._init;return y(x,p,b,_(w._payload),C)}if(yl(w)||rl(w))return x=x.get(b)||null,f(p,x,w,C,null);ld(p,w)}return null}function v(x,p,b,w){for(var C=null,_=null,N=p,k=p=0,F=null;N!==null&&k<b.length;k++){N.index>k?(F=N,N=null):F=N.sibling;var L=u(x,N,b[k],w);if(L===null){N===null&&(N=F);break}e&&N&&L.alternate===null&&t(x,N),p=i(L,p,k),_===null?C=L:_.sibling=L,_=L,N=F}if(k===b.length)return n(x,N),Tt&&qa(x,k),C;if(N===null){for(;k<b.length;k++)N=m(x,b[k],w),N!==null&&(p=i(N,p,k),_===null?C=N:_.sibling=N,_=N);return Tt&&qa(x,k),C}for(N=s(x,N);k<b.length;k++)F=y(N,x,k,b[k],w),F!==null&&(e&&F.alternate!==null&&N.delete(F.key===null?k:F.key),p=i(F,p,k),_===null?C=F:_.sibling=F,_=F);return e&&N.forEach(function(S){return t(x,S)}),Tt&&qa(x,k),C}function g(x,p,b,w){var C=rl(b);if(typeof C!="function")throw Error(te(150));if(b=C.call(b),b==null)throw Error(te(151));for(var _=C=null,N=p,k=p=0,F=null,L=b.next();N!==null&&!L.done;k++,L=b.next()){N.index>k?(F=N,N=null):F=N.sibling;var S=u(x,N,L.value,w);if(S===null){N===null&&(N=F);break}e&&N&&S.alternate===null&&t(x,N),p=i(S,p,k),_===null?C=S:_.sibling=S,_=S,N=F}if(L.done)return n(x,N),Tt&&qa(x,k),C;if(N===null){for(;!L.done;k++,L=b.next())L=m(x,L.value,w),L!==null&&(p=i(L,p,k),_===null?C=L:_.sibling=L,_=L);return Tt&&qa(x,k),C}for(N=s(x,N);!L.done;k++,L=b.next())L=y(N,x,k,L.value,w),L!==null&&(e&&L.alternate!==null&&N.delete(L.key===null?k:L.key),p=i(L,p,k),_===null?C=L:_.sibling=L,_=L);return e&&N.forEach(function(D){return t(x,D)}),Tt&&qa(x,k),C}function j(x,p,b,w){if(typeof b=="object"&&b!==null&&b.type===$i&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Zc:e:{for(var C=b.key,_=p;_!==null;){if(_.key===C){if(C=b.type,C===$i){if(_.tag===7){n(x,_.sibling),p=a(_,b.props.children),p.return=x,x=p;break e}}else if(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Gs&&iy(C)===_.type){n(x,_.sibling),p=a(_,b.props),p.ref=ll(x,_,b),p.return=x,x=p;break e}n(x,_);break}else t(x,_);_=_.sibling}b.type===$i?(p=ii(b.props.children,x.mode,w,b.key),p.return=x,x=p):(w=Fd(b.type,b.key,b.props,null,x.mode,w),w.ref=ll(x,p,b),w.return=x,x=w)}return o(x);case Li:e:{for(_=b.key;p!==null;){if(p.key===_)if(p.tag===4&&p.stateNode.containerInfo===b.containerInfo&&p.stateNode.implementation===b.implementation){n(x,p.sibling),p=a(p,b.children||[]),p.return=x,x=p;break e}else{n(x,p);break}else t(x,p);p=p.sibling}p=nm(b,x.mode,w),p.return=x,x=p}return o(x);case Gs:return _=b._init,j(x,p,_(b._payload),w)}if(yl(b))return v(x,p,b,w);if(rl(b))return g(x,p,b,w);ld(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,p!==null&&p.tag===6?(n(x,p.sibling),p=a(p,b),p.return=x,x=p):(n(x,p),p=tm(b,x.mode,w),p.return=x,x=p),o(x)):n(x,p)}return j}var ko=g1(!0),y1=g1(!1),iu=Oa(null),ou=null,Hi=null,Mp=null;function Op(){Mp=Hi=ou=null}function Lp(e){var t=iu.current;_t(iu),e._currentValue=t}function ch(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function no(e,t){ou=e,Mp=Hi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Mn=!0),e.firstContext=null)}function yr(e){var t=e._currentValue;if(Mp!==e)if(e={context:e,memoizedValue:t,next:null},Hi===null){if(ou===null)throw Error(te(308));Hi=e,ou.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var Ya=null;function $p(e){Ya===null?Ya=[e]:Ya.push(e)}function v1(e,t,n,s){var a=t.interleaved;return a===null?(n.next=n,$p(t)):(n.next=a.next,a.next=n),t.interleaved=n,Is(e,s)}function Is(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zs=!1;function Vp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ks(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xa(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ot&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Is(e,n)}return a=s.interleaved,a===null?(t.next=t,$p(s)):(t.next=a.next,a.next=t),s.interleaved=t,Is(e,n)}function Td(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Cp(e,n)}}function oy(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lu(e,t,n,s){var a=e.updateQueue;Zs=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;o=0,f=d=c=null,l=i;do{var u=l.lane,y=l.eventTime;if((s&u)===u){f!==null&&(f=f.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,g=l;switch(u=t,y=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){m=v.call(y,m,u);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,u=typeof v=="function"?v.call(y,m,u):v,u==null)break e;m=It({},m,u);break e;case 2:Zs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,u=a.effects,u===null?a.effects=[l]:u.push(l))}else y={eventTime:y,lane:u,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=y,c=m):f=f.next=y,o|=u;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;u=l,l=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}while(!0);if(f===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);hi|=o,e.lanes=o,e.memoizedState=m}}function ly(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(te(191,a));a.call(s)}}}var Dc={},as=Oa(Dc),Zl=Oa(Dc),Xl=Oa(Dc);function Ga(e){if(e===Dc)throw Error(te(174));return e}function Bp(e,t){switch(Nt(Xl,t),Nt(Zl,e),Nt(as,Dc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Um(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Um(t,e)}_t(as),Nt(as,t)}function To(){_t(as),_t(Zl),_t(Xl)}function j1(e){Ga(Xl.current);var t=Ga(as.current),n=Um(t,e.type);t!==n&&(Nt(Zl,e),Nt(as,n))}function zp(e){Zl.current===e&&(_t(as),_t(Zl))}var At=Oa(0);function cu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yf=[];function Up(){for(var e=0;e<Yf.length;e++)Yf[e]._workInProgressVersionPrimary=null;Yf.length=0}var Ed=Vs.ReactCurrentDispatcher,Gf=Vs.ReactCurrentBatchConfig,mi=0,Rt=null,Qt=null,Gt=null,du=!1,Al=!1,Jl=0,XD=0;function cn(){throw Error(te(321))}function qp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Lr(e[n],t[n]))return!1;return!0}function Wp(e,t,n,s,a,i){if(mi=i,Rt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ed.current=e===null||e.memoizedState===null?nA:rA,e=n(s,a),Al){i=0;do{if(Al=!1,Jl=0,25<=i)throw Error(te(301));i+=1,Gt=Qt=null,t.updateQueue=null,Ed.current=sA,e=n(s,a)}while(Al)}if(Ed.current=uu,t=Qt!==null&&Qt.next!==null,mi=0,Gt=Qt=Rt=null,du=!1,t)throw Error(te(300));return e}function Qp(){var e=Jl!==0;return Jl=0,e}function Yr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Rt.memoizedState=Gt=e:Gt=Gt.next=e,Gt}function vr(){if(Qt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var t=Gt===null?Rt.memoizedState:Gt.next;if(t!==null)Gt=t,Qt=e;else{if(e===null)throw Error(te(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Gt===null?Rt.memoizedState=Gt=e:Gt=Gt.next=e}return Gt}function ec(e,t){return typeof t=="function"?t(e):t}function Zf(e){var t=vr(),n=t.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=e;var s=Qt,a=s.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var f=d.lane;if((mi&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=s):c=c.next=m,Rt.lanes|=f,hi|=f}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,Lr(s,t.memoizedState)||(Mn=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do i=a.lane,Rt.lanes|=i,hi|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xf(e){var t=vr(),n=t.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Lr(i,t.memoizedState)||(Mn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function w1(){}function N1(e,t){var n=Rt,s=vr(),a=t(),i=!Lr(s.memoizedState,a);if(i&&(s.memoizedState=a,Mn=!0),s=s.queue,Hp(P1.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||Gt!==null&&Gt.memoizedState.tag&1){if(n.flags|=2048,tc(9,C1.bind(null,n,s,a,t),void 0,null),Xt===null)throw Error(te(349));mi&30||S1(n,t,a)}return a}function S1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Rt.updateQueue,t===null?(t={lastEffect:null,stores:null},Rt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function C1(e,t,n,s){t.value=n,t.getSnapshot=s,_1(t)&&k1(e)}function P1(e,t,n){return n(function(){_1(t)&&k1(e)})}function _1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Lr(e,n)}catch{return!0}}function k1(e){var t=Is(e,1);t!==null&&Fr(t,e,1,-1)}function cy(e){var t=Yr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ec,lastRenderedState:e},t.queue=e,e=e.dispatch=tA.bind(null,Rt,e),[t.memoizedState,e]}function tc(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Rt.updateQueue,t===null?(t={lastEffect:null,stores:null},Rt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function T1(){return vr().memoizedState}function Dd(e,t,n,s){var a=Yr();Rt.flags|=e,a.memoizedState=tc(1|t,n,void 0,s===void 0?null:s)}function Zu(e,t,n,s){var a=vr();s=s===void 0?null:s;var i=void 0;if(Qt!==null){var o=Qt.memoizedState;if(i=o.destroy,s!==null&&qp(s,o.deps)){a.memoizedState=tc(t,n,i,s);return}}Rt.flags|=e,a.memoizedState=tc(1|t,n,i,s)}function dy(e,t){return Dd(8390656,8,e,t)}function Hp(e,t){return Zu(2048,8,e,t)}function E1(e,t){return Zu(4,2,e,t)}function D1(e,t){return Zu(4,4,e,t)}function A1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function R1(e,t,n){return n=n!=null?n.concat([e]):null,Zu(4,4,A1.bind(null,t,e),n)}function Kp(){}function I1(e,t){var n=vr();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&qp(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function F1(e,t){var n=vr();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&qp(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function M1(e,t,n){return mi&21?(Lr(n,t)||(n=BN(),Rt.lanes|=n,hi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Mn=!0),e.memoizedState=n)}function JD(e,t){var n=ht;ht=n!==0&&4>n?n:4,e(!0);var s=Gf.transition;Gf.transition={};try{e(!1),t()}finally{ht=n,Gf.transition=s}}function O1(){return vr().memoizedState}function eA(e,t,n){var s=ya(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},L1(e))$1(t,n);else if(n=v1(e,t,n,s),n!==null){var a=_n();Fr(n,e,s,a),V1(n,t,s)}}function tA(e,t,n){var s=ya(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(L1(e))$1(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,Lr(l,o)){var c=t.interleaved;c===null?(a.next=a,$p(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=v1(e,t,a,s),n!==null&&(a=_n(),Fr(n,e,s,a),V1(n,t,s))}}function L1(e){var t=e.alternate;return e===Rt||t!==null&&t===Rt}function $1(e,t){Al=du=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function V1(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Cp(e,n)}}var uu={readContext:yr,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},nA={readContext:yr,useCallback:function(e,t){return Yr().memoizedState=[e,t===void 0?null:t],e},useContext:yr,useEffect:dy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Dd(4194308,4,A1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Dd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dd(4,2,e,t)},useMemo:function(e,t){var n=Yr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Yr();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=eA.bind(null,Rt,e),[s.memoizedState,e]},useRef:function(e){var t=Yr();return e={current:e},t.memoizedState=e},useState:cy,useDebugValue:Kp,useDeferredValue:function(e){return Yr().memoizedState=e},useTransition:function(){var e=cy(!1),t=e[0];return e=JD.bind(null,e[1]),Yr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Rt,a=Yr();if(Tt){if(n===void 0)throw Error(te(407));n=n()}else{if(n=t(),Xt===null)throw Error(te(349));mi&30||S1(s,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,dy(P1.bind(null,s,i,e),[e]),s.flags|=2048,tc(9,C1.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=Yr(),t=Xt.identifierPrefix;if(Tt){var n=_s,s=Ps;n=(s&~(1<<32-Ir(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Jl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=XD++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rA={readContext:yr,useCallback:I1,useContext:yr,useEffect:Hp,useImperativeHandle:R1,useInsertionEffect:E1,useLayoutEffect:D1,useMemo:F1,useReducer:Zf,useRef:T1,useState:function(){return Zf(ec)},useDebugValue:Kp,useDeferredValue:function(e){var t=vr();return M1(t,Qt.memoizedState,e)},useTransition:function(){var e=Zf(ec)[0],t=vr().memoizedState;return[e,t]},useMutableSource:w1,useSyncExternalStore:N1,useId:O1,unstable_isNewReconciler:!1},sA={readContext:yr,useCallback:I1,useContext:yr,useEffect:Hp,useImperativeHandle:R1,useInsertionEffect:E1,useLayoutEffect:D1,useMemo:F1,useReducer:Xf,useRef:T1,useState:function(){return Xf(ec)},useDebugValue:Kp,useDeferredValue:function(e){var t=vr();return Qt===null?t.memoizedState=e:M1(t,Qt.memoizedState,e)},useTransition:function(){var e=Xf(ec)[0],t=vr().memoizedState;return[e,t]},useMutableSource:w1,useSyncExternalStore:N1,useId:O1,unstable_isNewReconciler:!1};function Sr(e,t){if(e&&e.defaultProps){t=It({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function dh(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:It({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xu={isMounted:function(e){return(e=e._reactInternals)?Ti(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=_n(),a=ya(e),i=ks(s,a);i.payload=t,n!=null&&(i.callback=n),t=xa(e,i,a),t!==null&&(Fr(t,e,a,s),Td(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=_n(),a=ya(e),i=ks(s,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=xa(e,i,a),t!==null&&(Fr(t,e,a,s),Td(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_n(),s=ya(e),a=ks(n,s);a.tag=2,t!=null&&(a.callback=t),t=xa(e,a,s),t!==null&&(Fr(t,e,s,n),Td(t,e,s))}};function uy(e,t,n,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!Hl(n,s)||!Hl(a,i):!0}function B1(e,t,n){var s=!1,a=wa,i=t.contextType;return typeof i=="object"&&i!==null?i=yr(i):(a=$n(t)?ui:xn.current,s=t.contextTypes,i=(s=s!=null)?Po(e,a):wa),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xu,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function fy(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Xu.enqueueReplaceState(t,t.state,null)}function uh(e,t,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Vp(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=yr(i):(i=$n(t)?ui:xn.current,a.context=Po(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(dh(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Xu.enqueueReplaceState(a,a.state,null),lu(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Eo(e,t){try{var n="",s=t;do n+=AE(s),s=s.return;while(s);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Jf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function fh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var aA=typeof WeakMap=="function"?WeakMap:Map;function z1(e,t,n){n=ks(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){mu||(mu=!0,wh=s),fh(e,t)},n}function U1(e,t,n){n=ks(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;n.payload=function(){return s(a)},n.callback=function(){fh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){fh(e,t),typeof s!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function my(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new aA;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(n)||(a.add(n),e=vA.bind(null,e,t,n),t.then(e,e))}function hy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function py(e,t,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ks(-1,1),t.tag=2,xa(n,t,1))),n.lanes|=1),e)}var iA=Vs.ReactCurrentOwner,Mn=!1;function wn(e,t,n,s){t.child=e===null?y1(t,null,n,s):ko(t,e.child,n,s)}function xy(e,t,n,s,a){n=n.render;var i=t.ref;return no(t,a),s=Wp(e,t,n,s,i,a),n=Qp(),e!==null&&!Mn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Fs(e,t,a)):(Tt&&n&&Rp(t),t.flags|=1,wn(e,t,s,a),t.child)}function gy(e,t,n,s,a){if(e===null){var i=n.type;return typeof i=="function"&&!nx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,q1(e,t,i,s,a)):(e=Fd(n.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Hl,n(o,s)&&e.ref===t.ref)return Fs(e,t,a)}return t.flags|=1,e=va(i,s),e.ref=t.ref,e.return=t,t.child=e}function q1(e,t,n,s,a){if(e!==null){var i=e.memoizedProps;if(Hl(i,s)&&e.ref===t.ref)if(Mn=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(Mn=!0);else return t.lanes=e.lanes,Fs(e,t,a)}return mh(e,t,n,s,a)}function W1(e,t,n){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(Yi,Qn),Qn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Nt(Yi,Qn),Qn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,Nt(Yi,Qn),Qn|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,Nt(Yi,Qn),Qn|=s;return wn(e,t,a,n),t.child}function Q1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function mh(e,t,n,s,a){var i=$n(n)?ui:xn.current;return i=Po(t,i),no(t,a),n=Wp(e,t,n,s,i,a),s=Qp(),e!==null&&!Mn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Fs(e,t,a)):(Tt&&s&&Rp(t),t.flags|=1,wn(e,t,n,a),t.child)}function yy(e,t,n,s,a){if($n(n)){var i=!0;ru(t)}else i=!1;if(no(t,a),t.stateNode===null)Ad(e,t),B1(t,n,s),uh(t,n,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=yr(d):(d=$n(n)?ui:xn.current,d=Po(t,d));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&fy(t,o,s,d),Zs=!1;var u=t.memoizedState;o.state=u,lu(t,s,o,a),c=t.memoizedState,l!==s||u!==c||Ln.current||Zs?(typeof f=="function"&&(dh(t,n,f,s),c=t.memoizedState),(l=Zs||uy(t,n,l,s,u,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,b1(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Sr(t.type,l),o.props=d,m=t.pendingProps,u=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=yr(c):(c=$n(n)?ui:xn.current,c=Po(t,c));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||u!==c)&&fy(t,o,s,c),Zs=!1,u=t.memoizedState,o.state=u,lu(t,s,o,a);var v=t.memoizedState;l!==m||u!==v||Ln.current||Zs?(typeof y=="function"&&(dh(t,n,y,s),v=t.memoizedState),(d=Zs||uy(t,n,d,s,u,v,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=v),o.props=s,o.state=v,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),s=!1)}return hh(e,t,n,s,i,a)}function hh(e,t,n,s,a,i){Q1(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&ry(t,n,!1),Fs(e,t,i);s=t.stateNode,iA.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=ko(t,e.child,null,i),t.child=ko(t,null,l,i)):wn(e,t,l,i),t.memoizedState=s.state,a&&ry(t,n,!0),t.child}function H1(e){var t=e.stateNode;t.pendingContext?ny(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ny(e,t.context,!1),Bp(e,t.containerInfo)}function vy(e,t,n,s,a){return _o(),Fp(a),t.flags|=256,wn(e,t,n,s),t.child}var ph={dehydrated:null,treeContext:null,retryLane:0};function xh(e){return{baseLanes:e,cachePool:null,transitions:null}}function K1(e,t,n){var s=t.pendingProps,a=At.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Nt(At,a&1),e===null)return lh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=tf(o,s,0,null),e=ii(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=xh(n),t.memoizedState=ph,e):Yp(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return oA(e,t,o,s,l,a,n);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=va(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=va(l,i):(i=ii(i,o,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?xh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=ph,s}return i=e.child,e=i.sibling,s=va(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Yp(e,t){return t=tf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cd(e,t,n,s){return s!==null&&Fp(s),ko(t,e.child,null,n),e=Yp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function oA(e,t,n,s,a,i,o){if(n)return t.flags&256?(t.flags&=-257,s=Jf(Error(te(422))),cd(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=tf({mode:"visible",children:s.children},a,0,null),i=ii(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&ko(t,e.child,null,o),t.child.memoizedState=xh(o),t.memoizedState=ph,i);if(!(t.mode&1))return cd(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(te(419)),s=Jf(i,s,void 0),cd(e,t,o,s)}if(l=(o&e.childLanes)!==0,Mn||l){if(s=Xt,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Is(e,a),Fr(s,e,a,-1))}return tx(),s=Jf(Error(te(421))),cd(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=bA.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Xn=pa(a.nextSibling),Jn=t,Tt=!0,_r=null,e!==null&&(mr[hr++]=Ps,mr[hr++]=_s,mr[hr++]=fi,Ps=e.id,_s=e.overflow,fi=t),t=Yp(t,s.children),t.flags|=4096,t)}function by(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ch(e.return,t,n)}function em(e,t,n,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=a)}function Y1(e,t,n){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(wn(e,t,s.children,n),s=At.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&by(e,n,t);else if(e.tag===19)by(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Nt(At,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&cu(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),em(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&cu(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}em(t,!0,n,null,i);break;case"together":em(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ad(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(te(153));if(t.child!==null){for(e=t.child,n=va(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=va(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function lA(e,t,n){switch(t.tag){case 3:H1(t),_o();break;case 5:j1(t);break;case 1:$n(t.type)&&ru(t);break;case 4:Bp(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;Nt(iu,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Nt(At,At.current&1),t.flags|=128,null):n&t.child.childLanes?K1(e,t,n):(Nt(At,At.current&1),e=Fs(e,t,n),e!==null?e.sibling:null);Nt(At,At.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Y1(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Nt(At,At.current),s)break;return null;case 22:case 23:return t.lanes=0,W1(e,t,n)}return Fs(e,t,n)}var G1,gh,Z1,X1;G1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gh=function(){};Z1=function(e,t,n,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Ga(as.current);var i=null;switch(n){case"input":a=$m(e,a),s=$m(e,s),i=[];break;case"select":a=It({},a,{value:void 0}),s=It({},s,{value:void 0}),i=[];break;case"textarea":a=zm(e,a),s=zm(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=tu)}qm(n,s);var o;n=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Vl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Vl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Pt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};X1=function(e,t,n,s){n!==s&&(t.flags|=4)};function cl(e,t){if(!Tt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function dn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function cA(e,t,n){var s=t.pendingProps;switch(Ip(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(t),null;case 1:return $n(t.type)&&nu(),dn(t),null;case 3:return s=t.stateNode,To(),_t(Ln),_t(xn),Up(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(od(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_r!==null&&(Ch(_r),_r=null))),gh(e,t),dn(t),null;case 5:zp(t);var a=Ga(Xl.current);if(n=t.type,e!==null&&t.stateNode!=null)Z1(e,t,n,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(te(166));return dn(t),null}if(e=Ga(as.current),od(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[es]=t,s[Gl]=i,e=(t.mode&1)!==0,n){case"dialog":Pt("cancel",s),Pt("close",s);break;case"iframe":case"object":case"embed":Pt("load",s);break;case"video":case"audio":for(a=0;a<bl.length;a++)Pt(bl[a],s);break;case"source":Pt("error",s);break;case"img":case"image":case"link":Pt("error",s),Pt("load",s);break;case"details":Pt("toggle",s);break;case"input":Tg(s,i),Pt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Pt("invalid",s);break;case"textarea":Dg(s,i),Pt("invalid",s)}qm(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&id(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&id(s.textContent,l,e),a=["children",""+l]):Vl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Pt("scroll",s)}switch(n){case"input":Xc(s),Eg(s,i,!0);break;case"textarea":Xc(s),Ag(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=tu)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=PN(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[es]=t,e[Gl]=s,G1(e,t,!1,!1),t.stateNode=e;e:{switch(o=Wm(n,s),n){case"dialog":Pt("cancel",e),Pt("close",e),a=s;break;case"iframe":case"object":case"embed":Pt("load",e),a=s;break;case"video":case"audio":for(a=0;a<bl.length;a++)Pt(bl[a],e);a=s;break;case"source":Pt("error",e),a=s;break;case"img":case"image":case"link":Pt("error",e),Pt("load",e),a=s;break;case"details":Pt("toggle",e),a=s;break;case"input":Tg(e,s),a=$m(e,s),Pt("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=It({},s,{value:void 0}),Pt("invalid",e);break;case"textarea":Dg(e,s),a=zm(e,s),Pt("invalid",e);break;default:a=s}qm(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?TN(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&_N(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Bl(e,c):typeof c=="number"&&Bl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Vl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Pt("scroll",e):c!=null&&vp(e,i,c,o))}switch(n){case"input":Xc(e),Eg(e,s,!1);break;case"textarea":Xc(e),Ag(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ja(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Xi(e,!!s.multiple,i,!1):s.defaultValue!=null&&Xi(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=tu)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return dn(t),null;case 6:if(e&&t.stateNode!=null)X1(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(te(166));if(n=Ga(Xl.current),Ga(as.current),od(t)){if(s=t.stateNode,n=t.memoizedProps,s[es]=t,(i=s.nodeValue!==n)&&(e=Jn,e!==null))switch(e.tag){case 3:id(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&id(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[es]=t,t.stateNode=s}return dn(t),null;case 13:if(_t(At),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Tt&&Xn!==null&&t.mode&1&&!(t.flags&128))x1(),_o(),t.flags|=98560,i=!1;else if(i=od(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(te(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(te(317));i[es]=t}else _o(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;dn(t),i=!1}else _r!==null&&(Ch(_r),_r=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||At.current&1?Kt===0&&(Kt=3):tx())),t.updateQueue!==null&&(t.flags|=4),dn(t),null);case 4:return To(),gh(e,t),e===null&&Kl(t.stateNode.containerInfo),dn(t),null;case 10:return Lp(t.type._context),dn(t),null;case 17:return $n(t.type)&&nu(),dn(t),null;case 19:if(_t(At),i=t.memoizedState,i===null)return dn(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)cl(i,!1);else{if(Kt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=cu(e),o!==null){for(t.flags|=128,cl(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Nt(At,At.current&1|2),t.child}e=e.sibling}i.tail!==null&&zt()>Do&&(t.flags|=128,s=!0,cl(i,!1),t.lanes=4194304)}else{if(!s)if(e=cu(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),cl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Tt)return dn(t),null}else 2*zt()-i.renderingStartTime>Do&&n!==1073741824&&(t.flags|=128,s=!0,cl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=zt(),t.sibling=null,n=At.current,Nt(At,s?n&1|2:n&1),t):(dn(t),null);case 22:case 23:return ex(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Qn&1073741824&&(dn(t),t.subtreeFlags&6&&(t.flags|=8192)):dn(t),null;case 24:return null;case 25:return null}throw Error(te(156,t.tag))}function dA(e,t){switch(Ip(t),t.tag){case 1:return $n(t.type)&&nu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return To(),_t(Ln),_t(xn),Up(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zp(t),null;case 13:if(_t(At),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(te(340));_o()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _t(At),null;case 4:return To(),null;case 10:return Lp(t.type._context),null;case 22:case 23:return ex(),null;case 24:return null;default:return null}}var dd=!1,fn=!1,uA=typeof WeakSet=="function"?WeakSet:Set,be=null;function Ki(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Lt(e,t,s)}else n.current=null}function yh(e,t,n){try{n()}catch(s){Lt(e,t,s)}}var jy=!1;function fA(e,t){if(th=Xd,e=r1(),Ap(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,f=0,m=e,u=null;t:for(;;){for(var y;m!==n||a!==0&&m.nodeType!==3||(l=o+a),m!==i||s!==0&&m.nodeType!==3||(c=o+s),m.nodeType===3&&(o+=m.nodeValue.length),(y=m.firstChild)!==null;)u=m,m=y;for(;;){if(m===e)break t;if(u===n&&++d===a&&(l=o),u===i&&++f===s&&(c=o),(y=m.nextSibling)!==null)break;m=u,u=m.parentNode}m=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nh={focusedElem:e,selectionRange:n},Xd=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){t=be;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,j=v.memoizedState,x=t.stateNode,p=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:Sr(t.type,g),j);x.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(w){Lt(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}return v=jy,jy=!1,v}function Rl(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&yh(t,n,i)}a=a.next}while(a!==s)}}function Ju(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function vh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function J1(e){var t=e.alternate;t!==null&&(e.alternate=null,J1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[es],delete t[Gl],delete t[ah],delete t[KD],delete t[YD])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function eS(e){return e.tag===5||e.tag===3||e.tag===4}function wy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||eS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bh(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=tu));else if(s!==4&&(e=e.child,e!==null))for(bh(e,t,n),e=e.sibling;e!==null;)bh(e,t,n),e=e.sibling}function jh(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(jh(e,t,n),e=e.sibling;e!==null;)jh(e,t,n),e=e.sibling}var nn=null,Pr=!1;function Us(e,t,n){for(n=n.child;n!==null;)tS(e,t,n),n=n.sibling}function tS(e,t,n){if(ss&&typeof ss.onCommitFiberUnmount=="function")try{ss.onCommitFiberUnmount(Wu,n)}catch{}switch(n.tag){case 5:fn||Ki(n,t);case 6:var s=nn,a=Pr;nn=null,Us(e,t,n),nn=s,Pr=a,nn!==null&&(Pr?(e=nn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):nn.removeChild(n.stateNode));break;case 18:nn!==null&&(Pr?(e=nn,n=n.stateNode,e.nodeType===8?Hf(e.parentNode,n):e.nodeType===1&&Hf(e,n),Wl(e)):Hf(nn,n.stateNode));break;case 4:s=nn,a=Pr,nn=n.stateNode.containerInfo,Pr=!0,Us(e,t,n),nn=s,Pr=a;break;case 0:case 11:case 14:case 15:if(!fn&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&yh(n,t,o),a=a.next}while(a!==s)}Us(e,t,n);break;case 1:if(!fn&&(Ki(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){Lt(n,t,l)}Us(e,t,n);break;case 21:Us(e,t,n);break;case 22:n.mode&1?(fn=(s=fn)||n.memoizedState!==null,Us(e,t,n),fn=s):Us(e,t,n);break;default:Us(e,t,n)}}function Ny(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new uA),t.forEach(function(s){var a=jA.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function wr(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:nn=l.stateNode,Pr=!1;break e;case 3:nn=l.stateNode.containerInfo,Pr=!0;break e;case 4:nn=l.stateNode.containerInfo,Pr=!0;break e}l=l.return}if(nn===null)throw Error(te(160));tS(i,o,a),nn=null,Pr=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Lt(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)nS(t,e),t=t.sibling}function nS(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wr(t,e),Hr(e),s&4){try{Rl(3,e,e.return),Ju(3,e)}catch(g){Lt(e,e.return,g)}try{Rl(5,e,e.return)}catch(g){Lt(e,e.return,g)}}break;case 1:wr(t,e),Hr(e),s&512&&n!==null&&Ki(n,n.return);break;case 5:if(wr(t,e),Hr(e),s&512&&n!==null&&Ki(n,n.return),e.flags&32){var a=e.stateNode;try{Bl(a,"")}catch(g){Lt(e,e.return,g)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&SN(a,i),Wm(l,o);var d=Wm(l,i);for(o=0;o<c.length;o+=2){var f=c[o],m=c[o+1];f==="style"?TN(a,m):f==="dangerouslySetInnerHTML"?_N(a,m):f==="children"?Bl(a,m):vp(a,f,m,d)}switch(l){case"input":Vm(a,i);break;case"textarea":CN(a,i);break;case"select":var u=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Xi(a,!!i.multiple,y,!1):u!==!!i.multiple&&(i.defaultValue!=null?Xi(a,!!i.multiple,i.defaultValue,!0):Xi(a,!!i.multiple,i.multiple?[]:"",!1))}a[Gl]=i}catch(g){Lt(e,e.return,g)}}break;case 6:if(wr(t,e),Hr(e),s&4){if(e.stateNode===null)throw Error(te(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Lt(e,e.return,g)}}break;case 3:if(wr(t,e),Hr(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Wl(t.containerInfo)}catch(g){Lt(e,e.return,g)}break;case 4:wr(t,e),Hr(e);break;case 13:wr(t,e),Hr(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Xp=zt())),s&4&&Ny(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(fn=(d=fn)||f,wr(t,e),fn=d):wr(t,e),Hr(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(be=e,f=e.child;f!==null;){for(m=be=f;be!==null;){switch(u=be,y=u.child,u.tag){case 0:case 11:case 14:case 15:Rl(4,u,u.return);break;case 1:Ki(u,u.return);var v=u.stateNode;if(typeof v.componentWillUnmount=="function"){s=u,n=u.return;try{t=s,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Lt(s,n,g)}}break;case 5:Ki(u,u.return);break;case 22:if(u.memoizedState!==null){Cy(m);continue}}y!==null?(y.return=u,be=y):Cy(m)}f=f.sibling}e:for(f=null,m=e;;){if(m.tag===5){if(f===null){f=m;try{a=m.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=kN("display",o))}catch(g){Lt(e,e.return,g)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(g){Lt(e,e.return,g)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:wr(t,e),Hr(e),s&4&&Ny(e);break;case 21:break;default:wr(t,e),Hr(e)}}function Hr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(eS(n)){var s=n;break e}n=n.return}throw Error(te(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Bl(a,""),s.flags&=-33);var i=wy(e);jh(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=wy(e);bh(e,l,o);break;default:throw Error(te(161))}}catch(c){Lt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mA(e,t,n){be=e,rS(e)}function rS(e,t,n){for(var s=(e.mode&1)!==0;be!==null;){var a=be,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||dd;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||fn;l=dd;var d=fn;if(dd=o,(fn=c)&&!d)for(be=a;be!==null;)o=be,c=o.child,o.tag===22&&o.memoizedState!==null?Py(a):c!==null?(c.return=o,be=c):Py(a);for(;i!==null;)be=i,rS(i),i=i.sibling;be=a,dd=l,fn=d}Sy(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,be=i):Sy(e)}}function Sy(e){for(;be!==null;){var t=be;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:fn||Ju(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!fn)if(n===null)s.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Sr(t.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ly(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ly(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Wl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}fn||t.flags&512&&vh(t)}catch(u){Lt(t,t.return,u)}}if(t===e){be=null;break}if(n=t.sibling,n!==null){n.return=t.return,be=n;break}be=t.return}}function Cy(e){for(;be!==null;){var t=be;if(t===e){be=null;break}var n=t.sibling;if(n!==null){n.return=t.return,be=n;break}be=t.return}}function Py(e){for(;be!==null;){var t=be;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ju(4,t)}catch(c){Lt(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){Lt(t,a,c)}}var i=t.return;try{vh(t)}catch(c){Lt(t,i,c)}break;case 5:var o=t.return;try{vh(t)}catch(c){Lt(t,o,c)}}}catch(c){Lt(t,t.return,c)}if(t===e){be=null;break}var l=t.sibling;if(l!==null){l.return=t.return,be=l;break}be=t.return}}var hA=Math.ceil,fu=Vs.ReactCurrentDispatcher,Gp=Vs.ReactCurrentOwner,xr=Vs.ReactCurrentBatchConfig,ot=0,Xt=null,qt=null,sn=0,Qn=0,Yi=Oa(0),Kt=0,nc=null,hi=0,ef=0,Zp=0,Il=null,Fn=null,Xp=0,Do=1/0,js=null,mu=!1,wh=null,ga=null,ud=!1,ua=null,hu=0,Fl=0,Nh=null,Rd=-1,Id=0;function _n(){return ot&6?zt():Rd!==-1?Rd:Rd=zt()}function ya(e){return e.mode&1?ot&2&&sn!==0?sn&-sn:ZD.transition!==null?(Id===0&&(Id=BN()),Id):(e=ht,e!==0||(e=window.event,e=e===void 0?16:KN(e.type)),e):1}function Fr(e,t,n,s){if(50<Fl)throw Fl=0,Nh=null,Error(te(185));kc(e,n,s),(!(ot&2)||e!==Xt)&&(e===Xt&&(!(ot&2)&&(ef|=n),Kt===4&&Js(e,sn)),Vn(e,s),n===1&&ot===0&&!(t.mode&1)&&(Do=zt()+500,Gu&&La()))}function Vn(e,t){var n=e.callbackNode;ZE(e,t);var s=Zd(e,e===Xt?sn:0);if(s===0)n!==null&&Fg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Fg(n),t===1)e.tag===0?GD(_y.bind(null,e)):m1(_y.bind(null,e)),QD(function(){!(ot&6)&&La()}),n=null;else{switch(zN(s)){case 1:n=Sp;break;case 4:n=$N;break;case 16:n=Gd;break;case 536870912:n=VN;break;default:n=Gd}n=uS(n,sS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sS(e,t){if(Rd=-1,Id=0,ot&6)throw Error(te(327));var n=e.callbackNode;if(ro()&&e.callbackNode!==n)return null;var s=Zd(e,e===Xt?sn:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=pu(e,s);else{t=s;var a=ot;ot|=2;var i=iS();(Xt!==e||sn!==t)&&(js=null,Do=zt()+500,ai(e,t));do try{gA();break}catch(l){aS(e,l)}while(!0);Op(),fu.current=i,ot=a,qt!==null?t=0:(Xt=null,sn=0,t=Kt)}if(t!==0){if(t===2&&(a=Gm(e),a!==0&&(s=a,t=Sh(e,a))),t===1)throw n=nc,ai(e,0),Js(e,s),Vn(e,zt()),n;if(t===6)Js(e,s);else{if(a=e.current.alternate,!(s&30)&&!pA(a)&&(t=pu(e,s),t===2&&(i=Gm(e),i!==0&&(s=i,t=Sh(e,i))),t===1))throw n=nc,ai(e,0),Js(e,s),Vn(e,zt()),n;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(te(345));case 2:Wa(e,Fn,js);break;case 3:if(Js(e,s),(s&130023424)===s&&(t=Xp+500-zt(),10<t)){if(Zd(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){_n(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=sh(Wa.bind(null,e,Fn,js),t);break}Wa(e,Fn,js);break;case 4:if(Js(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-Ir(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=zt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*hA(s/1960))-s,10<s){e.timeoutHandle=sh(Wa.bind(null,e,Fn,js),s);break}Wa(e,Fn,js);break;case 5:Wa(e,Fn,js);break;default:throw Error(te(329))}}}return Vn(e,zt()),e.callbackNode===n?sS.bind(null,e):null}function Sh(e,t){var n=Il;return e.current.memoizedState.isDehydrated&&(ai(e,t).flags|=256),e=pu(e,t),e!==2&&(t=Fn,Fn=n,t!==null&&Ch(t)),e}function Ch(e){Fn===null?Fn=e:Fn.push.apply(Fn,e)}function pA(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],i=a.getSnapshot;a=a.value;try{if(!Lr(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Js(e,t){for(t&=~Zp,t&=~ef,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ir(t),s=1<<n;e[n]=-1,t&=~s}}function _y(e){if(ot&6)throw Error(te(327));ro();var t=Zd(e,0);if(!(t&1))return Vn(e,zt()),null;var n=pu(e,t);if(e.tag!==0&&n===2){var s=Gm(e);s!==0&&(t=s,n=Sh(e,s))}if(n===1)throw n=nc,ai(e,0),Js(e,t),Vn(e,zt()),n;if(n===6)throw Error(te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wa(e,Fn,js),Vn(e,zt()),null}function Jp(e,t){var n=ot;ot|=1;try{return e(t)}finally{ot=n,ot===0&&(Do=zt()+500,Gu&&La())}}function pi(e){ua!==null&&ua.tag===0&&!(ot&6)&&ro();var t=ot;ot|=1;var n=xr.transition,s=ht;try{if(xr.transition=null,ht=1,e)return e()}finally{ht=s,xr.transition=n,ot=t,!(ot&6)&&La()}}function ex(){Qn=Yi.current,_t(Yi)}function ai(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,WD(n)),qt!==null)for(n=qt.return;n!==null;){var s=n;switch(Ip(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&nu();break;case 3:To(),_t(Ln),_t(xn),Up();break;case 5:zp(s);break;case 4:To();break;case 13:_t(At);break;case 19:_t(At);break;case 10:Lp(s.type._context);break;case 22:case 23:ex()}n=n.return}if(Xt=e,qt=e=va(e.current,null),sn=Qn=t,Kt=0,nc=null,Zp=ef=hi=0,Fn=Il=null,Ya!==null){for(t=0;t<Ya.length;t++)if(n=Ya[t],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}n.pending=s}Ya=null}return e}function aS(e,t){do{var n=qt;try{if(Op(),Ed.current=uu,du){for(var s=Rt.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}du=!1}if(mi=0,Gt=Qt=Rt=null,Al=!1,Jl=0,Gp.current=null,n===null||n.return===null){Kt=1,nc=t,qt=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=sn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var u=f.alternate;u?(f.updateQueue=u.updateQueue,f.memoizedState=u.memoizedState,f.lanes=u.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=hy(o);if(y!==null){y.flags&=-257,py(y,o,l,i,t),y.mode&1&&my(i,d,t),t=y,c=d;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){my(i,d,t),tx();break e}c=Error(te(426))}}else if(Tt&&l.mode&1){var j=hy(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),py(j,o,l,i,t),Fp(Eo(c,l));break e}}i=c=Eo(c,l),Kt!==4&&(Kt=2),Il===null?Il=[i]:Il.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=z1(i,c,t);oy(i,x);break e;case 1:l=c;var p=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ga===null||!ga.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=U1(i,l,t);oy(i,w);break e}}i=i.return}while(i!==null)}lS(n)}catch(C){t=C,qt===n&&n!==null&&(qt=n=n.return);continue}break}while(!0)}function iS(){var e=fu.current;return fu.current=uu,e===null?uu:e}function tx(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),Xt===null||!(hi&268435455)&&!(ef&268435455)||Js(Xt,sn)}function pu(e,t){var n=ot;ot|=2;var s=iS();(Xt!==e||sn!==t)&&(js=null,ai(e,t));do try{xA();break}catch(a){aS(e,a)}while(!0);if(Op(),ot=n,fu.current=s,qt!==null)throw Error(te(261));return Xt=null,sn=0,Kt}function xA(){for(;qt!==null;)oS(qt)}function gA(){for(;qt!==null&&!zE();)oS(qt)}function oS(e){var t=dS(e.alternate,e,Qn);e.memoizedProps=e.pendingProps,t===null?lS(e):qt=t,Gp.current=null}function lS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=dA(n,t),n!==null){n.flags&=32767,qt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Kt=6,qt=null;return}}else if(n=cA(n,t,Qn),n!==null){qt=n;return}if(t=t.sibling,t!==null){qt=t;return}qt=t=e}while(t!==null);Kt===0&&(Kt=5)}function Wa(e,t,n){var s=ht,a=xr.transition;try{xr.transition=null,ht=1,yA(e,t,n,s)}finally{xr.transition=a,ht=s}return null}function yA(e,t,n,s){do ro();while(ua!==null);if(ot&6)throw Error(te(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(te(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(XE(e,i),e===Xt&&(qt=Xt=null,sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ud||(ud=!0,uS(Gd,function(){return ro(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=xr.transition,xr.transition=null;var o=ht;ht=1;var l=ot;ot|=4,Gp.current=null,fA(e,n),nS(n,e),LD(nh),Xd=!!th,nh=th=null,e.current=n,mA(n),UE(),ot=l,ht=o,xr.transition=i}else e.current=n;if(ud&&(ud=!1,ua=e,hu=a),i=e.pendingLanes,i===0&&(ga=null),QE(n.stateNode),Vn(e,zt()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(mu)throw mu=!1,e=wh,wh=null,e;return hu&1&&e.tag!==0&&ro(),i=e.pendingLanes,i&1?e===Nh?Fl++:(Fl=0,Nh=e):Fl=0,La(),null}function ro(){if(ua!==null){var e=zN(hu),t=xr.transition,n=ht;try{if(xr.transition=null,ht=16>e?16:e,ua===null)var s=!1;else{if(e=ua,ua=null,hu=0,ot&6)throw Error(te(331));var a=ot;for(ot|=4,be=e.current;be!==null;){var i=be,o=i.child;if(be.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(be=d;be!==null;){var f=be;switch(f.tag){case 0:case 11:case 15:Rl(8,f,i)}var m=f.child;if(m!==null)m.return=f,be=m;else for(;be!==null;){f=be;var u=f.sibling,y=f.return;if(J1(f),f===d){be=null;break}if(u!==null){u.return=y,be=u;break}be=y}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var j=g.sibling;g.sibling=null,g=j}while(g!==null)}}be=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,be=o;else e:for(;be!==null;){if(i=be,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Rl(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,be=x;break e}be=i.return}}var p=e.current;for(be=p;be!==null;){o=be;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,be=b;else e:for(o=p;be!==null;){if(l=be,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ju(9,l)}}catch(C){Lt(l,l.return,C)}if(l===o){be=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,be=w;break e}be=l.return}}if(ot=a,La(),ss&&typeof ss.onPostCommitFiberRoot=="function")try{ss.onPostCommitFiberRoot(Wu,e)}catch{}s=!0}return s}finally{ht=n,xr.transition=t}}return!1}function ky(e,t,n){t=Eo(n,t),t=z1(e,t,1),e=xa(e,t,1),t=_n(),e!==null&&(kc(e,1,t),Vn(e,t))}function Lt(e,t,n){if(e.tag===3)ky(e,e,n);else for(;t!==null;){if(t.tag===3){ky(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ga===null||!ga.has(s))){e=Eo(n,e),e=U1(t,e,1),t=xa(t,e,1),e=_n(),t!==null&&(kc(t,1,e),Vn(t,e));break}}t=t.return}}function vA(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=_n(),e.pingedLanes|=e.suspendedLanes&n,Xt===e&&(sn&n)===n&&(Kt===4||Kt===3&&(sn&130023424)===sn&&500>zt()-Xp?ai(e,0):Zp|=n),Vn(e,t)}function cS(e,t){t===0&&(e.mode&1?(t=td,td<<=1,!(td&130023424)&&(td=4194304)):t=1);var n=_n();e=Is(e,t),e!==null&&(kc(e,t,n),Vn(e,n))}function bA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),cS(e,n)}function jA(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(te(314))}s!==null&&s.delete(t),cS(e,n)}var dS;dS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ln.current)Mn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Mn=!1,lA(e,t,n);Mn=!!(e.flags&131072)}else Mn=!1,Tt&&t.flags&1048576&&h1(t,au,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Ad(e,t),e=t.pendingProps;var a=Po(t,xn.current);no(t,n),a=Wp(null,t,s,e,a,n);var i=Qp();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$n(s)?(i=!0,ru(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Vp(t),a.updater=Xu,t.stateNode=a,a._reactInternals=t,uh(t,s,e,n),t=hh(null,t,s,!0,i,n)):(t.tag=0,Tt&&i&&Rp(t),wn(null,t,a,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Ad(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=NA(s),e=Sr(s,e),a){case 0:t=mh(null,t,s,e,n);break e;case 1:t=yy(null,t,s,e,n);break e;case 11:t=xy(null,t,s,e,n);break e;case 14:t=gy(null,t,s,Sr(s.type,e),n);break e}throw Error(te(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Sr(s,a),mh(e,t,s,a,n);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Sr(s,a),yy(e,t,s,a,n);case 3:e:{if(H1(t),e===null)throw Error(te(387));s=t.pendingProps,i=t.memoizedState,a=i.element,b1(e,t),lu(t,s,null,n);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Eo(Error(te(423)),t),t=vy(e,t,s,n,a);break e}else if(s!==a){a=Eo(Error(te(424)),t),t=vy(e,t,s,n,a);break e}else for(Xn=pa(t.stateNode.containerInfo.firstChild),Jn=t,Tt=!0,_r=null,n=y1(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_o(),s===a){t=Fs(e,t,n);break e}wn(e,t,s,n)}t=t.child}return t;case 5:return j1(t),e===null&&lh(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,rh(s,a)?o=null:i!==null&&rh(s,i)&&(t.flags|=32),Q1(e,t),wn(e,t,o,n),t.child;case 6:return e===null&&lh(t),null;case 13:return K1(e,t,n);case 4:return Bp(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ko(t,null,s,n):wn(e,t,s,n),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Sr(s,a),xy(e,t,s,a,n);case 7:return wn(e,t,t.pendingProps,n),t.child;case 8:return wn(e,t,t.pendingProps.children,n),t.child;case 12:return wn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Nt(iu,s._currentValue),s._currentValue=o,i!==null)if(Lr(i.value,o)){if(i.children===a.children&&!Ln.current){t=Fs(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=ks(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),ch(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(te(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ch(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}wn(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,no(t,n),a=yr(a),s=s(a),t.flags|=1,wn(e,t,s,n),t.child;case 14:return s=t.type,a=Sr(s,t.pendingProps),a=Sr(s.type,a),gy(e,t,s,a,n);case 15:return q1(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Sr(s,a),Ad(e,t),t.tag=1,$n(s)?(e=!0,ru(t)):e=!1,no(t,n),B1(t,s,a),uh(t,s,a,n),hh(null,t,s,!0,e,n);case 19:return Y1(e,t,n);case 22:return W1(e,t,n)}throw Error(te(156,t.tag))};function uS(e,t){return LN(e,t)}function wA(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(e,t,n,s){return new wA(e,t,n,s)}function nx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function NA(e){if(typeof e=="function")return nx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===jp)return 11;if(e===wp)return 14}return 2}function va(e,t){var n=e.alternate;return n===null?(n=pr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fd(e,t,n,s,a,i){var o=2;if(s=e,typeof e=="function")nx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case $i:return ii(n.children,a,i,t);case bp:o=8,a|=8;break;case Fm:return e=pr(12,n,t,a|2),e.elementType=Fm,e.lanes=i,e;case Mm:return e=pr(13,n,t,a),e.elementType=Mm,e.lanes=i,e;case Om:return e=pr(19,n,t,a),e.elementType=Om,e.lanes=i,e;case jN:return tf(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vN:o=10;break e;case bN:o=9;break e;case jp:o=11;break e;case wp:o=14;break e;case Gs:o=16,s=null;break e}throw Error(te(130,e==null?e:typeof e,""))}return t=pr(o,n,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function ii(e,t,n,s){return e=pr(7,e,s,t),e.lanes=n,e}function tf(e,t,n,s){return e=pr(22,e,s,t),e.elementType=jN,e.lanes=n,e.stateNode={isHidden:!1},e}function tm(e,t,n){return e=pr(6,e,null,t),e.lanes=n,e}function nm(e,t,n){return t=pr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function SA(e,t,n,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mf(0),this.expirationTimes=Mf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mf(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function rx(e,t,n,s,a,i,o,l,c){return e=new SA(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=pr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vp(i),e}function CA(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Li,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function fS(e){if(!e)return wa;e=e._reactInternals;e:{if(Ti(e)!==e||e.tag!==1)throw Error(te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($n(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(te(171))}if(e.tag===1){var n=e.type;if($n(n))return f1(e,n,t)}return t}function mS(e,t,n,s,a,i,o,l,c){return e=rx(n,s,!0,e,a,i,o,l,c),e.context=fS(null),n=e.current,s=_n(),a=ya(n),i=ks(s,a),i.callback=t??null,xa(n,i,a),e.current.lanes=a,kc(e,a,s),Vn(e,s),e}function nf(e,t,n,s){var a=t.current,i=_n(),o=ya(a);return n=fS(n),t.context===null?t.context=n:t.pendingContext=n,t=ks(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=xa(a,t,o),e!==null&&(Fr(e,a,o,i),Td(e,a,o)),o}function xu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ty(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sx(e,t){Ty(e,t),(e=e.alternate)&&Ty(e,t)}function PA(){return null}var hS=typeof reportError=="function"?reportError:function(e){console.error(e)};function ax(e){this._internalRoot=e}rf.prototype.render=ax.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(te(409));nf(e,t,null,null)};rf.prototype.unmount=ax.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pi(function(){nf(null,e,null,null)}),t[Rs]=null}};function rf(e){this._internalRoot=e}rf.prototype.unstable_scheduleHydration=function(e){if(e){var t=WN();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xs.length&&t!==0&&t<Xs[n].priority;n++);Xs.splice(n,0,e),n===0&&HN(e)}};function ix(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ey(){}function _A(e,t,n,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=xu(o);i.call(d)}}var o=mS(t,s,e,0,null,!1,!1,"",Ey);return e._reactRootContainer=o,e[Rs]=o.current,Kl(e.nodeType===8?e.parentNode:e),pi(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=xu(c);l.call(d)}}var c=rx(e,0,!1,null,null,!1,!1,"",Ey);return e._reactRootContainer=c,e[Rs]=c.current,Kl(e.nodeType===8?e.parentNode:e),pi(function(){nf(t,c,n,s)}),c}function af(e,t,n,s,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=xu(o);l.call(c)}}nf(t,o,e,a)}else o=_A(n,t,e,a,s);return xu(o)}UN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vl(t.pendingLanes);n!==0&&(Cp(t,n|1),Vn(t,zt()),!(ot&6)&&(Do=zt()+500,La()))}break;case 13:pi(function(){var s=Is(e,1);if(s!==null){var a=_n();Fr(s,e,1,a)}}),sx(e,1)}};Pp=function(e){if(e.tag===13){var t=Is(e,134217728);if(t!==null){var n=_n();Fr(t,e,134217728,n)}sx(e,134217728)}};qN=function(e){if(e.tag===13){var t=ya(e),n=Is(e,t);if(n!==null){var s=_n();Fr(n,e,t,s)}sx(e,t)}};WN=function(){return ht};QN=function(e,t){var n=ht;try{return ht=e,t()}finally{ht=n}};Hm=function(e,t,n){switch(t){case"input":if(Vm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=Yu(s);if(!a)throw Error(te(90));NN(s),Vm(s,a)}}}break;case"textarea":CN(e,n);break;case"select":t=n.value,t!=null&&Xi(e,!!n.multiple,t,!1)}};AN=Jp;RN=pi;var kA={usingClientEntryPoint:!1,Events:[Ec,Ui,Yu,EN,DN,Jp]},dl={findFiberByHostInstance:Ka,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TA={bundleType:dl.bundleType,version:dl.version,rendererPackageName:dl.rendererPackageName,rendererConfig:dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=MN(e),e===null?null:e.stateNode},findFiberByHostInstance:dl.findFiberByHostInstance||PA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{Wu=fd.inject(TA),ss=fd}catch{}}ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kA;ar.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ix(t))throw Error(te(200));return CA(e,t,null,n)};ar.createRoot=function(e,t){if(!ix(e))throw Error(te(299));var n=!1,s="",a=hS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=rx(e,1,!1,null,null,n,!1,s,a),e[Rs]=t.current,Kl(e.nodeType===8?e.parentNode:e),new ax(t)};ar.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(te(188)):(e=Object.keys(e).join(","),Error(te(268,e)));return e=MN(t),e=e===null?null:e.stateNode,e};ar.flushSync=function(e){return pi(e)};ar.hydrate=function(e,t,n){if(!sf(t))throw Error(te(200));return af(null,e,t,!0,n)};ar.hydrateRoot=function(e,t,n){if(!ix(e))throw Error(te(405));var s=n!=null&&n.hydratedSources||null,a=!1,i="",o=hS;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=mS(t,null,e,1,n??null,a,!1,i,o),e[Rs]=t.current,Kl(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new rf(t)};ar.render=function(e,t,n){if(!sf(t))throw Error(te(200));return af(null,e,t,!1,n)};ar.unmountComponentAtNode=function(e){if(!sf(e))throw Error(te(40));return e._reactRootContainer?(pi(function(){af(null,null,e,!1,function(){e._reactRootContainer=null,e[Rs]=null})}),!0):!1};ar.unstable_batchedUpdates=Jp;ar.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!sf(n))throw Error(te(200));if(e==null||e._reactInternals===void 0)throw Error(te(38));return af(e,t,n,!1,s)};ar.version="18.3.1-next-f1338f8080-20240426";function pS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pS)}catch(e){console.error(e)}}pS(),pN.exports=ar;var Ei=pN.exports;const EA=nN(Ei);var xS,Dy=Ei;xS=Dy.createRoot,Dy.hydrateRoot;function DA(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,s,a,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)n=a[0],n==="*"?(o.push(n),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(s=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~s?s:~i?i:a.length)),l+=~s&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~s?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var gS={exports:{}},yS={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ao=h;function AA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var RA=typeof Object.is=="function"?Object.is:AA,IA=Ao.useState,FA=Ao.useEffect,MA=Ao.useLayoutEffect,OA=Ao.useDebugValue;function LA(e,t){var n=t(),s=IA({inst:{value:n,getSnapshot:t}}),a=s[0].inst,i=s[1];return MA(function(){a.value=n,a.getSnapshot=t,rm(a)&&i({inst:a})},[e,n,t]),FA(function(){return rm(a)&&i({inst:a}),e(function(){rm(a)&&i({inst:a})})},[e]),OA(n),n}function rm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!RA(e,n)}catch{return!0}}function $A(e,t){return t()}var VA=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$A:LA;yS.useSyncExternalStore=Ao.useSyncExternalStore!==void 0?Ao.useSyncExternalStore:VA;gS.exports=yS;var BA=gS.exports;const zA=mN.useInsertionEffect,UA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qA=UA?h.useLayoutEffect:h.useEffect,WA=zA||qA,vS=e=>{const t=h.useRef([e,(...n)=>t[0](...n)]).current;return WA(()=>{t[0]=e}),t[1]},QA="popstate",ox="pushState",lx="replaceState",HA="hashchange",Ay=[QA,ox,lx,HA],KA=e=>{for(const t of Ay)addEventListener(t,e);return()=>{for(const t of Ay)removeEventListener(t,e)}},bS=(e,t)=>BA.useSyncExternalStore(KA,e,t),YA=()=>location.search,GA=({ssrSearch:e=""}={})=>bS(YA,()=>e),Ry=()=>location.pathname,ZA=({ssrPath:e}={})=>bS(Ry,e?()=>e:Ry),XA=(e,{replace:t=!1,state:n=null}={})=>history[t?lx:ox](n,"",e),JA=(e={})=>[ZA(e),XA],Iy=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Iy]>"u"){for(const e of[ox,lx]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),s=new Event(e);return s.arguments=arguments,dispatchEvent(s),n}}Object.defineProperty(window,Iy,{value:!0})}const eR=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",jS=(e="")=>e==="/"?"":e,tR=(e,t)=>e[0]==="~"?e.slice(1):jS(t)+e,nR=(e="",t)=>eR(Fy(jS(e)),Fy(t)),Fy=e=>{try{return decodeURI(e)}catch{return e}},wS={hook:JA,searchHook:GA,parser:DA,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},NS=h.createContext(wS),Ho=()=>h.useContext(NS),SS={},CS=h.createContext(SS),rR=()=>h.useContext(CS),of=e=>{const[t,n]=e.hook(e);return[nR(e.base,t),vS((s,a)=>n(tR(s,e.base),a))]},Ac=()=>of(Ho()),cx=(e,t,n,s)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",s),o=a.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((m,u)=>[m,c[u]])):o.groups;let f={...c};return d&&Object.assign(f,d),f})(),...s?[l]:[]]:[!1,null]},sR=e=>cx(Ho().parser,e,Ac()[0]),aR=({children:e,...t})=>{var f,m;const n=Ho(),s=t.hook?wS:n;let a=s;const[i,o]=((f=t.ssrPath)==null?void 0:f.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((m=t.hook)==null?void 0:m.hrefs);let l=h.useRef({}),c=l.current,d=c;for(let u in s){const y=u==="base"?s[u]+(t[u]||""):t[u]||s[u];c===d&&y!==d[u]&&(l.current=d={...d}),d[u]=y,y!==s[u]&&(a=d)}return h.createElement(NS.Provider,{value:a,children:e})},My=({children:e,component:t},n)=>t?h.createElement(t,{params:n}):typeof e=="function"?e(n):e,iR=e=>{let t=h.useRef(SS),n=t.current;for(const s in e)e[s]!==n[s]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},lr=({path:e,nest:t,match:n,...s})=>{const a=Ho(),[i]=of(a),[o,l,c]=n??cx(a.parser,e,i,t),d=iR({...rR(),...l});if(!o)return null;const f=c?h.createElement(aR,{base:c},My(s,d)):My(s,d);return h.createElement(CS.Provider,{value:d,children:f})},Oy=h.forwardRef((e,t)=>{const n=Ho(),[s,a]=of(n),{to:i="",href:o=i,onClick:l,asChild:c,children:d,className:f,replace:m,state:u,...y}=e,v=vS(j=>{j.ctrlKey||j.metaKey||j.altKey||j.shiftKey||j.button!==0||(l==null||l(j),j.defaultPrevented||(j.preventDefault(),a(o,e)))}),g=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&h.isValidElement(d)?h.cloneElement(d,{onClick:v,href:g}):h.createElement("a",{...y,onClick:v,href:g,className:f!=null&&f.call?f(s===o):f,children:d,ref:t})}),PS=e=>Array.isArray(e)?e.flatMap(t=>PS(t&&t.type===h.Fragment?t.props.children:t)):[e],oR=({children:e,location:t})=>{const n=Ho(),[s]=of(n);for(const a of PS(e)){let i=0;if(h.isValidElement(a)&&(i=cx(n.parser,a.props.path,t||s,a.props.nest))[0])return h.cloneElement(a,{match:i})}return null};var Ko=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xi=typeof window>"u"||"Deno"in globalThis;function dr(){}function lR(e,t){return typeof e=="function"?e(t):e}function Ph(e){return typeof e=="number"&&e>=0&&e!==1/0}function _S(e,t){return Math.max(e+(t||0)-Date.now(),0)}function so(e,t){return typeof e=="function"?e(t):e}function kr(e,t){return typeof e=="function"?e(t):e}function Ly(e,t){const{type:n="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==dx(o,t.options))return!1}else if(!rc(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function $y(e,t){const{exact:n,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(gi(t.options.mutationKey)!==gi(i))return!1}else if(!rc(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function dx(e,t){return((t==null?void 0:t.queryKeyHashFn)||gi)(e)}function gi(e){return JSON.stringify(e,(t,n)=>_h(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function rc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!rc(e[n],t[n])):!1}function kS(e,t){if(e===t)return e;const n=Vy(e)&&Vy(t);if(n||_h(e)&&_h(t)){const s=n?e:Object.keys(e),a=s.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{};let c=0;for(let d=0;d<o;d++){const f=n?d:i[d];(!n&&s.includes(f)||n)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,c++):(l[f]=kS(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function gu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Vy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function _h(e){if(!By(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!By(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function By(e){return Object.prototype.toString.call(e)==="[object Object]"}function cR(e){return new Promise(t=>{setTimeout(t,e)})}function kh(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?kS(e,t):t}function dR(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function uR(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var ux=Symbol();function TS(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ux?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Xa,ta,fo,d0,fR=(d0=class extends Ko{constructor(){super();Ae(this,Xa);Ae(this,ta);Ae(this,fo);ge(this,fo,t=>{if(!xi&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){A(this,ta)||this.setEventListener(A(this,fo))}onUnsubscribe(){var t;this.hasListeners()||((t=A(this,ta))==null||t.call(this),ge(this,ta,void 0))}setEventListener(t){var n;ge(this,fo,t),(n=A(this,ta))==null||n.call(this),ge(this,ta,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){A(this,Xa)!==t&&(ge(this,Xa,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof A(this,Xa)=="boolean"?A(this,Xa):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Xa=new WeakMap,ta=new WeakMap,fo=new WeakMap,d0),fx=new fR,mo,na,ho,u0,mR=(u0=class extends Ko{constructor(){super();Ae(this,mo,!0);Ae(this,na);Ae(this,ho);ge(this,ho,t=>{if(!xi&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){A(this,na)||this.setEventListener(A(this,ho))}onUnsubscribe(){var t;this.hasListeners()||((t=A(this,na))==null||t.call(this),ge(this,na,void 0))}setEventListener(t){var n;ge(this,ho,t),(n=A(this,na))==null||n.call(this),ge(this,na,t(this.setOnline.bind(this)))}setOnline(t){A(this,mo)!==t&&(ge(this,mo,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return A(this,mo)}},mo=new WeakMap,na=new WeakMap,ho=new WeakMap,u0),yu=new mR;function Th(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},n.reject=a=>{s({status:"rejected",reason:a}),t(a)},n}function hR(e){return Math.min(1e3*2**e,3e4)}function ES(e){return(e??"online")==="online"?yu.isOnline():!0}var DS=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function sm(e){return e instanceof DS}function AS(e){let t=!1,n=0,s=!1,a;const i=Th(),o=g=>{var j;s||(u(new DS(g)),(j=e.abort)==null||j.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>fx.isFocused()&&(e.networkMode==="always"||yu.isOnline())&&e.canRun(),f=()=>ES(e.networkMode)&&e.canRun(),m=g=>{var j;s||(s=!0,(j=e.onSuccess)==null||j.call(e,g),a==null||a(),i.resolve(g))},u=g=>{var j;s||(s=!0,(j=e.onError)==null||j.call(e,g),a==null||a(),i.reject(g))},y=()=>new Promise(g=>{var j;a=x=>{(s||d())&&g(x)},(j=e.onPause)==null||j.call(e)}).then(()=>{var g;a=void 0,s||(g=e.onContinue)==null||g.call(e)}),v=()=>{if(s)return;let g;const j=n===0?e.initialPromise:void 0;try{g=j??e.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(m).catch(x=>{var _;if(s)return;const p=e.retry??(xi?0:3),b=e.retryDelay??hR,w=typeof b=="function"?b(n,x):b,C=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,x);if(t||!C){u(x);return}n++,(_=e.onFail)==null||_.call(e,n,x),cR(w).then(()=>d()?void 0:y()).then(()=>{t?u(x):v()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?v():y().then(v),i)}}function pR(){let e=[],t=0,n=l=>{l()},s=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var Ht=pR(),Ja,f0,RS=(f0=class{constructor(){Ae(this,Ja)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ph(this.gcTime)&&ge(this,Ja,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xi?1/0:5*60*1e3))}clearGcTimeout(){A(this,Ja)&&(clearTimeout(A(this,Ja)),ge(this,Ja,void 0))}},Ja=new WeakMap,f0),po,xo,cr,un,Nc,ei,Cr,vs,m0,xR=(m0=class extends RS{constructor(t){super();Ae(this,Cr);Ae(this,po);Ae(this,xo);Ae(this,cr);Ae(this,un);Ae(this,Nc);Ae(this,ei);ge(this,ei,!1),ge(this,Nc,t.defaultOptions),this.setOptions(t.options),this.observers=[],ge(this,cr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ge(this,po,gR(this.options)),this.state=t.state??A(this,po),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=A(this,un))==null?void 0:t.promise}setOptions(t){this.options={...A(this,Nc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&A(this,cr).remove(this)}setData(t,n){const s=kh(this.state.data,t,this.options);return Ze(this,Cr,vs).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){Ze(this,Cr,vs).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,a;const n=(s=A(this,un))==null?void 0:s.promise;return(a=A(this,un))==null||a.cancel(t),n?n.then(dr).catch(dr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(A(this,po))}isActive(){return this.observers.some(t=>kr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ux||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!_S(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=A(this,un))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=A(this,un))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),A(this,cr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(A(this,un)&&(A(this,ei)?A(this,un).cancel({revert:!0}):A(this,un).cancelRetry()),this.scheduleGc()),A(this,cr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ze(this,Cr,vs).call(this,{type:"invalidate"})}fetch(t,n){var c,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(A(this,un))return A(this,un).continueRetry(),A(this,un).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(u=>u.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(ge(this,ei,!0),s.signal)})},i=()=>{const m=TS(this.options,n),u={queryKey:this.queryKey,meta:this.meta};return a(u),ge(this,ei,!1),this.options.persister?this.options.persister(m,u,this):m(u)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),ge(this,xo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Ze(this,Cr,vs).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const l=m=>{var u,y,v,g;sm(m)&&m.silent||Ze(this,Cr,vs).call(this,{type:"error",error:m}),sm(m)||((y=(u=A(this,cr).config).onError)==null||y.call(u,m,this),(g=(v=A(this,cr).config).onSettled)==null||g.call(v,this.state.data,m,this)),this.scheduleGc()};return ge(this,un,AS({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var u,y,v,g;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(j){l(j);return}(y=(u=A(this,cr).config).onSuccess)==null||y.call(u,m,this),(g=(v=A(this,cr).config).onSettled)==null||g.call(v,m,this.state.error,this),this.scheduleGc()},onError:l,onFail:(m,u)=>{Ze(this,Cr,vs).call(this,{type:"failed",failureCount:m,error:u})},onPause:()=>{Ze(this,Cr,vs).call(this,{type:"pause"})},onContinue:()=>{Ze(this,Cr,vs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),A(this,un).start()}},po=new WeakMap,xo=new WeakMap,cr=new WeakMap,un=new WeakMap,Nc=new WeakMap,ei=new WeakMap,Cr=new WeakSet,vs=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...IS(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return sm(a)&&a.revert&&A(this,xo)?{...A(this,xo),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),Ht.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),A(this,cr).notify({query:this,type:"updated",action:t})})},m0);function IS(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ES(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function gR(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Gr,h0,yR=(h0=class extends Ko{constructor(t={}){super();Ae(this,Gr);this.config=t,ge(this,Gr,new Map)}build(t,n,s){const a=n.queryKey,i=n.queryHash??dx(a,n);let o=this.get(i);return o||(o=new xR({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){A(this,Gr).has(t.queryHash)||(A(this,Gr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=A(this,Gr).get(t.queryHash);n&&(t.destroy(),n===t&&A(this,Gr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ht.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return A(this,Gr).get(t)}getAll(){return[...A(this,Gr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>Ly(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>Ly(t,s)):n}notify(t){Ht.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ht.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ht.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Gr=new WeakMap,h0),Zr,vn,ti,Xr,Ks,p0,vR=(p0=class extends RS{constructor(t){super();Ae(this,Xr);Ae(this,Zr);Ae(this,vn);Ae(this,ti);this.mutationId=t.mutationId,ge(this,vn,t.mutationCache),ge(this,Zr,[]),this.state=t.state||FS(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){A(this,Zr).includes(t)||(A(this,Zr).push(t),this.clearGcTimeout(),A(this,vn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ge(this,Zr,A(this,Zr).filter(n=>n!==t)),this.scheduleGc(),A(this,vn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){A(this,Zr).length||(this.state.status==="pending"?this.scheduleGc():A(this,vn).remove(this))}continue(){var t;return((t=A(this,ti))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,d,f,m,u,y,v,g,j,x,p,b,w,C,_,N;ge(this,ti,AS({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,F)=>{Ze(this,Xr,Ks).call(this,{type:"failed",failureCount:k,error:F})},onPause:()=>{Ze(this,Xr,Ks).call(this,{type:"pause"})},onContinue:()=>{Ze(this,Xr,Ks).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>A(this,vn).canRun(this)}));const n=this.state.status==="pending",s=!A(this,ti).canStart();try{if(!n){Ze(this,Xr,Ks).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(a=A(this,vn).config).onMutate)==null?void 0:i.call(a,t,this));const F=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));F!==this.state.context&&Ze(this,Xr,Ks).call(this,{type:"pending",context:F,variables:t,isPaused:s})}const k=await A(this,ti).start();return await((d=(c=A(this,vn).config).onSuccess)==null?void 0:d.call(c,k,t,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,k,t,this.state.context)),await((y=(u=A(this,vn).config).onSettled)==null?void 0:y.call(u,k,null,this.state.variables,this.state.context,this)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,k,null,t,this.state.context)),Ze(this,Xr,Ks).call(this,{type:"success",data:k}),k}catch(k){try{throw await((x=(j=A(this,vn).config).onError)==null?void 0:x.call(j,k,t,this.state.context,this)),await((b=(p=this.options).onError)==null?void 0:b.call(p,k,t,this.state.context)),await((C=(w=A(this,vn).config).onSettled)==null?void 0:C.call(w,void 0,k,this.state.variables,this.state.context,this)),await((N=(_=this.options).onSettled)==null?void 0:N.call(_,void 0,k,t,this.state.context)),k}finally{Ze(this,Xr,Ks).call(this,{type:"error",error:k})}}finally{A(this,vn).runNext(this)}}},Zr=new WeakMap,vn=new WeakMap,ti=new WeakMap,Xr=new WeakSet,Ks=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ht.batch(()=>{A(this,Zr).forEach(s=>{s.onMutationUpdate(t)}),A(this,vn).notify({mutation:this,type:"updated",action:t})})},p0);function FS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wn,Sc,x0,bR=(x0=class extends Ko{constructor(t={}){super();Ae(this,Wn);Ae(this,Sc);this.config=t,ge(this,Wn,new Map),ge(this,Sc,Date.now())}build(t,n,s){const a=new vR({mutationCache:this,mutationId:++Yc(this,Sc)._,options:t.defaultMutationOptions(n),state:s});return this.add(a),a}add(t){const n=md(t),s=A(this,Wn).get(n)??[];s.push(t),A(this,Wn).set(n,s),this.notify({type:"added",mutation:t})}remove(t){var s;const n=md(t);if(A(this,Wn).has(n)){const a=(s=A(this,Wn).get(n))==null?void 0:s.filter(i=>i!==t);a&&(a.length===0?A(this,Wn).delete(n):A(this,Wn).set(n,a))}this.notify({type:"removed",mutation:t})}canRun(t){var s;const n=(s=A(this,Wn).get(md(t)))==null?void 0:s.find(a=>a.state.status==="pending");return!n||n===t}runNext(t){var s;const n=(s=A(this,Wn).get(md(t)))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Ht.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...A(this,Wn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(s=>$y(n,s))}findAll(t={}){return this.getAll().filter(n=>$y(t,n))}notify(t){Ht.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ht.batch(()=>Promise.all(t.map(n=>n.continue().catch(dr))))}},Wn=new WeakMap,Sc=new WeakMap,x0);function md(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function zy(e){return{onFetch:(t,n)=>{var f,m,u,y,v;const s=t.options,a=(u=(m=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:m.fetchMore)==null?void 0:u.direction,i=((y=t.state.data)==null?void 0:y.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const j=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},x=TS(t.options,t.fetchOptions),p=async(b,w,C)=>{if(g)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const _={queryKey:t.queryKey,pageParam:w,direction:C?"backward":"forward",meta:t.options.meta};j(_);const N=await x(_),{maxPages:k}=t.options,F=C?uR:dR;return{pages:F(b.pages,N,k),pageParams:F(b.pageParams,w,k)}};if(a&&i.length){const b=a==="backward",w=b?jR:Uy,C={pages:i,pageParams:o},_=w(s,C);l=await p(C,_,b)}else{const b=e??i.length;do{const w=c===0?o[0]??s.initialPageParam:Uy(s,l);if(c>0&&w==null)break;l=await p(l,w),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,j;return(j=(g=t.options).persister)==null?void 0:j.call(g,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function Uy(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function jR(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var Ot,ra,sa,go,yo,aa,vo,bo,g0,wR=(g0=class{constructor(e={}){Ae(this,Ot);Ae(this,ra);Ae(this,sa);Ae(this,go);Ae(this,yo);Ae(this,aa);Ae(this,vo);Ae(this,bo);ge(this,Ot,e.queryCache||new yR),ge(this,ra,e.mutationCache||new bR),ge(this,sa,e.defaultOptions||{}),ge(this,go,new Map),ge(this,yo,new Map),ge(this,aa,0)}mount(){Yc(this,aa)._++,A(this,aa)===1&&(ge(this,vo,fx.subscribe(async e=>{e&&(await this.resumePausedMutations(),A(this,Ot).onFocus())})),ge(this,bo,yu.subscribe(async e=>{e&&(await this.resumePausedMutations(),A(this,Ot).onOnline())})))}unmount(){var e,t;Yc(this,aa)._--,A(this,aa)===0&&((e=A(this,vo))==null||e.call(this),ge(this,vo,void 0),(t=A(this,bo))==null||t.call(this),ge(this,bo,void 0))}isFetching(e){return A(this,Ot).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return A(this,ra).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=A(this,Ot).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),s=A(this,Ot).build(this,n);return e.revalidateIfStale&&s.isStaleByTime(so(n.staleTime,s))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return A(this,Ot).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),a=A(this,Ot).get(s.queryHash),i=a==null?void 0:a.state.data,o=lR(t,i);if(o!==void 0)return A(this,Ot).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Ht.batch(()=>A(this,Ot).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=A(this,Ot).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=A(this,Ot);Ht.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=A(this,Ot),s={type:"active",...e};return Ht.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},s=Ht.batch(()=>A(this,Ot).findAll(e).map(a=>a.cancel(n)));return Promise.all(s).then(dr).catch(dr)}invalidateQueries(e={},t={}){return Ht.batch(()=>{if(A(this,Ot).findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},s=Ht.batch(()=>A(this,Ot).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(dr)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(dr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=A(this,Ot).build(this,t);return n.isStaleByTime(so(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(dr).catch(dr)}fetchInfiniteQuery(e){return e.behavior=zy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(dr).catch(dr)}ensureInfiniteQueryData(e){return e.behavior=zy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return yu.isOnline()?A(this,ra).resumePausedMutations():Promise.resolve()}getQueryCache(){return A(this,Ot)}getMutationCache(){return A(this,ra)}getDefaultOptions(){return A(this,sa)}setDefaultOptions(e){ge(this,sa,e)}setQueryDefaults(e,t){A(this,go).set(gi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...A(this,go).values()];let n={};return t.forEach(s=>{rc(e,s.queryKey)&&(n={...n,...s.defaultOptions})}),n}setMutationDefaults(e,t){A(this,yo).set(gi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...A(this,yo).values()];let n={};return t.forEach(s=>{rc(e,s.mutationKey)&&(n={...n,...s.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...A(this,sa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=dx(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===ux&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...A(this,sa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){A(this,Ot).clear(),A(this,ra).clear()}},Ot=new WeakMap,ra=new WeakMap,sa=new WeakMap,go=new WeakMap,yo=new WeakMap,aa=new WeakMap,vo=new WeakMap,bo=new WeakMap,g0),Rn,nt,Cc,bn,ni,jo,ia,Jr,Pc,wo,No,ri,si,oa,So,ut,jl,Eh,Dh,Ah,Rh,Ih,Fh,Mh,MS,y0,NR=(y0=class extends Ko{constructor(t,n){super();Ae(this,ut);Ae(this,Rn);Ae(this,nt);Ae(this,Cc);Ae(this,bn);Ae(this,ni);Ae(this,jo);Ae(this,ia);Ae(this,Jr);Ae(this,Pc);Ae(this,wo);Ae(this,No);Ae(this,ri);Ae(this,si);Ae(this,oa);Ae(this,So,new Set);this.options=n,ge(this,Rn,t),ge(this,Jr,null),ge(this,ia,Th()),this.options.experimental_prefetchInRender||A(this,ia).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(A(this,nt).addObserver(this),qy(A(this,nt),this.options)?Ze(this,ut,jl).call(this):this.updateResult(),Ze(this,ut,Rh).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Oh(A(this,nt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Oh(A(this,nt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ze(this,ut,Ih).call(this),Ze(this,ut,Fh).call(this),A(this,nt).removeObserver(this)}setOptions(t,n){const s=this.options,a=A(this,nt);if(this.options=A(this,Rn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof kr(this.options.enabled,A(this,nt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ze(this,ut,Mh).call(this),A(this,nt).setOptions(this.options),s._defaulted&&!gu(this.options,s)&&A(this,Rn).getQueryCache().notify({type:"observerOptionsUpdated",query:A(this,nt),observer:this});const i=this.hasListeners();i&&Wy(A(this,nt),a,this.options,s)&&Ze(this,ut,jl).call(this),this.updateResult(n),i&&(A(this,nt)!==a||kr(this.options.enabled,A(this,nt))!==kr(s.enabled,A(this,nt))||so(this.options.staleTime,A(this,nt))!==so(s.staleTime,A(this,nt)))&&Ze(this,ut,Eh).call(this);const o=Ze(this,ut,Dh).call(this);i&&(A(this,nt)!==a||kr(this.options.enabled,A(this,nt))!==kr(s.enabled,A(this,nt))||o!==A(this,oa))&&Ze(this,ut,Ah).call(this,o)}getOptimisticResult(t){const n=A(this,Rn).getQueryCache().build(A(this,Rn),t),s=this.createResult(n,t);return CR(this,s)&&(ge(this,bn,s),ge(this,jo,this.options),ge(this,ni,A(this,nt).state)),s}getCurrentResult(){return A(this,bn)}trackResult(t,n){const s={};return Object.keys(t).forEach(a=>{Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),n==null||n(a),t[a])})}),s}trackProp(t){A(this,So).add(t)}getCurrentQuery(){return A(this,nt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=A(this,Rn).defaultQueryOptions(t),s=A(this,Rn).getQueryCache().build(A(this,Rn),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return Ze(this,ut,jl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),A(this,bn)))}createResult(t,n){var k;const s=A(this,nt),a=this.options,i=A(this,bn),o=A(this,ni),l=A(this,jo),d=t!==s?t.state:A(this,Cc),{state:f}=t;let m={...f},u=!1,y;if(n._optimisticResults){const F=this.hasListeners(),L=!F&&qy(t,n),S=F&&Wy(t,s,n,a);(L||S)&&(m={...m,...IS(f.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:j}=m;if(n.select&&m.data!==void 0)if(i&&m.data===(o==null?void 0:o.data)&&n.select===A(this,Pc))y=A(this,wo);else try{ge(this,Pc,n.select),y=n.select(m.data),y=kh(i==null?void 0:i.data,y,n),ge(this,wo,y),ge(this,Jr,null)}catch(F){ge(this,Jr,F)}else y=m.data;if(n.placeholderData!==void 0&&y===void 0&&j==="pending"){let F;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))F=i.data;else if(F=typeof n.placeholderData=="function"?n.placeholderData((k=A(this,No))==null?void 0:k.state.data,A(this,No)):n.placeholderData,n.select&&F!==void 0)try{F=n.select(F),ge(this,Jr,null)}catch(L){ge(this,Jr,L)}F!==void 0&&(j="success",y=kh(i==null?void 0:i.data,F,n),u=!0)}A(this,Jr)&&(v=A(this,Jr),y=A(this,wo),g=Date.now(),j="error");const x=m.fetchStatus==="fetching",p=j==="pending",b=j==="error",w=p&&x,C=y!==void 0,N={status:j,fetchStatus:m.fetchStatus,isPending:p,isSuccess:j==="success",isError:b,isInitialLoading:w,isLoading:w,data:y,dataUpdatedAt:m.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:x,isRefetching:x&&!p,isLoadingError:b&&!C,isPaused:m.fetchStatus==="paused",isPlaceholderData:u,isRefetchError:b&&C,isStale:mx(t,n),refetch:this.refetch,promise:A(this,ia)};if(this.options.experimental_prefetchInRender){const F=D=>{N.status==="error"?D.reject(N.error):N.data!==void 0&&D.resolve(N.data)},L=()=>{const D=ge(this,ia,N.promise=Th());F(D)},S=A(this,ia);switch(S.status){case"pending":t.queryHash===s.queryHash&&F(S);break;case"fulfilled":(N.status==="error"||N.data!==S.value)&&L();break;case"rejected":(N.status!=="error"||N.error!==S.reason)&&L();break}}return N}updateResult(t){const n=A(this,bn),s=this.createResult(A(this,nt),this.options);if(ge(this,ni,A(this,nt).state),ge(this,jo,this.options),A(this,ni).data!==void 0&&ge(this,No,A(this,nt)),gu(s,n))return;ge(this,bn,s);const a={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!A(this,So).size)return!0;const c=new Set(l??A(this,So));return this.options.throwOnError&&c.add("error"),Object.keys(A(this,bn)).some(d=>{const f=d;return A(this,bn)[f]!==n[f]&&c.has(f)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),Ze(this,ut,MS).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ze(this,ut,Rh).call(this)}},Rn=new WeakMap,nt=new WeakMap,Cc=new WeakMap,bn=new WeakMap,ni=new WeakMap,jo=new WeakMap,ia=new WeakMap,Jr=new WeakMap,Pc=new WeakMap,wo=new WeakMap,No=new WeakMap,ri=new WeakMap,si=new WeakMap,oa=new WeakMap,So=new WeakMap,ut=new WeakSet,jl=function(t){Ze(this,ut,Mh).call(this);let n=A(this,nt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(dr)),n},Eh=function(){Ze(this,ut,Ih).call(this);const t=so(this.options.staleTime,A(this,nt));if(xi||A(this,bn).isStale||!Ph(t))return;const s=_S(A(this,bn).dataUpdatedAt,t)+1;ge(this,ri,setTimeout(()=>{A(this,bn).isStale||this.updateResult()},s))},Dh=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(A(this,nt)):this.options.refetchInterval)??!1},Ah=function(t){Ze(this,ut,Fh).call(this),ge(this,oa,t),!(xi||kr(this.options.enabled,A(this,nt))===!1||!Ph(A(this,oa))||A(this,oa)===0)&&ge(this,si,setInterval(()=>{(this.options.refetchIntervalInBackground||fx.isFocused())&&Ze(this,ut,jl).call(this)},A(this,oa)))},Rh=function(){Ze(this,ut,Eh).call(this),Ze(this,ut,Ah).call(this,Ze(this,ut,Dh).call(this))},Ih=function(){A(this,ri)&&(clearTimeout(A(this,ri)),ge(this,ri,void 0))},Fh=function(){A(this,si)&&(clearInterval(A(this,si)),ge(this,si,void 0))},Mh=function(){const t=A(this,Rn).getQueryCache().build(A(this,Rn),this.options);if(t===A(this,nt))return;const n=A(this,nt);ge(this,nt,t),ge(this,Cc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},MS=function(t){Ht.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(A(this,bn))}),A(this,Rn).getQueryCache().notify({query:A(this,nt),type:"observerResultsUpdated"})})},y0);function SR(e,t){return kr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function qy(e,t){return SR(e,t)||e.state.data!==void 0&&Oh(e,t,t.refetchOnMount)}function Oh(e,t,n){if(kr(t.enabled,e)!==!1){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&mx(e,t)}return!1}function Wy(e,t,n,s){return(e!==t||kr(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&mx(e,n)}function mx(e,t){return kr(t.enabled,e)!==!1&&e.isStaleByTime(so(t.staleTime,e))}function CR(e,t){return!gu(e.getCurrentResult(),t)}var la,ca,In,Ss,Ds,Md,Lh,v0,PR=(v0=class extends Ko{constructor(n,s){super();Ae(this,Ds);Ae(this,la);Ae(this,ca);Ae(this,In);Ae(this,Ss);ge(this,la,n),this.setOptions(s),this.bindMethods(),Ze(this,Ds,Md).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const s=this.options;this.options=A(this,la).defaultMutationOptions(n),gu(this.options,s)||A(this,la).getMutationCache().notify({type:"observerOptionsUpdated",mutation:A(this,In),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&gi(s.mutationKey)!==gi(this.options.mutationKey)?this.reset():((a=A(this,In))==null?void 0:a.state.status)==="pending"&&A(this,In).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=A(this,In))==null||n.removeObserver(this)}onMutationUpdate(n){Ze(this,Ds,Md).call(this),Ze(this,Ds,Lh).call(this,n)}getCurrentResult(){return A(this,ca)}reset(){var n;(n=A(this,In))==null||n.removeObserver(this),ge(this,In,void 0),Ze(this,Ds,Md).call(this),Ze(this,Ds,Lh).call(this)}mutate(n,s){var a;return ge(this,Ss,s),(a=A(this,In))==null||a.removeObserver(this),ge(this,In,A(this,la).getMutationCache().build(A(this,la),this.options)),A(this,In).addObserver(this),A(this,In).execute(n)}},la=new WeakMap,ca=new WeakMap,In=new WeakMap,Ss=new WeakMap,Ds=new WeakSet,Md=function(){var s;const n=((s=A(this,In))==null?void 0:s.state)??FS();ge(this,ca,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Lh=function(n){Ht.batch(()=>{var s,a,i,o,l,c,d,f;if(A(this,Ss)&&this.hasListeners()){const m=A(this,ca).variables,u=A(this,ca).context;(n==null?void 0:n.type)==="success"?((a=(s=A(this,Ss)).onSuccess)==null||a.call(s,n.data,m,u),(o=(i=A(this,Ss)).onSettled)==null||o.call(i,n.data,null,m,u)):(n==null?void 0:n.type)==="error"&&((c=(l=A(this,Ss)).onError)==null||c.call(l,n.error,m,u),(f=(d=A(this,Ss)).onSettled)==null||f.call(d,void 0,n.error,m,u))}this.listeners.forEach(m=>{m(A(this,ca))})})},v0),OS=h.createContext(void 0),qr=e=>{const t=h.useContext(OS);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},_R=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(OS.Provider,{value:e,children:t})),LS=h.createContext(!1),kR=()=>h.useContext(LS);LS.Provider;function TR(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ER=h.createContext(TR()),DR=()=>h.useContext(ER);function $S(e,t){return typeof e=="function"?e(...t):!!e}function $h(){}var AR=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},RR=e=>{h.useEffect(()=>{e.clearReset()},[e])},IR=({result:e,errorResetBoundary:t,throwOnError:n,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&$S(n,[e.error,s]),FR=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},MR=(e,t)=>e.isLoading&&e.isFetching&&!t,OR=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Qy=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function LR(e,t,n){var f,m,u,y,v;const s=qr(),a=kR(),i=DR(),o=s.defaultQueryOptions(e);(m=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,o),o._optimisticResults=a?"isRestoring":"optimistic",FR(o),AR(o,i),RR(i);const l=!s.getQueryCache().get(o.queryHash),[c]=h.useState(()=>new t(s,o)),d=c.getOptimisticResult(o);if(h.useSyncExternalStore(h.useCallback(g=>{const j=a?$h:c.subscribe(Ht.batchCalls(g));return c.updateResult(),j},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),h.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),OR(o,d))throw Qy(o,c,i);if(IR({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash)}))throw d.error;if((y=(u=s.getDefaultOptions().queries)==null?void 0:u._experimental_afterQuery)==null||y.call(u,o,d),o.experimental_prefetchInRender&&!xi&&MR(d,a)){const g=l?Qy(o,c,i):(v=s.getQueryCache().get(o.queryHash))==null?void 0:v.promise;g==null||g.catch($h).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function We(e,t){return LR(e,NR)}function yt(e,t){const n=qr(),[s]=h.useState(()=>new PR(n,e));h.useEffect(()=>{s.setOptions(e)},[s,e]);const a=h.useSyncExternalStore(h.useCallback(o=>s.subscribe(Ht.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=h.useCallback((o,l)=>{s.mutate(o,l).catch($h)},[s]);if(a.error&&$S(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}async function VS(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Je(e,t,n){let s,a,i;e.startsWith("/")&&typeof t=="string"&&["GET","POST","PUT","DELETE","PATCH"].includes(t.toUpperCase())?(s=e,a=t.toUpperCase(),i=n):(s=e,a="GET",i=t);const o=await fetch(s,{method:a,headers:i&&a!=="GET"?{"Content-Type":"application/json"}:{},body:i&&a!=="GET"?JSON.stringify(i):void 0,credentials:"include"});return await VS(o),a==="GET"?await o.json():o}const $R=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await VS(n),await n.json())},Cn=new wR({defaultOptions:{queries:{queryFn:$R({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),VR=1,BR=1e6;let am=0;function zR(){return am=(am+1)%Number.MAX_SAFE_INTEGER,am.toString()}const im=new Map,Hy=e=>{if(im.has(e))return;const t=setTimeout(()=>{im.delete(e),Ml({type:"REMOVE_TOAST",toastId:e})},BR);im.set(e,t)},UR=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,VR)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Hy(n):e.toasts.forEach(s=>{Hy(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Od=[];let Ld={toasts:[]};function Ml(e){Ld=UR(Ld,e),Od.forEach(t=>{t(Ld)})}function qR({...e}){const t=zR(),n=a=>Ml({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>Ml({type:"DISMISS_TOAST",toastId:t});return Ml({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:n}}function Jt(){const[e,t]=h.useState(Ld);return h.useEffect(()=>(Od.push(t),()=>{const n=Od.indexOf(t);n>-1&&Od.splice(n,1)}),[e]),{...e,toast:qR,dismiss:n=>Ml({type:"DISMISS_TOAST",toastId:n})}}function Te(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Ky(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function BS(...e){return t=>{let n=!1;const s=e.map(a=>{const i=Ky(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():Ky(e[a],null)}}}}function pt(...e){return h.useCallback(BS(...e),e)}function WR(e,t){const n=h.createContext(t),s=i=>{const{children:o,...l}=i,c=h.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=h.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function hs(e,t=[]){let n=[];function s(i,o){const l=h.createContext(o),c=n.length;n=[...n,o];const d=m=>{var x;const{scope:u,children:y,...v}=m,g=((x=u==null?void 0:u[e])==null?void 0:x[c])||l,j=h.useMemo(()=>v,Object.values(v));return r.jsx(g.Provider,{value:j,children:y})};d.displayName=i+"Provider";function f(m,u){var g;const y=((g=u==null?void 0:u[e])==null?void 0:g[c])||l,v=h.useContext(y);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,f]}const a=()=>{const i=n.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,QR(a,...t)]}function QR(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function yi(e){const t=HR(e),n=h.forwardRef((s,a)=>{const{children:i,...o}=s,l=h.Children.toArray(i),c=l.find(YR);if(c){const d=c.props.children,f=l.map(m=>m===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:m);return r.jsx(t,{...o,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,f):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var zS=yi("Slot");function HR(e){const t=h.forwardRef((n,s)=>{const{children:a,...i}=n;if(h.isValidElement(a)){const o=ZR(a),l=GR(i,a.props);return a.type!==h.Fragment&&(l.ref=s?BS(s,o):o),h.cloneElement(a,l)}return h.Children.count(a)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var US=Symbol("radix.slottable");function KR(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=US,t}function YR(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===US}function GR(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{i(...l),a(...l)}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function ZR(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function hx(e){const t=e+"CollectionProvider",[n,s]=hs(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:j,children:x}=g,p=He.useRef(null),b=He.useRef(new Map).current;return r.jsx(a,{scope:j,itemMap:b,collectionRef:p,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=yi(l),d=He.forwardRef((g,j)=>{const{scope:x,children:p}=g,b=i(l,x),w=pt(j,b.collectionRef);return r.jsx(c,{ref:w,children:p})});d.displayName=l;const f=e+"CollectionItemSlot",m="data-radix-collection-item",u=yi(f),y=He.forwardRef((g,j)=>{const{scope:x,children:p,...b}=g,w=He.useRef(null),C=pt(j,w),_=i(f,x);return He.useEffect(()=>(_.itemMap.set(w,{ref:w,...b}),()=>void _.itemMap.delete(w))),r.jsx(u,{[m]:"",ref:C,children:p})});y.displayName=f;function v(g){const j=i(e+"CollectionConsumer",g);return He.useCallback(()=>{const p=j.collectionRef.current;if(!p)return[];const b=Array.from(p.querySelectorAll(`[${m}]`));return Array.from(j.itemMap.values()).sort((_,N)=>b.indexOf(_.ref.current)-b.indexOf(N.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:o,Slot:d,ItemSlot:y},v,s]}var XR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ue=XR.reduce((e,t)=>{const n=yi(`Primitive.${t}`),s=h.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function qS(e,t){e&&Ei.flushSync(()=>e.dispatchEvent(t))}function qn(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function JR(e,t=globalThis==null?void 0:globalThis.document){const n=qn(e);h.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var e4="DismissableLayer",Vh="dismissableLayer.update",t4="dismissableLayer.pointerDownOutside",n4="dismissableLayer.focusOutside",Yy,WS=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yo=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=h.useContext(WS),[f,m]=h.useState(null),u=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=h.useState({}),v=pt(t,N=>m(N)),g=Array.from(d.layers),[j]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(j),p=f?g.indexOf(f):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,w=p>=x,C=s4(N=>{const k=N.target,F=[...d.branches].some(L=>L.contains(k));!w||F||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},u),_=a4(N=>{const k=N.target;[...d.branches].some(L=>L.contains(k))||(i==null||i(N),o==null||o(N),N.defaultPrevented||l==null||l())},u);return JR(N=>{p===d.layers.size-1&&(s==null||s(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},u),h.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Yy=u.body.style.pointerEvents,u.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),Gy(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(u.body.style.pointerEvents=Yy)}},[f,u,n,d]),h.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),Gy())},[f,d]),h.useEffect(()=>{const N=()=>y({});return document.addEventListener(Vh,N),()=>document.removeEventListener(Vh,N)},[]),r.jsx(Ue.div,{...c,ref:v,style:{pointerEvents:b?w?"auto":"none":void 0,...e.style},onFocusCapture:Te(e.onFocusCapture,_.onFocusCapture),onBlurCapture:Te(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Te(e.onPointerDownCapture,C.onPointerDownCapture)})});Yo.displayName=e4;var r4="DismissableLayerBranch",QS=h.forwardRef((e,t)=>{const n=h.useContext(WS),s=h.useRef(null),a=pt(t,s);return h.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),r.jsx(Ue.div,{...e,ref:a})});QS.displayName=r4;function s4(e,t=globalThis==null?void 0:globalThis.document){const n=qn(e),s=h.useRef(!1),a=h.useRef(()=>{});return h.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){HS(t4,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function a4(e,t=globalThis==null?void 0:globalThis.document){const n=qn(e),s=h.useRef(!1);return h.useEffect(()=>{const a=i=>{i.target&&!s.current&&HS(n4,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Gy(){const e=new CustomEvent(Vh);document.dispatchEvent(e)}function HS(e,t,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?qS(a,i):a.dispatchEvent(i)}var i4=Yo,o4=QS,gn=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},l4="Portal",Rc=h.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[a,i]=h.useState(!1);gn(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?EA.createPortal(r.jsx(Ue.div,{...s,ref:t}),o):null});Rc.displayName=l4;function c4(e,t){return h.useReducer((n,s)=>t[n][s]??n,e)}var Bs=e=>{const{present:t,children:n}=e,s=d4(t),a=typeof n=="function"?n({present:s.isPresent}):h.Children.only(n),i=pt(s.ref,u4(a));return typeof n=="function"||s.isPresent?h.cloneElement(a,{ref:i}):null};Bs.displayName="Presence";function d4(e){const[t,n]=h.useState(),s=h.useRef({}),a=h.useRef(e),i=h.useRef("none"),o=e?"mounted":"unmounted",[l,c]=c4(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=hd(s.current);i.current=l==="mounted"?d:"none"},[l]),gn(()=>{const d=s.current,f=a.current;if(f!==e){const u=i.current,y=hd(d);e?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&u!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),gn(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,m=y=>{const g=hd(s.current).includes(y.animationName);if(y.target===t&&g&&(c("ANIMATION_END"),!a.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},u=y=>{y.target===t&&(i.current=hd(s.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{d&&(s.current=getComputedStyle(d)),n(d)},[])}}function hd(e){return(e==null?void 0:e.animationName)||"none"}function u4(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Na({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,a]=f4({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:s,l=qn(n),c=h.useCallback(d=>{if(i){const m=typeof d=="function"?d(e):d;m!==e&&l(m)}else a(d)},[i,e,a,l]);return[o,c]}function f4({defaultProp:e,onChange:t}){const n=h.useState(e),[s]=n,a=h.useRef(s),i=qn(t);return h.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),n}var m4="VisuallyHidden",Ic=h.forwardRef((e,t)=>r.jsx(Ue.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Ic.displayName=m4;var h4=Ic,px="ToastProvider",[xx,p4,x4]=hx("Toast"),[KS,JV]=hs("Toast",[x4]),[g4,lf]=KS(px),YS=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=h.useState(null),[d,f]=h.useState(0),m=h.useRef(!1),u=h.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${px}\`. Expected non-empty \`string\`.`),r.jsx(xx.Provider,{scope:t,children:r.jsx(g4,{scope:t,label:n,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>f(y=>y+1),[]),onToastRemove:h.useCallback(()=>f(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:u,children:o})})};YS.displayName=px;var GS="ToastViewport",y4=["F8"],Bh="toast.viewportPause",zh="toast.viewportResume",ZS=h.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=y4,label:a="Notifications ({hotkey})",...i}=e,o=lf(GS,n),l=p4(n),c=h.useRef(null),d=h.useRef(null),f=h.useRef(null),m=h.useRef(null),u=pt(t,m,o.onViewportChange),y=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;h.useEffect(()=>{const j=x=>{var b;s.length!==0&&s.every(w=>x[w]||x.code===w)&&((b=m.current)==null||b.focus())};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[s]),h.useEffect(()=>{const j=c.current,x=m.current;if(v&&j&&x){const p=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(Bh);x.dispatchEvent(_),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(zh);x.dispatchEvent(_),o.isClosePausedRef.current=!1}},w=_=>{!j.contains(_.relatedTarget)&&b()},C=()=>{j.contains(document.activeElement)||b()};return j.addEventListener("focusin",p),j.addEventListener("focusout",w),j.addEventListener("pointermove",p),j.addEventListener("pointerleave",C),window.addEventListener("blur",p),window.addEventListener("focus",b),()=>{j.removeEventListener("focusin",p),j.removeEventListener("focusout",w),j.removeEventListener("pointermove",p),j.removeEventListener("pointerleave",C),window.removeEventListener("blur",p),window.removeEventListener("focus",b)}}},[v,o.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:j})=>{const p=l().map(b=>{const w=b.ref.current,C=[w,...D4(w)];return j==="forwards"?C:C.reverse()});return(j==="forwards"?p.reverse():p).flat()},[l]);return h.useEffect(()=>{const j=m.current;if(j){const x=p=>{var C,_,N;const b=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!b){const k=document.activeElement,F=p.shiftKey;if(p.target===j&&F){(C=d.current)==null||C.focus();return}const D=g({tabbingDirection:F?"backwards":"forwards"}),q=D.findIndex(V=>V===k);om(D.slice(q+1))?p.preventDefault():F?(_=d.current)==null||_.focus():(N=f.current)==null||N.focus()}};return j.addEventListener("keydown",x),()=>j.removeEventListener("keydown",x)}},[l,g]),r.jsxs(o4,{ref:c,role:"region","aria-label":a.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&r.jsx(Uh,{ref:d,onFocusFromOutsideViewport:()=>{const j=g({tabbingDirection:"forwards"});om(j)}}),r.jsx(xx.Slot,{scope:n,children:r.jsx(Ue.ol,{tabIndex:-1,...i,ref:u})}),v&&r.jsx(Uh,{ref:f,onFocusFromOutsideViewport:()=>{const j=g({tabbingDirection:"backwards"});om(j)}})]})});ZS.displayName=GS;var XS="ToastFocusProxy",Uh=h.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...a}=e,i=lf(XS,n);return r.jsx(Ic,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});Uh.displayName=XS;var cf="Toast",v4="toast.swipeStart",b4="toast.swipeMove",j4="toast.swipeCancel",w4="toast.swipeEnd",JS=h.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=Na({prop:s,defaultProp:a,onChange:i});return r.jsx(Bs,{present:n||l,children:r.jsx(C4,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:qn(e.onPause),onResume:qn(e.onResume),onSwipeStart:Te(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Te(e.onSwipeMove,d=>{const{x:f,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Te(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Te(e.onSwipeEnd,d=>{const{x:f,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});JS.displayName=cf;var[N4,S4]=KS(cf,{onClose(){}}),C4=h.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:f,onSwipeMove:m,onSwipeCancel:u,onSwipeEnd:y,...v}=e,g=lf(cf,n),[j,x]=h.useState(null),p=pt(t,V=>x(V)),b=h.useRef(null),w=h.useRef(null),C=a||g.duration,_=h.useRef(0),N=h.useRef(C),k=h.useRef(0),{onToastAdd:F,onToastRemove:L}=g,S=qn(()=>{var $;(j==null?void 0:j.contains(document.activeElement))&&(($=g.viewport)==null||$.focus()),o()}),D=h.useCallback(V=>{!V||V===1/0||(window.clearTimeout(k.current),_.current=new Date().getTime(),k.current=window.setTimeout(S,V))},[S]);h.useEffect(()=>{const V=g.viewport;if(V){const $=()=>{D(N.current),d==null||d()},K=()=>{const B=new Date().getTime()-_.current;N.current=N.current-B,window.clearTimeout(k.current),c==null||c()};return V.addEventListener(Bh,K),V.addEventListener(zh,$),()=>{V.removeEventListener(Bh,K),V.removeEventListener(zh,$)}}},[g.viewport,C,c,d,D]),h.useEffect(()=>{i&&!g.isClosePausedRef.current&&D(C)},[i,C,g.isClosePausedRef,D]),h.useEffect(()=>(F(),()=>L()),[F,L]);const q=h.useMemo(()=>j?iC(j):null,[j]);return g.viewport?r.jsxs(r.Fragment,{children:[q&&r.jsx(P4,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),r.jsx(N4,{scope:n,onClose:S,children:Ei.createPortal(r.jsx(xx.ItemSlot,{scope:n,children:r.jsx(i4,{asChild:!0,onEscapeKeyDown:Te(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||S(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(Ue.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Te(e.onKeyDown,V=>{V.key==="Escape"&&(l==null||l(V.nativeEvent),V.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,S()))}),onPointerDown:Te(e.onPointerDown,V=>{V.button===0&&(b.current={x:V.clientX,y:V.clientY})}),onPointerMove:Te(e.onPointerMove,V=>{if(!b.current)return;const $=V.clientX-b.current.x,K=V.clientY-b.current.y,B=!!w.current,P=["left","right"].includes(g.swipeDirection),W=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,re=P?W(0,$):0,ve=P?0:W(0,K),Qe=V.pointerType==="touch"?10:2,kt={x:re,y:ve},I={originalEvent:V,delta:kt};B?(w.current=kt,pd(b4,m,I,{discrete:!1})):Zy(kt,g.swipeDirection,Qe)?(w.current=kt,pd(v4,f,I,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs($)>Qe||Math.abs(K)>Qe)&&(b.current=null)}),onPointerUp:Te(e.onPointerUp,V=>{const $=w.current,K=V.target;if(K.hasPointerCapture(V.pointerId)&&K.releasePointerCapture(V.pointerId),w.current=null,b.current=null,$){const B=V.currentTarget,P={originalEvent:V,delta:$};Zy($,g.swipeDirection,g.swipeThreshold)?pd(w4,y,P,{discrete:!0}):pd(j4,u,P,{discrete:!0}),B.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),P4=e=>{const{__scopeToast:t,children:n,...s}=e,a=lf(cf,t),[i,o]=h.useState(!1),[l,c]=h.useState(!1);return T4(()=>o(!0)),h.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:r.jsx(Rc,{asChild:!0,children:r.jsx(Ic,{...s,children:i&&r.jsxs(r.Fragment,{children:[a.label," ",n]})})})},_4="ToastTitle",eC=h.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(Ue.div,{...s,ref:t})});eC.displayName=_4;var k4="ToastDescription",tC=h.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(Ue.div,{...s,ref:t})});tC.displayName=k4;var nC="ToastAction",rC=h.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(aC,{altText:n,asChild:!0,children:r.jsx(gx,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${nC}\`. Expected non-empty \`string\`.`),null)});rC.displayName=nC;var sC="ToastClose",gx=h.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,a=S4(sC,n);return r.jsx(aC,{asChild:!0,children:r.jsx(Ue.button,{type:"button",...s,ref:t,onClick:Te(e.onClick,a.onClose)})})});gx.displayName=sC;var aC=h.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...a}=e;return r.jsx(Ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function iC(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),E4(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...iC(s))}}),t}function pd(e,t,n,{discrete:s}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?qS(a,i):a.dispatchEvent(i)}var Zy=(e,t,n=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>n:!i&&a>n};function T4(e=()=>{}){const t=qn(e);gn(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function E4(e){return e.nodeType===e.ELEMENT_NODE}function D4(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function om(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var A4=YS,oC=ZS,lC=JS,cC=eC,dC=tC,uC=rC,fC=gx;function mC(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=mC(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function hC(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=mC(e))&&(s&&(s+=" "),s+=t);return s}const Xy=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Jy=hC,Fc=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return Jy(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const f=n==null?void 0:n[d],m=i==null?void 0:i[d];if(f===null)return null;const u=Xy(f)||Xy(m);return a[d][u]}),l=n&&Object.entries(n).reduce((d,f)=>{let[m,u]=f;return u===void 0||(d[m]=u),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,f)=>{let{class:m,className:u,...y}=f;return Object.entries(y).every(v=>{let[g,j]=v;return Array.isArray(j)?j.includes({...i,...l}[g]):{...i,...l}[g]===j})?[...d,m,u]:d},[]);return Jy(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pC=(...e)=>e.filter((t,n,s)=>!!t&&s.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var I4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>h.createElement("svg",{ref:c,...I4,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:pC("lucide",a),...l},[...o.map(([d,f])=>h.createElement(d,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(e,t)=>{const n=h.forwardRef(({className:s,...a},i)=>h.createElement(F4,{ref:i,iconNode:t,className:pC(`lucide-${R4(e)}`,s),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=we("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=we("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=we("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=we("Bluetooth",[["path",{d:"m7 7 10 10-5 5V2l5 5L7 17",key:"1q5490"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=we("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=we("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=we("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=we("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=we("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=we("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=we("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=we("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=we("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=we("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=we("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=we("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=we("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=we("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=we("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=we("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=we("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=we("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=we("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=we("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=we("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=we("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=we("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=we("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=we("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=we("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=we("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=we("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=we("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=we("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=we("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=we("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=we("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=we("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=we("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=we("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=we("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=we("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=we("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=we("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=we("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=we("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=we("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=we("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=we("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=we("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=we("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=we("Usb",[["circle",{cx:"10",cy:"7",r:"1",key:"dypaad"}],["circle",{cx:"4",cy:"20",r:"1",key:"22iqad"}],["path",{d:"M4.7 19.3 19 5",key:"1enqfc"}],["path",{d:"m21 3-3 1 2 2Z",key:"d3ov82"}],["path",{d:"M9.26 7.68 5 12l2 5",key:"1esawj"}],["path",{d:"m10 14 5 2 3.5-3.5",key:"v8oal5"}],["path",{d:"m18 12 1-1 1 1-1 1Z",key:"1bh22v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Px="-",eI=e=>{const t=nI(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(Px);return l[0]===""&&l.length!==1&&l.shift(),wC(l,t)||tI(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},wC=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?wC(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Px);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},iv=/^\[(.+)\]$/,tI=e=>{if(iv.test(e)){const t=iv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},nI=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return sI(Object.entries(e.classGroups),n).forEach(([i,o])=>{Wh(o,s,i,t)}),s},Wh=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:ov(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(rI(a)){Wh(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{Wh(o,ov(t,i),n,s)})})},ov=(e,t)=>{let n=e;return t.split(Px).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},rI=e=>e.isThemeGetter,sI=(e,t)=>t?e.map(([n,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,a]}):e,aI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},NC="!",iI=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,f=0,m;for(let j=0;j<l.length;j++){let x=l[j];if(d===0){if(x===a&&(s||l.slice(j,j+i)===t)){c.push(l.slice(f,j)),f=j+i;continue}if(x==="/"){m=j;continue}}x==="["?d++:x==="]"&&d--}const u=c.length===0?l:l.substring(f),y=u.startsWith(NC),v=y?u.substring(1):u,g=m&&m>f?m-f:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:o}):o},oI=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},lI=e=>({cache:aI(e.cacheSize),parseClassName:iI(e),...eI(e)}),cI=/\s+/,dI=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(cI);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:f,hasImportantModifier:m,baseClassName:u,maybePostfixModifierPosition:y}=n(d);let v=!!y,g=s(v?u.substring(0,y):u);if(!g){if(!v){l=d+(l.length>0?" "+l:l);continue}if(g=s(u),!g){l=d+(l.length>0?" "+l:l);continue}v=!1}const j=oI(f).join(":"),x=m?j+NC:j,p=x+g;if(i.includes(p))continue;i.push(p);const b=a(g,v);for(let w=0;w<b.length;++w){const C=b[w];i.push(x+C)}l=d+(l.length>0?" "+l:l)}return l};function uI(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=SC(t))&&(s&&(s+=" "),s+=n);return s}const SC=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=SC(e[s]))&&(n&&(n+=" "),n+=t);return n};function fI(e,...t){let n,s,a,i=o;function o(c){const d=t.reduce((f,m)=>m(f),e());return n=lI(d),s=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const f=dI(c,n);return a(c,f),f}return function(){return i(uI.apply(null,arguments))}}const Ct=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},CC=/^\[(?:([a-z-]+):)?(.+)\]$/i,mI=/^\d+\/\d+$/,hI=new Set(["px","full","screen"]),pI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,yI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xs=e=>ao(e)||hI.has(e)||mI.test(e),qs=e=>Go(e,"length",_I),ao=e=>!!e&&!Number.isNaN(Number(e)),dm=e=>Go(e,"number",ao),ul=e=>!!e&&Number.isInteger(Number(e)),bI=e=>e.endsWith("%")&&ao(e.slice(0,-1)),Ge=e=>CC.test(e),Ws=e=>pI.test(e),jI=new Set(["length","size","percentage"]),wI=e=>Go(e,jI,PC),NI=e=>Go(e,"position",PC),SI=new Set(["image","url"]),CI=e=>Go(e,SI,TI),PI=e=>Go(e,"",kI),fl=()=>!0,Go=(e,t,n)=>{const s=CC.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},_I=e=>xI.test(e)&&!gI.test(e),PC=()=>!1,kI=e=>yI.test(e),TI=e=>vI.test(e),EI=()=>{const e=Ct("colors"),t=Ct("spacing"),n=Ct("blur"),s=Ct("brightness"),a=Ct("borderColor"),i=Ct("borderRadius"),o=Ct("borderSpacing"),l=Ct("borderWidth"),c=Ct("contrast"),d=Ct("grayscale"),f=Ct("hueRotate"),m=Ct("invert"),u=Ct("gap"),y=Ct("gradientColorStops"),v=Ct("gradientColorStopPositions"),g=Ct("inset"),j=Ct("margin"),x=Ct("opacity"),p=Ct("padding"),b=Ct("saturate"),w=Ct("scale"),C=Ct("sepia"),_=Ct("skew"),N=Ct("space"),k=Ct("translate"),F=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto",Ge,t],D=()=>[Ge,t],q=()=>["",xs,qs],V=()=>["auto",ao,Ge],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",Ge],re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ve=()=>[ao,Ge];return{cacheSize:500,separator:":",theme:{colors:[fl],spacing:[xs,qs],blur:["none","",Ws,Ge],brightness:ve(),borderColor:[e],borderRadius:["none","","full",Ws,Ge],borderSpacing:D(),borderWidth:q(),contrast:ve(),grayscale:W(),hueRotate:ve(),invert:W(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[bI,qs],inset:S(),margin:S(),opacity:ve(),padding:D(),saturate:ve(),scale:ve(),sepia:W(),skew:ve(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Ge]}],container:["container"],columns:[{columns:[Ws]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),Ge]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ul,Ge]}],basis:[{basis:S()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ge]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",ul,Ge]}],"grid-cols":[{"grid-cols":[fl]}],"col-start-end":[{col:["auto",{span:["full",ul,Ge]},Ge]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[fl]}],"row-start-end":[{row:["auto",{span:[ul,Ge]},Ge]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ge]}],gap:[{gap:[u]}],"gap-x":[{"gap-x":[u]}],"gap-y":[{"gap-y":[u]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ge,t]}],"min-w":[{"min-w":[Ge,t,"min","max","fit"]}],"max-w":[{"max-w":[Ge,t,"none","full","min","max","fit","prose",{screen:[Ws]},Ws]}],h:[{h:[Ge,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ge,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ge,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ge,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ws,qs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",dm]}],"font-family":[{font:[fl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ge]}],"line-clamp":[{"line-clamp":["none",ao,dm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xs,Ge]}],"list-image":[{"list-image":["none",Ge]}],"list-style-type":[{list:["none","disc","decimal",Ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xs,qs]}],"underline-offset":[{"underline-offset":["auto",xs,Ge]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),NI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},CI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:K()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[xs,Ge]}],"outline-w":[{outline:[xs,qs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[xs,qs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ws,PI]}],"shadow-color":[{shadow:[fl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ws,Ge]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[b]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ge]}],duration:[{duration:ve()}],ease:[{ease:["linear","in","out","in-out",Ge]}],delay:[{delay:ve()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[ul,Ge]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ge]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[xs,qs,dm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},DI=fI(EI);function Se(...e){return DI(hC(e))}const AI=A4,_C=h.forwardRef(({className:e,...t},n)=>r.jsx(oC,{ref:n,className:Se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));_C.displayName=oC.displayName;const RI=Fc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),kC=h.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(lC,{ref:s,className:Se(RI({variant:t}),e),...n}));kC.displayName=lC.displayName;const II=h.forwardRef(({className:e,...t},n)=>r.jsx(uC,{ref:n,className:Se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));II.displayName=uC.displayName;const TC=h.forwardRef(({className:e,...t},n)=>r.jsx(fC,{ref:n,className:Se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(Cx,{className:"h-4 w-4"})}));TC.displayName=fC.displayName;const EC=h.forwardRef(({className:e,...t},n)=>r.jsx(cC,{ref:n,className:Se("text-sm font-semibold",e),...t}));EC.displayName=cC.displayName;const DC=h.forwardRef(({className:e,...t},n)=>r.jsx(dC,{ref:n,className:Se("text-sm opacity-90",e),...t}));DC.displayName=dC.displayName;function FI(){const{toasts:e}=Jt();return r.jsxs(AI,{children:[e.map(function({id:t,title:n,description:s,action:a,...i}){return r.jsxs(kC,{...i,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(EC,{children:n}),s&&r.jsx(DC,{children:s})]}),a,r.jsx(TC,{})]},t)}),r.jsx(_C,{})]})}var MI=mN[" useId ".trim().toString()]||(()=>{}),OI=0;function Es(e){const[t,n]=h.useState(MI());return gn(()=>{n(s=>s??String(OI++))},[e]),t?`radix-${t}`:""}const LI=["top","right","bottom","left"],ka=Math.min,Kn=Math.max,vu=Math.round,gd=Math.floor,os=e=>({x:e,y:e}),$I={left:"right",right:"left",bottom:"top",top:"bottom"},VI={start:"end",end:"start"};function Qh(e,t,n){return Kn(e,ka(t,n))}function Ms(e,t){return typeof e=="function"?e(t):e}function Os(e){return e.split("-")[0]}function Zo(e){return e.split("-")[1]}function _x(e){return e==="x"?"y":"x"}function kx(e){return e==="y"?"height":"width"}function Ta(e){return["top","bottom"].includes(Os(e))?"y":"x"}function Tx(e){return _x(Ta(e))}function BI(e,t,n){n===void 0&&(n=!1);const s=Zo(e),a=Tx(e),i=kx(a);let o=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=bu(o)),[o,bu(o)]}function zI(e){const t=bu(e);return[Hh(e),t,Hh(t)]}function Hh(e){return e.replace(/start|end/g,t=>VI[t])}function UI(e,t,n){const s=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:s:t?s:a;case"left":case"right":return t?i:o;default:return[]}}function qI(e,t,n,s){const a=Zo(e);let i=UI(Os(e),n==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Hh)))),i}function bu(e){return e.replace(/left|right|bottom|top/g,t=>$I[t])}function WI(e){return{top:0,right:0,bottom:0,left:0,...e}}function AC(e){return typeof e!="number"?WI(e):{top:e,right:e,bottom:e,left:e}}function ju(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function lv(e,t,n){let{reference:s,floating:a}=e;const i=Ta(t),o=Tx(t),l=kx(o),c=Os(t),d=i==="y",f=s.x+s.width/2-a.width/2,m=s.y+s.height/2-a.height/2,u=s[l]/2-a[l]/2;let y;switch(c){case"top":y={x:f,y:s.y-a.height};break;case"bottom":y={x:f,y:s.y+s.height};break;case"right":y={x:s.x+s.width,y:m};break;case"left":y={x:s.x-a.width,y:m};break;default:y={x:s.x,y:s.y}}switch(Zo(t)){case"start":y[o]-=u*(n&&d?-1:1);break;case"end":y[o]+=u*(n&&d?-1:1);break}return y}const QI=async(e,t,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:f,y:m}=lv(d,s,c),u=s,y={},v=0;for(let g=0;g<l.length;g++){const{name:j,fn:x}=l[g],{x:p,y:b,data:w,reset:C}=await x({x:f,y:m,initialPlacement:s,placement:u,strategy:a,middlewareData:y,rects:d,platform:o,elements:{reference:e,floating:t}});f=p??f,m=b??m,y={...y,[j]:{...y[j],...w}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(u=C.placement),C.rects&&(d=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):C.rects),{x:f,y:m}=lv(d,u,c)),g=-1)}return{x:f,y:m,placement:u,strategy:a,middlewareData:y}};async function oc(e,t){var n;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:u=!1,padding:y=0}=Ms(t,e),v=AC(y),j=l[u?m==="floating"?"reference":"floating":m],x=ju(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(j)))==null||n?j:j.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),p=m==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),w=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},C=ju(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:b,strategy:c}):p);return{top:(x.top-C.top+v.top)/w.y,bottom:(C.bottom-x.bottom+v.bottom)/w.y,left:(x.left-C.left+v.left)/w.x,right:(C.right-x.right+v.right)/w.x}}const HI=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:f=0}=Ms(e,t)||{};if(d==null)return{};const m=AC(f),u={x:n,y:s},y=Tx(a),v=kx(y),g=await o.getDimensions(d),j=y==="y",x=j?"top":"left",p=j?"bottom":"right",b=j?"clientHeight":"clientWidth",w=i.reference[v]+i.reference[y]-u[y]-i.floating[v],C=u[y]-i.reference[y],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let N=_?_[b]:0;(!N||!await(o.isElement==null?void 0:o.isElement(_)))&&(N=l.floating[b]||i.floating[v]);const k=w/2-C/2,F=N/2-g[v]/2-1,L=ka(m[x],F),S=ka(m[p],F),D=L,q=N-g[v]-S,V=N/2-g[v]/2+k,$=Qh(D,V,q),K=!c.arrow&&Zo(a)!=null&&V!==$&&i.reference[v]/2-(V<D?L:S)-g[v]/2<0,B=K?V<D?V-D:V-q:0;return{[y]:u[y]+B,data:{[y]:$,centerOffset:V-$-B,...K&&{alignmentOffset:B}},reset:K}}}),KI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:u,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...j}=Ms(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Os(a),p=Ta(l),b=Os(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(d.floating)),C=u||(b||!g?[bu(l)]:zI(l)),_=v!=="none";!u&&_&&C.push(...qI(l,g,v,w));const N=[l,...C],k=await oc(t,j),F=[];let L=((s=i.flip)==null?void 0:s.overflows)||[];if(f&&F.push(k[x]),m){const V=BI(a,o,w);F.push(k[V[0]],k[V[1]])}if(L=[...L,{placement:a,overflows:F}],!F.every(V=>V<=0)){var S,D;const V=(((S=i.flip)==null?void 0:S.index)||0)+1,$=N[V];if($)return{data:{index:V,overflows:L},reset:{placement:$}};let K=(D=L.filter(B=>B.overflows[0]<=0).sort((B,P)=>B.overflows[1]-P.overflows[1])[0])==null?void 0:D.placement;if(!K)switch(y){case"bestFit":{var q;const B=(q=L.filter(P=>{if(_){const W=Ta(P.placement);return W===p||W==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(W=>W>0).reduce((W,re)=>W+re,0)]).sort((P,W)=>P[1]-W[1])[0])==null?void 0:q[0];B&&(K=B);break}case"initialPlacement":K=l;break}if(a!==K)return{reset:{placement:K}}}return{}}}};function cv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function dv(e){return LI.some(t=>e[t]>=0)}const YI=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...a}=Ms(e,t);switch(s){case"referenceHidden":{const i=await oc(t,{...a,elementContext:"reference"}),o=cv(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:dv(o)}}}case"escaped":{const i=await oc(t,{...a,altBoundary:!0}),o=cv(i,n.floating);return{data:{escapedOffsets:o,escaped:dv(o)}}}default:return{}}}}};async function GI(e,t){const{placement:n,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Os(n),l=Zo(n),c=Ta(n)==="y",d=["left","top"].includes(o)?-1:1,f=i&&c?-1:1,m=Ms(t,e);let{mainAxis:u,crossAxis:y,alignmentAxis:v}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof v=="number"&&(y=l==="end"?v*-1:v),c?{x:y*f,y:u*d}:{x:u*d,y:y*f}}const ZI=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await GI(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},XI=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:j=>{let{x,y:p}=j;return{x,y:p}}},...c}=Ms(e,t),d={x:n,y:s},f=await oc(t,c),m=Ta(Os(a)),u=_x(m);let y=d[u],v=d[m];if(i){const j=u==="y"?"top":"left",x=u==="y"?"bottom":"right",p=y+f[j],b=y-f[x];y=Qh(p,y,b)}if(o){const j=m==="y"?"top":"left",x=m==="y"?"bottom":"right",p=v+f[j],b=v-f[x];v=Qh(p,v,b)}const g=l.fn({...t,[u]:y,[m]:v});return{...g,data:{x:g.x-n,y:g.y-s,enabled:{[u]:i,[m]:o}}}}}},JI=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Ms(e,t),f={x:n,y:s},m=Ta(a),u=_x(m);let y=f[u],v=f[m];const g=Ms(l,t),j=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=u==="y"?"height":"width",w=i.reference[u]-i.floating[b]+j.mainAxis,C=i.reference[u]+i.reference[b]-j.mainAxis;y<w?y=w:y>C&&(y=C)}if(d){var x,p;const b=u==="y"?"width":"height",w=["top","left"].includes(Os(a)),C=i.reference[m]-i.floating[b]+(w&&((x=o.offset)==null?void 0:x[m])||0)+(w?0:j.crossAxis),_=i.reference[m]+i.reference[b]+(w?0:((p=o.offset)==null?void 0:p[m])||0)-(w?j.crossAxis:0);v<C?v=C:v>_&&(v=_)}return{[u]:y,[m]:v}}}},eF=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Ms(e,t),f=await oc(t,d),m=Os(a),u=Zo(a),y=Ta(a)==="y",{width:v,height:g}=i.floating;let j,x;m==="top"||m==="bottom"?(j=m,x=u===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=m,j=u==="end"?"top":"bottom");const p=g-f.top-f.bottom,b=v-f.left-f.right,w=ka(g-f[j],p),C=ka(v-f[x],b),_=!t.middlewareData.shift;let N=w,k=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=b),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(N=p),_&&!u){const L=Kn(f.left,0),S=Kn(f.right,0),D=Kn(f.top,0),q=Kn(f.bottom,0);y?k=v-2*(L!==0||S!==0?L+S:Kn(f.left,f.right)):N=g-2*(D!==0||q!==0?D+q:Kn(f.top,f.bottom))}await c({...t,availableWidth:k,availableHeight:N});const F=await o.getDimensions(l.floating);return v!==F.width||g!==F.height?{reset:{rects:!0}}:{}}}};function df(){return typeof window<"u"}function Xo(e){return RC(e)?(e.nodeName||"").toLowerCase():"#document"}function tr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ps(e){var t;return(t=(RC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function RC(e){return df()?e instanceof Node||e instanceof tr(e).Node:!1}function $r(e){return df()?e instanceof Element||e instanceof tr(e).Element:!1}function ds(e){return df()?e instanceof HTMLElement||e instanceof tr(e).HTMLElement:!1}function uv(e){return!df()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof tr(e).ShadowRoot}function Oc(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=Vr(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!["inline","contents"].includes(a)}function tF(e){return["table","td","th"].includes(Xo(e))}function uf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ex(e){const t=Dx(),n=$r(e)?Vr(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function nF(e){let t=Ea(e);for(;ds(t)&&!Io(t);){if(Ex(t))return t;if(uf(t))return null;t=Ea(t)}return null}function Dx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Io(e){return["html","body","#document"].includes(Xo(e))}function Vr(e){return tr(e).getComputedStyle(e)}function ff(e){return $r(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ea(e){if(Xo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||uv(e)&&e.host||ps(e);return uv(t)?t.host:t}function IC(e){const t=Ea(e);return Io(t)?e.ownerDocument?e.ownerDocument.body:e.body:ds(t)&&Oc(t)?t:IC(t)}function lc(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=IC(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=tr(a);if(i){const l=Kh(o);return t.concat(o,o.visualViewport||[],Oc(a)?a:[],l&&n?lc(l):[])}return t.concat(a,lc(a,[],n))}function Kh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function FC(e){const t=Vr(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=ds(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:s,l=vu(n)!==i||vu(s)!==o;return l&&(n=i,s=o),{width:n,height:s,$:l}}function Ax(e){return $r(e)?e:e.contextElement}function io(e){const t=Ax(e);if(!ds(t))return os(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:i}=FC(t);let o=(i?vu(n.width):n.width)/s,l=(i?vu(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const rF=os(0);function MC(e){const t=tr(e);return!Dx()||!t.visualViewport?rF:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function sF(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==tr(e)?!1:t}function ji(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=Ax(e);let o=os(1);t&&(s?$r(s)&&(o=io(s)):o=io(e));const l=sF(i,n,s)?MC(i):os(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,f=a.width/o.x,m=a.height/o.y;if(i){const u=tr(i),y=s&&$r(s)?tr(s):s;let v=u,g=Kh(v);for(;g&&s&&y!==v;){const j=io(g),x=g.getBoundingClientRect(),p=Vr(g),b=x.left+(g.clientLeft+parseFloat(p.paddingLeft))*j.x,w=x.top+(g.clientTop+parseFloat(p.paddingTop))*j.y;c*=j.x,d*=j.y,f*=j.x,m*=j.y,c+=b,d+=w,v=tr(g),g=Kh(v)}}return ju({width:f,height:m,x:c,y:d})}function Rx(e,t){const n=ff(e).scrollLeft;return t?t.left+n:ji(ps(e)).left+n}function OC(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(n?0:Rx(e,s)),i=s.top+t.scrollTop;return{x:a,y:i}}function aF(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=ps(s),l=t?uf(t.floating):!1;if(s===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=os(1);const f=os(0),m=ds(s);if((m||!m&&!i)&&((Xo(s)!=="body"||Oc(o))&&(c=ff(s)),ds(s))){const y=ji(s);d=io(s),f.x=y.x+s.clientLeft,f.y=y.y+s.clientTop}const u=o&&!m&&!i?OC(o,c,!0):os(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+f.x+u.x,y:n.y*d.y-c.scrollTop*d.y+f.y+u.y}}function iF(e){return Array.from(e.getClientRects())}function oF(e){const t=ps(e),n=ff(e),s=e.ownerDocument.body,a=Kn(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=Kn(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+Rx(e);const l=-n.scrollTop;return Vr(s).direction==="rtl"&&(o+=Kn(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function lF(e,t){const n=tr(e),s=ps(e),a=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Dx();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function cF(e,t){const n=ji(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,i=ds(e)?io(e):os(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function fv(e,t,n){let s;if(t==="viewport")s=lF(e,n);else if(t==="document")s=oF(ps(e));else if($r(t))s=cF(t,n);else{const a=MC(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return ju(s)}function LC(e,t){const n=Ea(e);return n===t||!$r(n)||Io(n)?!1:Vr(n).position==="fixed"||LC(n,t)}function dF(e,t){const n=t.get(e);if(n)return n;let s=lc(e,[],!1).filter(l=>$r(l)&&Xo(l)!=="body"),a=null;const i=Vr(e).position==="fixed";let o=i?Ea(e):e;for(;$r(o)&&!Io(o);){const l=Vr(o),c=Ex(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Oc(o)&&!c&&LC(e,o))?s=s.filter(f=>f!==o):a=l,o=Ea(o)}return t.set(e,s),s}function uF(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const o=[...n==="clippingAncestors"?uf(t)?[]:dF(t,this._c):[].concat(n),s],l=o[0],c=o.reduce((d,f)=>{const m=fv(t,f,a);return d.top=Kn(m.top,d.top),d.right=ka(m.right,d.right),d.bottom=ka(m.bottom,d.bottom),d.left=Kn(m.left,d.left),d},fv(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function fF(e){const{width:t,height:n}=FC(e);return{width:t,height:n}}function mF(e,t,n){const s=ds(t),a=ps(t),i=n==="fixed",o=ji(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=os(0);if(s||!s&&!i)if((Xo(t)!=="body"||Oc(a))&&(l=ff(t)),s){const u=ji(t,!0,i,t);c.x=u.x+t.clientLeft,c.y=u.y+t.clientTop}else a&&(c.x=Rx(a));const d=a&&!s&&!i?OC(a,l):os(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function um(e){return Vr(e).position==="static"}function mv(e,t){if(!ds(e)||Vr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ps(e)===n&&(n=n.ownerDocument.body),n}function $C(e,t){const n=tr(e);if(uf(e))return n;if(!ds(e)){let a=Ea(e);for(;a&&!Io(a);){if($r(a)&&!um(a))return a;a=Ea(a)}return n}let s=mv(e,t);for(;s&&tF(s)&&um(s);)s=mv(s,t);return s&&Io(s)&&um(s)&&!Ex(s)?n:s||nF(e)||n}const hF=async function(e){const t=this.getOffsetParent||$C,n=this.getDimensions,s=await n(e.floating);return{reference:mF(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function pF(e){return Vr(e).direction==="rtl"}const xF={convertOffsetParentRelativeRectToViewportRelativeRect:aF,getDocumentElement:ps,getClippingRect:uF,getOffsetParent:$C,getElementRects:hF,getClientRects:iF,getDimensions:fF,getScale:io,isElement:$r,isRTL:pF};function VC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function gF(e,t){let n=null,s;const a=ps(e);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:f,top:m,width:u,height:y}=d;if(l||t(),!u||!y)return;const v=gd(m),g=gd(a.clientWidth-(f+u)),j=gd(a.clientHeight-(m+y)),x=gd(f),b={rootMargin:-v+"px "+-g+"px "+-j+"px "+-x+"px",threshold:Kn(0,ka(1,c))||1};let w=!0;function C(_){const N=_[0].intersectionRatio;if(N!==c){if(!w)return o();N?o(!1,N):s=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!VC(d,e.getBoundingClientRect())&&o(),w=!1}try{n=new IntersectionObserver(C,{...b,root:a.ownerDocument})}catch{n=new IntersectionObserver(C,b)}n.observe(e)}return o(!0),i}function yF(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=Ax(e),f=a||i?[...d?lc(d):[],...lc(t)]:[];f.forEach(x=>{a&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const m=d&&l?gF(d,n):null;let u=-1,y=null;o&&(y=new ResizeObserver(x=>{let[p]=x;p&&p.target===d&&y&&(y.unobserve(t),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var b;(b=y)==null||b.observe(t)})),n()}),d&&!c&&y.observe(d),y.observe(t));let v,g=c?ji(e):null;c&&j();function j(){const x=ji(e);g&&!VC(g,x)&&n(),g=x,v=requestAnimationFrame(j)}return n(),()=>{var x;f.forEach(p=>{a&&p.removeEventListener("scroll",n),i&&p.removeEventListener("resize",n)}),m==null||m(),(x=y)==null||x.disconnect(),y=null,c&&cancelAnimationFrame(v)}}const vF=ZI,bF=XI,jF=KI,wF=eF,NF=YI,hv=HI,SF=JI,CF=(e,t,n)=>{const s=new Map,a={platform:xF,...n},i={...a.platform,_c:s};return QI(e,t,{...a,platform:i})};var Vd=typeof document<"u"?h.useLayoutEffect:h.useEffect;function wu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!wu(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!wu(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function BC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function pv(e,t){const n=BC(e);return Math.round(t*n)/n}function fm(e){const t=h.useRef(e);return Vd(()=>{t.current=e}),t}function PF(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[f,m]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[u,y]=h.useState(s);wu(u,s)||y(s);const[v,g]=h.useState(null),[j,x]=h.useState(null),p=h.useCallback(P=>{P!==_.current&&(_.current=P,g(P))},[]),b=h.useCallback(P=>{P!==N.current&&(N.current=P,x(P))},[]),w=i||v,C=o||j,_=h.useRef(null),N=h.useRef(null),k=h.useRef(f),F=c!=null,L=fm(c),S=fm(a),D=fm(d),q=h.useCallback(()=>{if(!_.current||!N.current)return;const P={placement:t,strategy:n,middleware:u};S.current&&(P.platform=S.current),CF(_.current,N.current,P).then(W=>{const re={...W,isPositioned:D.current!==!1};V.current&&!wu(k.current,re)&&(k.current=re,Ei.flushSync(()=>{m(re)}))})},[u,t,n,S,D]);Vd(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,m(P=>({...P,isPositioned:!1})))},[d]);const V=h.useRef(!1);Vd(()=>(V.current=!0,()=>{V.current=!1}),[]),Vd(()=>{if(w&&(_.current=w),C&&(N.current=C),w&&C){if(L.current)return L.current(w,C,q);q()}},[w,C,q,L,F]);const $=h.useMemo(()=>({reference:_,floating:N,setReference:p,setFloating:b}),[p,b]),K=h.useMemo(()=>({reference:w,floating:C}),[w,C]),B=h.useMemo(()=>{const P={position:n,left:0,top:0};if(!K.floating)return P;const W=pv(K.floating,f.x),re=pv(K.floating,f.y);return l?{...P,transform:"translate("+W+"px, "+re+"px)",...BC(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:re}},[n,l,K.floating,f.x,f.y]);return h.useMemo(()=>({...f,update:q,refs:$,elements:K,floatingStyles:B}),[f,q,$,K,B])}const _F=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?hv({element:s.current,padding:a}).fn(n):{}:s?hv({element:s,padding:a}).fn(n):{}}}},kF=(e,t)=>({...vF(e),options:[e,t]}),TF=(e,t)=>({...bF(e),options:[e,t]}),EF=(e,t)=>({...SF(e),options:[e,t]}),DF=(e,t)=>({...jF(e),options:[e,t]}),AF=(e,t)=>({...wF(e),options:[e,t]}),RF=(e,t)=>({...NF(e),options:[e,t]}),IF=(e,t)=>({..._F(e),options:[e,t]});var FF="Arrow",zC=h.forwardRef((e,t)=>{const{children:n,width:s=10,height:a=5,...i}=e;return r.jsx(Ue.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});zC.displayName=FF;var MF=zC;function UC(e){const[t,n]=h.useState(void 0);return gn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var Ix="Popper",[qC,Jo]=hs(Ix),[OF,WC]=qC(Ix),QC=e=>{const{__scopePopper:t,children:n}=e,[s,a]=h.useState(null);return r.jsx(OF,{scope:t,anchor:s,onAnchorChange:a,children:n})};QC.displayName=Ix;var HC="PopperAnchor",KC=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...a}=e,i=WC(HC,n),o=h.useRef(null),l=pt(t,o);return h.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:r.jsx(Ue.div,{...a,ref:l})});KC.displayName=HC;var Fx="PopperContent",[LF,$F]=qC(Fx),YC=h.forwardRef((e,t)=>{var X,De,Be,E,U,se;const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:u=!1,updatePositionStrategy:y="optimized",onPlaced:v,...g}=e,j=WC(Fx,n),[x,p]=h.useState(null),b=pt(t,ke=>p(ke)),[w,C]=h.useState(null),_=UC(w),N=(_==null?void 0:_.width)??0,k=(_==null?void 0:_.height)??0,F=s+(i!=="center"?"-"+i:""),L=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},S=Array.isArray(d)?d:[d],D=S.length>0,q={padding:L,boundary:S.filter(BF),altBoundary:D},{refs:V,floatingStyles:$,placement:K,isPositioned:B,middlewareData:P}=PF({strategy:"fixed",placement:F,whileElementsMounted:(...ke)=>yF(...ke,{animationFrame:y==="always"}),elements:{reference:j.anchor},middleware:[kF({mainAxis:a+k,alignmentAxis:o}),c&&TF({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?EF():void 0,...q}),c&&DF({...q}),AF({...q,apply:({elements:ke,rects:Ne,availableWidth:qe,availableHeight:ze})=>{const{width:_e,height:ct}=Ne.reference,Ft=ke.floating.style;Ft.setProperty("--radix-popper-available-width",`${qe}px`),Ft.setProperty("--radix-popper-available-height",`${ze}px`),Ft.setProperty("--radix-popper-anchor-width",`${_e}px`),Ft.setProperty("--radix-popper-anchor-height",`${ct}px`)}}),w&&IF({element:w,padding:l}),zF({arrowWidth:N,arrowHeight:k}),u&&RF({strategy:"referenceHidden",...q})]}),[W,re]=XC(K),ve=qn(v);gn(()=>{B&&(ve==null||ve())},[B,ve]);const Qe=(X=P.arrow)==null?void 0:X.x,kt=(De=P.arrow)==null?void 0:De.y,I=((Be=P.arrow)==null?void 0:Be.centerOffset)!==0,[M,ce]=h.useState();return gn(()=>{x&&ce(window.getComputedStyle(x).zIndex)},[x]),r.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:B?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:M,"--radix-popper-transform-origin":[(E=P.transformOrigin)==null?void 0:E.x,(U=P.transformOrigin)==null?void 0:U.y].join(" "),...((se=P.hide)==null?void 0:se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(LF,{scope:n,placedSide:W,onArrowChange:C,arrowX:Qe,arrowY:kt,shouldHideArrow:I,children:r.jsx(Ue.div,{"data-side":W,"data-align":re,...g,ref:b,style:{...g.style,animation:B?void 0:"none"}})})})});YC.displayName=Fx;var GC="PopperArrow",VF={top:"bottom",right:"left",bottom:"top",left:"right"},ZC=h.forwardRef(function(t,n){const{__scopePopper:s,...a}=t,i=$F(GC,s),o=VF[i.placedSide];return r.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:r.jsx(MF,{...a,ref:n,style:{...a.style,display:"block"}})})});ZC.displayName=GC;function BF(e){return e!==null}var zF=e=>({name:"transformOrigin",options:e,fn(t){var j,x,p;const{placement:n,rects:s,middlewareData:a}=t,o=((j=a.arrow)==null?void 0:j.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,f]=XC(n),m={start:"0%",center:"50%",end:"100%"}[f],u=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,y=(((p=a.arrow)==null?void 0:p.y)??0)+c/2;let v="",g="";return d==="bottom"?(v=o?m:`${u}px`,g=`${-c}px`):d==="top"?(v=o?m:`${u}px`,g=`${s.floating.height+c}px`):d==="right"?(v=`${-c}px`,g=o?m:`${y}px`):d==="left"&&(v=`${s.floating.width+c}px`,g=o?m:`${y}px`),{data:{x:v,y:g}}}});function XC(e){const[t,n="center"]=e.split("-");return[t,n]}var JC=QC,mf=KC,Mx=YC,Ox=ZC,[hf,e9]=hs("Tooltip",[Jo]),Lx=Jo(),e2="TooltipProvider",UF=700,xv="tooltip.open",[qF,t2]=hf(e2),n2=e=>{const{__scopeTooltip:t,delayDuration:n=UF,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,o=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),r.jsx(qF,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};n2.displayName=e2;var r2="Tooltip",[t9,pf]=hf(r2),Yh="TooltipTrigger",WF=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,a=pf(Yh,n),i=t2(Yh,n),o=Lx(n),l=h.useRef(null),c=pt(t,l,a.onTriggerChange),d=h.useRef(!1),f=h.useRef(!1),m=h.useCallback(()=>d.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),r.jsx(mf,{asChild:!0,...o,children:r.jsx(Ue.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:Te(e.onPointerMove,u=>{u.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),f.current=!0)}),onPointerLeave:Te(e.onPointerLeave,()=>{a.onTriggerLeave(),f.current=!1}),onPointerDown:Te(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Te(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:Te(e.onBlur,a.onClose),onClick:Te(e.onClick,a.onClose)})})});WF.displayName=Yh;var QF="TooltipPortal",[n9,HF]=hf(QF,{forceMount:void 0}),Fo="TooltipContent",s2=h.forwardRef((e,t)=>{const n=HF(Fo,e.__scopeTooltip),{forceMount:s=n.forceMount,side:a="top",...i}=e,o=pf(Fo,e.__scopeTooltip);return r.jsx(Bs,{present:s||o.open,children:o.disableHoverableContent?r.jsx(a2,{side:a,...i,ref:t}):r.jsx(KF,{side:a,...i,ref:t})})}),KF=h.forwardRef((e,t)=>{const n=pf(Fo,e.__scopeTooltip),s=t2(Fo,e.__scopeTooltip),a=h.useRef(null),i=pt(t,a),[o,l]=h.useState(null),{trigger:c,onClose:d}=n,f=a.current,{onPointerInTransitChange:m}=s,u=h.useCallback(()=>{l(null),m(!1)},[m]),y=h.useCallback((v,g)=>{const j=v.currentTarget,x={x:v.clientX,y:v.clientY},p=JF(x,j.getBoundingClientRect()),b=eM(x,p),w=tM(g.getBoundingClientRect()),C=rM([...b,...w]);l(C),m(!0)},[m]);return h.useEffect(()=>()=>u(),[u]),h.useEffect(()=>{if(c&&f){const v=j=>y(j,f),g=j=>y(j,c);return c.addEventListener("pointerleave",v),f.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",v),f.removeEventListener("pointerleave",g)}}},[c,f,y,u]),h.useEffect(()=>{if(o){const v=g=>{const j=g.target,x={x:g.clientX,y:g.clientY},p=(c==null?void 0:c.contains(j))||(f==null?void 0:f.contains(j)),b=!nM(x,o);p?u():b&&(u(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,f,o,d,u]),r.jsx(a2,{...e,ref:i})}),[YF,GF]=hf(r2,{isInside:!1}),ZF=KR("TooltipContent"),a2=h.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=pf(Fo,n),d=Lx(n),{onClose:f}=c;return h.useEffect(()=>(document.addEventListener(xv,f),()=>document.removeEventListener(xv,f)),[f]),h.useEffect(()=>{if(c.trigger){const m=u=>{const y=u.target;y!=null&&y.contains(c.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,f]),r.jsx(Yo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:r.jsxs(Mx,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(ZF,{children:s}),r.jsx(YF,{scope:n,isInside:!0,children:r.jsx(h4,{id:c.contentId,role:"tooltip",children:a||s})})]})})});s2.displayName=Fo;var i2="TooltipArrow",XF=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,a=Lx(n);return GF(i2,n).isInside?null:r.jsx(Ox,{...a,...s,ref:t})});XF.displayName=i2;function JF(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,s,a,i)){case i:return"left";case a:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function eM(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function tM(e){const{top:t,right:n,bottom:s,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:s},{x:a,y:s}]}function nM(e,t){const{x:n,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,f=t[o].y;c>s!=f>s&&n<(d-l)*(s-c)/(f-c)+l&&(a=!a)}return a}function rM(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),sM(t)}function sM(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var aM=n2,o2=s2;const iM=aM,oM=h.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(o2,{ref:s,sideOffset:t,className:Se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));oM.displayName=o2.displayName;var lM=(e,t,n,s,a,i,o,l)=>{let c=document.documentElement,d=["light","dark"];function f(y){(Array.isArray(e)?e:[e]).forEach(v=>{let g=v==="class",j=g&&i?a.map(x=>i[x]||x):a;g?(c.classList.remove(...j),c.classList.add(i&&i[y]?i[y]:y)):c.setAttribute(v,y)}),m(y)}function m(y){l&&d.includes(y)&&(c.style.colorScheme=y)}function u(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)f(s);else try{let y=localStorage.getItem(t)||n,v=o&&y==="system"?u():y;f(v)}catch{}},gv=["light","dark"],l2="(prefers-color-scheme: dark)",cM=typeof window>"u",c2=h.createContext(void 0),dM=e=>h.useContext(c2)?h.createElement(h.Fragment,null,e.children):h.createElement(fM,{...e}),uM=["light","dark"],fM=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:s=!0,storageKey:a="theme",themes:i=uM,defaultTheme:o=n?"system":"light",attribute:l="data-theme",value:c,children:d,nonce:f,scriptProps:m})=>{let[u,y]=h.useState(()=>hM(a,o)),[v,g]=h.useState(()=>u==="system"?mm():u),j=c?Object.values(c):i,x=h.useCallback(C=>{let _=C;if(!_)return;C==="system"&&n&&(_=mm());let N=c?c[_]:_,k=t?pM(f):null,F=document.documentElement,L=S=>{S==="class"?(F.classList.remove(...j),N&&F.classList.add(N)):S.startsWith("data-")&&(N?F.setAttribute(S,N):F.removeAttribute(S))};if(Array.isArray(l)?l.forEach(L):L(l),s){let S=gv.includes(o)?o:null,D=gv.includes(_)?_:S;F.style.colorScheme=D}k==null||k()},[f]),p=h.useCallback(C=>{let _=typeof C=="function"?C(u):C;y(_);try{localStorage.setItem(a,_)}catch{}},[u]),b=h.useCallback(C=>{let _=mm(C);g(_),u==="system"&&n&&!e&&x("system")},[u,e]);h.useEffect(()=>{let C=window.matchMedia(l2);return C.addListener(b),b(C),()=>C.removeListener(b)},[b]),h.useEffect(()=>{let C=_=>{_.key===a&&(_.newValue?y(_.newValue):p(o))};return window.addEventListener("storage",C),()=>window.removeEventListener("storage",C)},[p]),h.useEffect(()=>{x(e??u)},[e,u]);let w=h.useMemo(()=>({theme:u,setTheme:p,forcedTheme:e,resolvedTheme:u==="system"?v:u,themes:n?[...i,"system"]:i,systemTheme:n?v:void 0}),[u,p,e,v,n,i]);return h.createElement(c2.Provider,{value:w},h.createElement(mM,{forcedTheme:e,storageKey:a,attribute:l,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:c,themes:i,nonce:f,scriptProps:m}),d)},mM=h.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:a,defaultTheme:i,value:o,themes:l,nonce:c,scriptProps:d})=>{let f=JSON.stringify([n,t,i,e,l,o,s,a]).slice(1,-1);return h.createElement("script",{...d,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${lM.toString()})(${f})`}})}),hM=(e,t)=>{if(cM)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},pM=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},mm=e=>(e||(e=window.matchMedia(l2)),e.matches?"dark":"light");const Gh=Fc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),G=h.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...a},i)=>{const o=s?zS:"button";return r.jsx(o,{className:Se(Gh({variant:t,size:n,className:e})),ref:i,...a})});G.displayName="Button";const xM=Fc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pe({className:e,variant:t,...n}){return r.jsx("div",{className:Se(xM({variant:t}),e),...n})}var gM="Separator",yv="horizontal",yM=["horizontal","vertical"],d2=h.forwardRef((e,t)=>{const{decorative:n,orientation:s=yv,...a}=e,i=vM(s)?s:yv,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return r.jsx(Ue.div,{"data-orientation":i,...l,...a,ref:t})});d2.displayName=gM;function vM(e){return yM.includes(e)}var u2=d2;const Ls=h.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},a)=>r.jsx(u2,{ref:a,decorative:n,orientation:t,className:Se("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));Ls.displayName=u2.displayName;const f2=h.createContext(void 0);function zs(){const e=h.useContext(f2);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function bM({children:e}){const[t,n]=h.useState(null),[s,a]=h.useState(!0);h.useEffect(()=>{const l=localStorage.getItem("user");if(l)try{n(JSON.parse(l))}catch{localStorage.removeItem("user")}a(!1)},[]);const o={user:t,setUser:n,logout:()=>{n(null),localStorage.removeItem("user")},isLoading:s};return r.jsx(f2.Provider,{value:o,children:e})}function jM(){const[e]=Ac(),{user:t,logout:n}=zs(),{data:s}=We({queryKey:["/api/products/low-stock"]}),a=Array.isArray(s)?s.length:0,i=d=>[{href:"/",label:"Dashboard",icon:W4,badge:null,allowedRoles:["admin","manager","cashier"]},{href:"/pos",label:"POS",icon:Sx,badge:null,allowedRoles:["admin","cashier"]},{href:"/inventory",label:"Inventory",icon:er,badge:a>0?a:null,allowedRoles:["admin","manager","cashier"]},{href:"/customers",label:"Customers",icon:bi,badge:null,allowedRoles:["admin","manager"]},{href:"/sale-orders",label:"Sale Orders",icon:B4,badge:null,allowedRoles:["admin","manager"]},{href:"/invoices",label:"Invoices",icon:Ar,badge:null,allowedRoles:["admin","manager"]},{href:"/payment-records",label:"Payment Records",icon:ba,badge:null,allowedRoles:["admin","manager"]},{href:"/reports",label:"Reports",icon:sc,badge:null,allowedRoles:["admin"]}].filter(m=>m.allowedRoles.includes(d)),o=d=>d==="admin"?{href:"/settings",label:"Settings",icon:lm,badge:null,hasAccess:!0}:d==="manager"?{href:"/settings",label:"Settings",icon:lm,badge:null,hasAccess:!0}:d==="cashier"?{href:"/settings",label:"Settings",icon:lm,badge:null,hasAccess:!0}:null,l=t?i(t.role):[],c=t?o(t.role):null;return r.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b",children:r.jsxs("div",{className:"flex h-16 items-center px-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mr-6",children:[r.jsx(Sa,{className:"h-8 w-8 text-primary"}),r.jsxs("div",{children:[r.jsx("h1",{className:"font-bold text-lg",children:"D-Invoice"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"FBR Compliant"})]})]}),r.jsxs("div",{className:"flex items-center space-x-1 flex-1",children:[l.map(d=>{const f=e===d.href,m=d.icon;return r.jsx(Oy,{href:d.href,children:r.jsxs(G,{variant:f?"default":"ghost",size:"sm",className:"relative h-9","data-testid":`link-${d.label.toLowerCase()}`,children:[r.jsx(m,{className:"h-4 w-4 mr-2"}),r.jsx("span",{children:d.label}),d.badge&&r.jsx(Pe,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 text-xs p-0 flex items-center justify-center",children:d.badge})]})},d.href)}),c&&r.jsxs(r.Fragment,{children:[r.jsx(Ls,{orientation:"vertical",className:"h-6"}),r.jsx(Oy,{href:c.href,children:r.jsxs(G,{variant:e===c.href?"default":"ghost",size:"sm",className:"h-9","data-testid":`link-${c.label.toLowerCase()}`,children:[r.jsx(c.icon,{className:"h-4 w-4 mr-2"}),r.jsx("span",{children:c.label})]})})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[a>0&&r.jsxs(Pe,{variant:"destructive",className:"flex items-center gap-1",children:[r.jsx(gr,{className:"h-3 w-3"}),a," Low Stock"]}),r.jsx(Ls,{orientation:"vertical",className:"h-6"}),r.jsxs("div",{className:"text-right hidden sm:block",children:[r.jsx("p",{className:"text-sm font-medium",children:t==null?void 0:t.fullName}),r.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:t==null?void 0:t.role})]}),r.jsx(G,{variant:"ghost",size:"sm",onClick:n,"data-testid":"button-logout",children:r.jsx(H4,{className:"h-4 w-4"})})]})]})})}const ie=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Se("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ie.displayName="Card";const fe=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Se("flex flex-col space-y-1.5 p-6",e),...t}));fe.displayName="CardHeader";const he=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Se("text-2xl font-semibold leading-none tracking-tight",e),...t}));he.displayName="CardTitle";const Bt=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Se("text-sm text-muted-foreground",e),...t}));Bt.displayName="CardDescription";const oe=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Se("p-6 pt-0",e),...t}));oe.displayName="CardContent";const wM=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Se("flex items-center p-6 pt-0",e),...t}));wM.displayName="CardFooter";function Qs({children:e,allowedRoles:t,redirectTo:n="/"}){const{user:s}=zs(),[,a]=Ac();return h.useEffect(()=>{s&&!t.includes(s.role)&&a(n)},[s,t,n,a]),s?t.includes(s.role)?r.jsx(r.Fragment,{children:e}):r.jsx("div",{className:"container mx-auto px-6 py-8",children:r.jsxs(ie,{className:"max-w-md mx-auto",children:[r.jsxs(fe,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/20 rounded-full",children:r.jsx(yC,{className:"h-8 w-8 text-red-600 dark:text-red-400"})})}),r.jsx(he,{className:"text-red-600 dark:text-red-400",children:"Access Denied"}),r.jsx(Bt,{children:"You don't have permission to access this page."})]}),r.jsxs(oe,{className:"text-center space-y-2",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your current role: ",r.jsx("span",{className:"font-medium capitalize",children:s.role})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Required roles: ",t.map(i=>r.jsx("span",{className:"font-medium capitalize",children:i},i)).join(", ")]})]})]})}):null}const m2={CURRENCY:"PKR",CURRENCY_SYMBOL:"Rs.",TAX_RATES:{GST:18,FED:10,WHT:1},PHONE_REGEX:/^(\+92|0)?[0-9]{10}$/,NTN_REGEX:/^[0-9]{13}$/,CNIC_REGEX:/^[0-9]{5}-[0-9]{7}-[0-9]$/},NM=["pcs","kg","grams","liters","meters","box","pack","dozen"],SM=["Lahore","Karachi","Islamabad","Rawalpindi","Faisalabad","Multan","Peshawar","Quetta","Sialkot","Gujranwala"];function z(e){return new Intl.NumberFormat("en-PK",{style:"currency",currency:m2.CURRENCY,minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function CM(){const{user:e}=zs(),{data:t}=We({queryKey:["/api/analytics/daily-sales"]}),{data:n}=We({queryKey:["/api/analytics/monthly-sales"]}),{data:s}=We({queryKey:["/api/analytics/top-products",5]}),{data:a}=We({queryKey:["/api/products/low-stock"]}),{data:i}=We({queryKey:["/api/analytics/inventory-value"]}),{data:o}=We({queryKey:["/api/sales"]}),l=(t==null?void 0:t.totalRevenue)||0,c=(t==null?void 0:t.totalSales)||0,d=(n==null?void 0:n.totalRevenue)||0,f=(a==null?void 0:a.length)||0,m=(i==null?void 0:i.value)||0,u=(o==null?void 0:o.slice(0,5))||[];return r.jsxs("div",{className:"p-6 space-y-6","data-testid":"dashboard-container",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground","data-testid":"text-dashboard-title",children:"Dashboard"}),r.jsxs("p",{className:"text-muted-foreground",children:["Welcome ",(e==null?void 0:e.fullName)||(e==null?void 0:e.username)||"User"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs(ie,{children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(he,{className:"text-sm font-medium",children:"Today's Revenue"}),r.jsx(Cs,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(oe,{children:[r.jsx("div",{className:"text-2xl font-bold","data-testid":"text-daily-revenue",children:z(l)}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[c," transactions today"]})]})]}),r.jsxs(ie,{children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(he,{className:"text-sm font-medium",children:"Monthly Revenue"}),r.jsx(jC,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(oe,{children:[r.jsx("div",{className:"text-2xl font-bold","data-testid":"text-monthly-revenue",children:z(d)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"This month's performance"})]})]}),r.jsxs(ie,{children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(he,{className:"text-sm font-medium",children:"Inventory Value"}),r.jsx(er,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(oe,{children:[r.jsx("div",{className:"text-2xl font-bold","data-testid":"text-inventory-value",children:z(m)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Total stock value"})]})]}),r.jsxs(ie,{children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(he,{className:"text-sm font-medium",children:"Low Stock Alerts"}),r.jsx(gr,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(oe,{children:[r.jsx("div",{className:"text-2xl font-bold","data-testid":"text-low-stock-count",children:f}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Products need restocking"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(ie,{children:[r.jsxs(fe,{children:[r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(sc,{className:"h-5 w-5"}),"Top Selling Products"]}),r.jsx(Bt,{children:"Best selling products from your inventory"})]}),r.jsx(oe,{children:r.jsx("div",{className:"space-y-4",children:(s==null?void 0:s.map((y,v)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Pe,{variant:"secondary",children:v+1}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:y.product.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[y.totalQuantity," units sold"]})]})]}),r.jsx("div",{className:"text-right",children:r.jsx("p",{className:"font-medium",children:z(y.totalRevenue)})})]},y.product.id)))||r.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No sales data available"})})})]}),r.jsxs(ie,{children:[r.jsxs(fe,{children:[r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(gr,{className:"h-5 w-5 text-destructive"}),"Low Stock Alert"]}),r.jsx(Bt,{children:"Products that need restocking"})]}),r.jsx(oe,{children:r.jsx("div",{className:"space-y-4",children:(a==null?void 0:a.slice(0,5).map(y=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:y.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:y.category})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs(Pe,{variant:"destructive",children:[y.stockQuantity," left"]}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Min: ",y.minStockLevel]})]})]},y.id)))||r.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[r.jsx(br,{className:"h-4 w-4"}),r.jsx("p",{children:"All products are well stocked"})]})})})]})]}),r.jsxs(ie,{children:[r.jsxs(fe,{children:[r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(Ca,{className:"h-5 w-5"}),"Recent Sales"]}),r.jsx(Bt,{children:"Recent Sales Activity"})]}),r.jsx(oe,{children:r.jsxs("div",{className:"space-y-4",children:[u.map(y=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:y.invoiceNumber}),r.jsx("p",{className:"text-sm text-muted-foreground",children:y.customerName})]})}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-medium",children:z(parseFloat(y.totalAmount))}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Pe,{variant:y.fbrStatus==="validated"?"default":"secondary",className:"text-xs",children:["FBR: ",y.fbrStatus]}),r.jsx(Pe,{variant:"outline",className:"text-xs",children:y.paymentMethod})]})]})]},y.id)),u.length===0&&r.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No recent sales to display"})]})})]})]})}const ue=h.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:Se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));ue.displayName="Input";function vv(e,t=m2.TAX_RATES.GST){return e*t/100}function PM({onProductSelect:e}){const{toast:t}=Jt(),[n,s]=h.useState(""),[a,i]=h.useState([]),[o,l]=h.useState(!1),{data:c}=We({queryKey:["/api/products"]}),d=async()=>{if(!n.trim()){i([]);return}l(!0);try{if(c){const u=c.filter(y=>y.name.toLowerCase().includes(n.toLowerCase())||y.sku.toLowerCase().includes(n.toLowerCase())||y.category.toLowerCase().includes(n.toLowerCase())||y.barcode&&y.barcode.includes(n));i(u)}}catch{t({title:"Search Failed",description:"Could not search for products",variant:"destructive"})}finally{l(!1)}},f=u=>{u.key==="Enter"&&d()},m=u=>{if(u.stockQuantity<=0){t({title:"Out of Stock",description:`${u.name} is currently out of stock`,variant:"destructive"});return}e(u),s(""),i([]),t({title:"Added to Cart",description:`${u.name} added to cart`})};return r.jsxs("div",{className:"space-y-4","data-testid":"product-scanner",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),r.jsx(ue,{placeholder:"Search by name, barcode, or SKU...",value:n,onChange:u=>s(u.target.value),onKeyPress:f,className:"pl-10","data-testid":"input-product-search"})]}),r.jsx(G,{onClick:d,disabled:o,"data-testid":"button-search",children:r.jsx(Pa,{className:"h-4 w-4"})})]}),a.length>0&&r.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:a.map(u=>r.jsx(ie,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>m(u),"data-testid":`product-result-${u.id}`,children:r.jsx(oe,{className:"p-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(er,{className:"h-8 w-8 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:u.name}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["SKU: ",u.sku," | Category: ",u.category]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-bold text-primary",children:z(parseFloat(u.unitPrice))}),r.jsxs(Pe,{variant:u.stockQuantity>0?"secondary":"destructive",className:"text-xs",children:["Stock: ",u.stockQuantity]})]})]})})},u.id))}),n&&a.length===0&&!o&&r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(er,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),r.jsxs("p",{children:['No products found for "',n,'"']}),r.jsx("p",{className:"text-sm",children:"Try searching with different keywords"})]}),!n&&r.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[r.jsx(vC,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"Scan barcode or search for products"}),r.jsx("p",{className:"text-sm",children:"Use the search box above to find products"})]})]})}function _M(){const[e,t]=h.useState([]);return h.useEffect(()=>{const n=async()=>{const a=[];if("hid"in navigator)try{(await navigator.hid.getDevices()).filter(l=>{var c,d,f,m,u;return l.vendorId&&l.productId&&(((c=l.productName)==null?void 0:c.toLowerCase().includes("scanner"))||((d=l.productName)==null?void 0:d.toLowerCase().includes("barcode"))||((f=l.productName)==null?void 0:f.toLowerCase().includes("symbol"))||((m=l.productName)==null?void 0:m.toLowerCase().includes("zebra"))||((u=l.productName)==null?void 0:u.toLowerCase().includes("honeywell")))}).forEach(l=>{a.push({type:"scanner",name:l.productName||"USB Barcode Scanner",connectionType:"usb"})})}catch{}if("bluetooth"in navigator)try{(await navigator.bluetooth.getDevices()).filter(l=>{var c;return l.name&&((c=l.gatt)==null?void 0:c.connected)&&(l.name.toLowerCase().includes("pos")||l.name.toLowerCase().includes("terminal")||l.name.toLowerCase().includes("payment")||l.name.toLowerCase().includes("pax")||l.name.toLowerCase().includes("ingenico"))}).forEach(l=>{a.push({type:"card_reader",name:l.name||"Bluetooth Card Reader",connectionType:"bluetooth"})})}catch{}t(a)};n();const s=setInterval(n,1e4);return()=>clearInterval(s)},[]),e.length===0?null:r.jsxs("div",{className:"bg-green-50 dark:bg-green-950/20 p-3 rounded-lg border border-green-200 dark:border-green-800",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Connected Devices"})]}),r.jsx("div",{className:"space-y-2",children:e.map((n,s)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[n.type==="scanner"?r.jsx(vC,{className:"h-4 w-4 text-green-600"}):r.jsx(Ts,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"text-sm text-green-700 dark:text-green-300",children:n.name})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[n.connectionType==="usb"?r.jsx(J4,{className:"h-3 w-3 text-green-500"}):r.jsx(wl,{className:"h-3 w-3 text-green-500"}),r.jsx(Pe,{variant:"secondary",className:"text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:n.connectionType.toUpperCase()})]})]},s))})]})}const kM="modulepreload",TM=function(e){return"/"+e},bv={},Mo=function(t,n,s){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=TM(c),c in bv)return;bv[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":kM,d||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((u,y)=>{m.addEventListener("load",u),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};var hm="focusScope.autoFocusOnMount",pm="focusScope.autoFocusOnUnmount",jv={bubbles:!1,cancelable:!0},EM="FocusScope",xf=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=h.useState(null),d=qn(a),f=qn(i),m=h.useRef(null),u=pt(t,g=>c(g)),y=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(s){let g=function(b){if(y.paused||!l)return;const w=b.target;l.contains(w)?m.current=w:Ys(m.current,{select:!0})},j=function(b){if(y.paused||!l)return;const w=b.relatedTarget;w!==null&&(l.contains(w)||Ys(m.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const C of b)C.removedNodes.length>0&&Ys(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",j);const p=new MutationObserver(x);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",j),p.disconnect()}}},[s,l,y.paused]),h.useEffect(()=>{if(l){Nv.add(y);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(hm,jv);l.addEventListener(hm,d),l.dispatchEvent(x),x.defaultPrevented||(DM(MM(h2(l)),{select:!0}),document.activeElement===g&&Ys(l))}return()=>{l.removeEventListener(hm,d),setTimeout(()=>{const x=new CustomEvent(pm,jv);l.addEventListener(pm,f),l.dispatchEvent(x),x.defaultPrevented||Ys(g??document.body,{select:!0}),l.removeEventListener(pm,f),Nv.remove(y)},0)}}},[l,d,f,y]);const v=h.useCallback(g=>{if(!n&&!s||y.paused)return;const j=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(j&&x){const p=g.currentTarget,[b,w]=AM(p);b&&w?!g.shiftKey&&x===w?(g.preventDefault(),n&&Ys(b,{select:!0})):g.shiftKey&&x===b&&(g.preventDefault(),n&&Ys(w,{select:!0})):x===p&&g.preventDefault()}},[n,s,y.paused]);return r.jsx(Ue.div,{tabIndex:-1,...o,ref:u,onKeyDown:v})});xf.displayName=EM;function DM(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Ys(s,{select:t}),document.activeElement!==n)return}function AM(e){const t=h2(e),n=wv(t,e),s=wv(t.reverse(),e);return[n,s]}function h2(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function wv(e,t){for(const n of e)if(!RM(n,{upTo:t}))return n}function RM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function IM(e){return e instanceof HTMLInputElement&&"select"in e}function Ys(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&IM(e)&&t&&e.select()}}var Nv=FM();function FM(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Sv(e,t),e.unshift(t)},remove(t){var n;e=Sv(e,t),(n=e[0])==null||n.resume()}}}function Sv(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function MM(e){return e.filter(t=>t.tagName!=="A")}var xm=0;function $x(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Cv()),document.body.insertAdjacentElement("beforeend",e[1]??Cv()),xm++,()=>{xm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),xm--}},[])}function Cv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ts=function(){return ts=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ts.apply(this,arguments)};function p2(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function OM(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var Bd="right-scroll-bar-position",zd="width-before-scroll-bar",LM="with-scroll-bars-hidden",$M="--removed-body-scroll-bar-size";function gm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function VM(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var BM=typeof window<"u"?h.useLayoutEffect:h.useEffect,Pv=new WeakMap;function zM(e,t){var n=VM(null,function(s){return e.forEach(function(a){return gm(a,s)})});return BM(function(){var s=Pv.get(n);if(s){var a=new Set(s),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||gm(l,null)}),i.forEach(function(l){a.has(l)||gm(l,o)})}Pv.set(n,e)},[e]),n}function UM(e){return e}function qM(e,t){t===void 0&&(t=UM);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var f=o;o=[],f.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),n}}}};return a}function WM(e){e===void 0&&(e={});var t=qM(null);return t.options=ts({async:!0,ssr:!1},e),t}var x2=function(e){var t=e.sideCar,n=p2(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return h.createElement(s,ts({},n))};x2.isSideCarExport=!0;function QM(e,t){return e.useMedium(t),x2}var g2=WM(),ym=function(){},gf=h.forwardRef(function(e,t){var n=h.useRef(null),s=h.useState({onScrollCapture:ym,onWheelCapture:ym,onTouchMoveCapture:ym}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,f=e.enabled,m=e.shards,u=e.sideCar,y=e.noIsolation,v=e.inert,g=e.allowPinchZoom,j=e.as,x=j===void 0?"div":j,p=e.gapMode,b=p2(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=u,C=zM([n,t]),_=ts(ts({},b),a);return h.createElement(h.Fragment,null,f&&h.createElement(w,{sideCar:g2,removeScrollBar:d,shards:m,noIsolation:y,inert:v,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:p}),o?h.cloneElement(h.Children.only(l),ts(ts({},_),{ref:C})):h.createElement(x,ts({},_,{className:c,ref:C}),l))});gf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gf.classNames={fullWidth:zd,zeroRight:Bd};var HM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function KM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=HM();return t&&e.setAttribute("nonce",t),e}function YM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function GM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var ZM=function(){var e=0,t=null;return{add:function(n){e==0&&(t=KM())&&(YM(t,n),GM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},XM=function(){var e=ZM();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},y2=function(){var e=XM(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},JM={left:0,top:0,right:0,gap:0},vm=function(e){return parseInt(e||"",10)||0},eO=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[vm(n),vm(s),vm(a)]},tO=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return JM;var t=eO(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},nO=y2(),oo="data-scroll-locked",rO=function(e,t,n,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(LM,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(oo,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bd,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(zd,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Bd," .").concat(Bd,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(zd," .").concat(zd,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(oo,`] {
    `).concat($M,": ").concat(l,`px;
  }
`)},_v=function(){var e=parseInt(document.body.getAttribute(oo)||"0",10);return isFinite(e)?e:0},sO=function(){h.useEffect(function(){return document.body.setAttribute(oo,(_v()+1).toString()),function(){var e=_v()-1;e<=0?document.body.removeAttribute(oo):document.body.setAttribute(oo,e.toString())}},[])},aO=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;sO();var i=h.useMemo(function(){return tO(a)},[a]);return h.createElement(nO,{styles:rO(i,!t,a,n?"":"!important")})},Zh=!1;if(typeof window<"u")try{var yd=Object.defineProperty({},"passive",{get:function(){return Zh=!0,!0}});window.addEventListener("test",yd,yd),window.removeEventListener("test",yd,yd)}catch{Zh=!1}var Ai=Zh?{passive:!1}:!1,iO=function(e){return e.tagName==="TEXTAREA"},v2=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!iO(e)&&n[t]==="visible")},oO=function(e){return v2(e,"overflowY")},lO=function(e){return v2(e,"overflowX")},kv=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=b2(e,s);if(a){var i=j2(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},cO=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},dO=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},b2=function(e,t){return e==="v"?oO(t):lO(t)},j2=function(e,t){return e==="v"?cO(t):dO(t)},uO=function(e,t){return e==="h"&&t==="rtl"?-1:1},fO=function(e,t,n,s,a){var i=uO(e,window.getComputedStyle(t).direction),o=i*s,l=n.target,c=t.contains(l),d=!1,f=o>0,m=0,u=0;do{var y=j2(e,l),v=y[0],g=y[1],j=y[2],x=g-j-i*v;(v||x)&&b2(e,l)&&(m+=x,u+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(m)<1||!a)||!f&&(Math.abs(u)<1||!a))&&(d=!0),d},vd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Tv=function(e){return[e.deltaX,e.deltaY]},Ev=function(e){return e&&"current"in e?e.current:e},mO=function(e,t){return e[0]===t[0]&&e[1]===t[1]},hO=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},pO=0,Ri=[];function xO(e){var t=h.useRef([]),n=h.useRef([0,0]),s=h.useRef(),a=h.useState(pO++)[0],i=h.useState(y2)[0],o=h.useRef(e);h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=OM([e.lockRef.current],(e.shards||[]).map(Ev),!0).filter(Boolean);return g.forEach(function(j){return j.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(g,j){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var x=vd(g),p=n.current,b="deltaX"in g?g.deltaX:p[0]-x[0],w="deltaY"in g?g.deltaY:p[1]-x[1],C,_=g.target,N=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in g&&N==="h"&&_.type==="range")return!1;var k=kv(N,_);if(!k)return!0;if(k?C=N:(C=N==="v"?"h":"v",k=kv(N,_)),!k)return!1;if(!s.current&&"changedTouches"in g&&(b||w)&&(s.current=C),!C)return!0;var F=s.current||C;return fO(F,j,g,F==="h"?b:w,!0)},[]),c=h.useCallback(function(g){var j=g;if(!(!Ri.length||Ri[Ri.length-1]!==i)){var x="deltaY"in j?Tv(j):vd(j),p=t.current.filter(function(C){return C.name===j.type&&(C.target===j.target||j.target===C.shadowParent)&&mO(C.delta,x)})[0];if(p&&p.should){j.cancelable&&j.preventDefault();return}if(!p){var b=(o.current.shards||[]).map(Ev).filter(Boolean).filter(function(C){return C.contains(j.target)}),w=b.length>0?l(j,b[0]):!o.current.noIsolation;w&&j.cancelable&&j.preventDefault()}}},[]),d=h.useCallback(function(g,j,x,p){var b={name:g,delta:j,target:x,should:p,shadowParent:gO(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(w){return w!==b})},1)},[]),f=h.useCallback(function(g){n.current=vd(g),s.current=void 0},[]),m=h.useCallback(function(g){d(g.type,Tv(g),g.target,l(g,e.lockRef.current))},[]),u=h.useCallback(function(g){d(g.type,vd(g),g.target,l(g,e.lockRef.current))},[]);h.useEffect(function(){return Ri.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:u}),document.addEventListener("wheel",c,Ai),document.addEventListener("touchmove",c,Ai),document.addEventListener("touchstart",f,Ai),function(){Ri=Ri.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Ai),document.removeEventListener("touchmove",c,Ai),document.removeEventListener("touchstart",f,Ai)}},[]);var y=e.removeScrollBar,v=e.inert;return h.createElement(h.Fragment,null,v?h.createElement(i,{styles:hO(a)}):null,y?h.createElement(aO,{gapMode:e.gapMode}):null)}function gO(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const yO=QM(g2,xO);var yf=h.forwardRef(function(e,t){return h.createElement(gf,ts({},e,{ref:t,sideCar:yO}))});yf.classNames=gf.classNames;var vO=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ii=new WeakMap,bd=new WeakMap,jd={},bm=0,w2=function(e){return e&&(e.host||w2(e.parentNode))},bO=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=w2(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},jO=function(e,t,n,s){var a=bO(t,Array.isArray(e)?e:[e]);jd[n]||(jd[n]=new WeakMap);var i=jd[n],o=[],l=new Set,c=new Set(a),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};a.forEach(d);var f=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(u){if(l.has(u))f(u);else try{var y=u.getAttribute(s),v=y!==null&&y!=="false",g=(Ii.get(u)||0)+1,j=(i.get(u)||0)+1;Ii.set(u,g),i.set(u,j),o.push(u),g===1&&v&&bd.set(u,!0),j===1&&u.setAttribute(n,"true"),v||u.setAttribute(s,"true")}catch(x){console.error("aria-hidden: cannot operate on ",u,x)}})};return f(t),l.clear(),bm++,function(){o.forEach(function(m){var u=Ii.get(m)-1,y=i.get(m)-1;Ii.set(m,u),i.set(m,y),u||(bd.has(m)||m.removeAttribute(s),bd.delete(m)),y||m.removeAttribute(n)}),bm--,bm||(Ii=new WeakMap,Ii=new WeakMap,bd=new WeakMap,jd={})}},Vx=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=vO(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),jO(s,a,n,"aria-hidden")):function(){return null}},Bx="Dialog",[N2,r9]=hs(Bx),[wO,Wr]=N2(Bx),S2=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=h.useRef(null),c=h.useRef(null),[d=!1,f]=Na({prop:s,defaultProp:a,onChange:i});return r.jsx(wO,{scope:t,triggerRef:l,contentRef:c,contentId:Es(),titleId:Es(),descriptionId:Es(),open:d,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(m=>!m),[f]),modal:o,children:n})};S2.displayName=Bx;var C2="DialogTrigger",P2=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Wr(C2,n),i=pt(t,a.triggerRef);return r.jsx(Ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":qx(a.open),...s,ref:i,onClick:Te(e.onClick,a.onOpenToggle)})});P2.displayName=C2;var zx="DialogPortal",[NO,_2]=N2(zx,{forceMount:void 0}),k2=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,i=Wr(zx,t);return r.jsx(NO,{scope:t,forceMount:n,children:h.Children.map(s,o=>r.jsx(Bs,{present:n||i.open,children:r.jsx(Rc,{asChild:!0,container:a,children:o})}))})};k2.displayName=zx;var Nu="DialogOverlay",T2=h.forwardRef((e,t)=>{const n=_2(Nu,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=Wr(Nu,e.__scopeDialog);return i.modal?r.jsx(Bs,{present:s||i.open,children:r.jsx(CO,{...a,ref:t})}):null});T2.displayName=Nu;var SO=yi("DialogOverlay.RemoveScroll"),CO=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Wr(Nu,n);return r.jsx(yf,{as:SO,allowPinchZoom:!0,shards:[a.contentRef],children:r.jsx(Ue.div,{"data-state":qx(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),wi="DialogContent",E2=h.forwardRef((e,t)=>{const n=_2(wi,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=Wr(wi,e.__scopeDialog);return r.jsx(Bs,{present:s||i.open,children:i.modal?r.jsx(PO,{...a,ref:t}):r.jsx(_O,{...a,ref:t})})});E2.displayName=wi;var PO=h.forwardRef((e,t)=>{const n=Wr(wi,e.__scopeDialog),s=h.useRef(null),a=pt(t,n.contentRef,s);return h.useEffect(()=>{const i=s.current;if(i)return Vx(i)},[]),r.jsx(D2,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Te(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Te(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Te(e.onFocusOutside,i=>i.preventDefault())})}),_O=h.forwardRef((e,t)=>{const n=Wr(wi,e.__scopeDialog),s=h.useRef(!1),a=h.useRef(!1);return r.jsx(D2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),D2=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Wr(wi,n),c=h.useRef(null),d=pt(t,c);return $x(),r.jsxs(r.Fragment,{children:[r.jsx(xf,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:r.jsx(Yo,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":qx(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(kO,{titleId:l.titleId}),r.jsx(EO,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Ux="DialogTitle",A2=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Wr(Ux,n);return r.jsx(Ue.h2,{id:a.titleId,...s,ref:t})});A2.displayName=Ux;var R2="DialogDescription",I2=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Wr(R2,n);return r.jsx(Ue.p,{id:a.descriptionId,...s,ref:t})});I2.displayName=R2;var F2="DialogClose",M2=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Wr(F2,n);return r.jsx(Ue.button,{type:"button",...s,ref:t,onClick:Te(e.onClick,()=>a.onOpenChange(!1))})});M2.displayName=F2;function qx(e){return e?"open":"closed"}var O2="DialogTitleWarning",[s9,L2]=WR(O2,{contentName:wi,titleName:Ux,docsSlug:"dialog"}),kO=({titleId:e})=>{const t=L2(O2),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},TO="DialogDescriptionWarning",EO=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${L2(TO).contentName}}.`;return h.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},DO=S2,AO=P2,RO=k2,$2=T2,V2=E2,B2=A2,z2=I2,IO=M2;const Pn=DO,Su=AO,FO=RO,U2=h.forwardRef(({className:e,...t},n)=>r.jsx($2,{ref:n,className:Se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));U2.displayName=$2.displayName;const kn=h.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(FO,{children:[r.jsx(U2,{}),r.jsxs(V2,{ref:s,className:Se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(IO,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(Cx,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));kn.displayName=V2.displayName;const Bn=({className:e,...t})=>r.jsx("div",{className:Se("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Bn.displayName="DialogHeader";const Wx=({className:e,...t})=>r.jsx("div",{className:Se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Wx.displayName="DialogFooter";const zn=h.forwardRef(({className:e,...t},n)=>r.jsx(B2,{ref:n,className:Se("text-lg font-semibold leading-none tracking-tight",e),...t}));zn.displayName=B2.displayName;const ls=h.forwardRef(({className:e,...t},n)=>r.jsx(z2,{ref:n,className:Se("text-sm text-muted-foreground",e),...t}));ls.displayName=z2.displayName;function lt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function sr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Nn(e,t){const n=lt(e);return isNaN(t)?sr(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Br(e,t){const n=lt(e);if(isNaN(t))return sr(e,NaN);if(!t)return n;const s=n.getDate(),a=sr(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const i=a.getDate();return s>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),s),n)}const Qx=6048e5,MO=864e5;let OO={};function Lc(){return OO}function us(e,t){var l,c,d,f;const n=Lc(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,a=lt(e),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Ni(e){return us(e,{weekStartsOn:1})}function q2(e){const t=lt(e),n=t.getFullYear(),s=sr(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const a=Ni(s),i=sr(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Ni(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Oo(e){const t=lt(e);return t.setHours(0,0,0,0),t}function Cu(e){const t=lt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function ns(e,t){const n=Oo(e),s=Oo(t),a=+n-Cu(n),i=+s-Cu(s);return Math.round((a-i)/MO)}function LO(e){const t=q2(e),n=sr(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Ni(n)}function Xh(e,t){const n=t*7;return Nn(e,n)}function $O(e,t){return Br(e,t*12)}function VO(e){let t;return e.forEach(function(n){const s=lt(n);(t===void 0||t<s||isNaN(Number(s)))&&(t=s)}),t||new Date(NaN)}function BO(e){let t;return e.forEach(n=>{const s=lt(n);(!t||t>s||isNaN(+s))&&(t=s)}),t||new Date(NaN)}function On(e,t){const n=Oo(e),s=Oo(t);return+n==+s}function Hx(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function zO(e){if(!Hx(e)&&typeof e!="number")return!1;const t=lt(e);return!isNaN(Number(t))}function cc(e,t){const n=lt(e),s=lt(t),a=n.getFullYear()-s.getFullYear(),i=n.getMonth()-s.getMonth();return a*12+i}function UO(e,t,n){const s=us(e,n),a=us(t,n),i=+s-Cu(s),o=+a-Cu(a);return Math.round((i-o)/Qx)}function Kx(e){const t=lt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Un(e){const t=lt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function W2(e){const t=lt(e),n=sr(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Yx(e,t){var l,c,d,f;const n=Lc(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,a=lt(e),i=a.getDay(),o=(i<s?-7:0)+6-(i-s);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function Q2(e){return Yx(e,{weekStartsOn:1})}const qO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},WO=(e,t,n)=>{let s;const a=qO[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function jm(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const QO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},HO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},KO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},YO={date:jm({formats:QO,defaultWidth:"full"}),time:jm({formats:HO,defaultWidth:"full"}),dateTime:jm({formats:KO,defaultWidth:"full"})},GO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ZO=(e,t,n,s)=>GO[e];function ml(e){return(t,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const XO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},JO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},e3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},t3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},n3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},r3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},s3=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},a3={ordinalNumber:s3,era:ml({values:XO,defaultWidth:"wide"}),quarter:ml({values:JO,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ml({values:e3,defaultWidth:"wide"}),day:ml({values:t3,defaultWidth:"wide"}),dayPeriod:ml({values:n3,defaultWidth:"wide",formattingValues:r3,defaultFormattingWidth:"wide"})};function hl(e){return(t,n={})=>{const s=n.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?o3(l,m=>m.test(o)):i3(l,m=>m.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const f=t.slice(o.length);return{value:d,rest:f}}}function i3(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function o3(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function l3(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const c3=/^(\d+)(th|st|nd|rd)?/i,d3=/\d+/i,u3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},f3={any:[/^b/i,/^(a|c)/i]},m3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},h3={any:[/1/i,/2/i,/3/i,/4/i]},p3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},x3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},g3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},y3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},v3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},b3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},j3={ordinalNumber:l3({matchPattern:c3,parsePattern:d3,valueCallback:e=>parseInt(e,10)}),era:hl({matchPatterns:u3,defaultMatchWidth:"wide",parsePatterns:f3,defaultParseWidth:"any"}),quarter:hl({matchPatterns:m3,defaultMatchWidth:"wide",parsePatterns:h3,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hl({matchPatterns:p3,defaultMatchWidth:"wide",parsePatterns:x3,defaultParseWidth:"any"}),day:hl({matchPatterns:g3,defaultMatchWidth:"wide",parsePatterns:y3,defaultParseWidth:"any"}),dayPeriod:hl({matchPatterns:v3,defaultMatchWidth:"any",parsePatterns:b3,defaultParseWidth:"any"})},H2={code:"en-US",formatDistance:WO,formatLong:YO,formatRelative:ZO,localize:a3,match:j3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function w3(e){const t=lt(e);return ns(t,W2(t))+1}function K2(e){const t=lt(e),n=+Ni(t)-+LO(t);return Math.round(n/Qx)+1}function Y2(e,t){var f,m,u,y;const n=lt(e),s=n.getFullYear(),a=Lc(),i=(t==null?void 0:t.firstWeekContainsDate)??((m=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((y=(u=a.locale)==null?void 0:u.options)==null?void 0:y.firstWeekContainsDate)??1,o=sr(e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=us(o,t),c=sr(e,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const d=us(c,t);return n.getTime()>=l.getTime()?s+1:n.getTime()>=d.getTime()?s:s-1}function N3(e,t){var l,c,d,f;const n=Lc(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,a=Y2(e,t),i=sr(e,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),us(i,t)}function G2(e,t){const n=lt(e),s=+us(n,t)-+N3(n,t);return Math.round(s/Qx)+1}function ft(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const Hs={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return ft(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):ft(n+1,2)},d(e,t){return ft(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return ft(e.getHours()%12||12,t.length)},H(e,t){return ft(e.getHours(),t.length)},m(e,t){return ft(e.getMinutes(),t.length)},s(e,t){return ft(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,n-3));return ft(a,t.length)}},Fi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Dv={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return n.ordinalNumber(a,{unit:"year"})}return Hs.y(e,t)},Y:function(e,t,n,s){const a=Y2(e,s),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return ft(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):ft(i,t.length)},R:function(e,t){const n=q2(e);return ft(n,t.length)},u:function(e,t){const n=e.getFullYear();return ft(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return ft(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return ft(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return Hs.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return ft(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const a=G2(e,s);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):ft(a,t.length)},I:function(e,t,n){const s=K2(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):ft(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Hs.d(e,t)},D:function(e,t,n){const s=w3(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):ft(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ft(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ft(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return ft(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let a;switch(s===12?a=Fi.noon:s===0?a=Fi.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let a;switch(s>=17?a=Fi.evening:s>=12?a=Fi.afternoon:s>=4?a=Fi.morning:a=Fi.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Hs.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Hs.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):ft(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):ft(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Hs.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Hs.s(e,t)},S:function(e,t){return Hs.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return Rv(s);case"XXXX":case"XX":return Qa(s);case"XXXXX":case"XXX":default:return Qa(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return Rv(s);case"xxxx":case"xx":return Qa(s);case"xxxxx":case"xxx":default:return Qa(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Av(s,":");case"OOOO":default:return"GMT"+Qa(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Av(s,":");case"zzzz":default:return"GMT"+Qa(s,":")}},t:function(e,t,n){const s=Math.trunc(e.getTime()/1e3);return ft(s,t.length)},T:function(e,t,n){const s=e.getTime();return ft(s,t.length)}};function Av(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),i=s%60;return i===0?n+String(a):n+String(a)+t+ft(i,2)}function Rv(e,t){return e%60===0?(e>0?"-":"+")+ft(Math.abs(e)/60,2):Qa(e,t)}function Qa(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),a=ft(Math.trunc(s/60),2),i=ft(s%60,2);return n+a+t+i}const Iv=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Z2=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},S3=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],a=n[2];if(!a)return Iv(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Iv(s,t)).replace("{{time}}",Z2(a,t))},C3={p:Z2,P:S3},P3=/^D+$/,_3=/^Y+$/,k3=["D","DD","YY","YYYY"];function T3(e){return P3.test(e)}function E3(e){return _3.test(e)}function D3(e,t,n){const s=A3(e,t,n);if(console.warn(s),k3.includes(e))throw new RangeError(s)}function A3(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const R3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,I3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,F3=/^'([^]*?)'?$/,M3=/''/g,O3=/[a-zA-Z]/;function Zt(e,t,n){var f,m,u,y,v,g,j,x;const s=Lc(),a=(n==null?void 0:n.locale)??s.locale??H2,i=(n==null?void 0:n.firstWeekContainsDate)??((m=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(u=s.locale)==null?void 0:u.options)==null?void 0:y.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??s.weekStartsOn??((x=(j=s.locale)==null?void 0:j.options)==null?void 0:x.weekStartsOn)??0,l=lt(e);if(!zO(l))throw new RangeError("Invalid time value");let c=t.match(I3).map(p=>{const b=p[0];if(b==="p"||b==="P"){const w=C3[b];return w(p,a.formatLong)}return p}).join("").match(R3).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const b=p[0];if(b==="'")return{isToken:!1,value:L3(p)};if(Dv[b])return{isToken:!0,value:p};if(b.match(O3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:p}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(p=>{if(!p.isToken)return p.value;const b=p.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&E3(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&T3(b))&&D3(b,t,String(e));const w=Dv[b[0]];return w(l,b,a.localize,d)}).join("")}function L3(e){const t=e.match(F3);return t?t[1].replace(M3,"'"):e}function $3(e){const t=lt(e),n=t.getFullYear(),s=t.getMonth(),a=sr(e,0);return a.setFullYear(n,s+1,0),a.setHours(0,0,0,0),a.getDate()}function V3(e){return Math.trunc(+lt(e)/1e3)}function B3(e){const t=lt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function z3(e,t){return UO(B3(e),Un(e),t)+1}function Jh(e,t){const n=lt(e),s=lt(t);return n.getTime()>s.getTime()}function X2(e,t){const n=lt(e),s=lt(t);return+n<+s}function Gx(e,t){const n=lt(e),s=lt(t);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function U3(e,t){const n=lt(e),s=lt(t);return n.getFullYear()===s.getFullYear()}function wm(e,t){return Nn(e,-t)}function Nm(e,t){const n=lt(e),s=n.getFullYear(),a=n.getDate(),i=sr(e,0);i.setFullYear(s,t,15),i.setHours(0,0,0,0);const o=$3(i);return n.setMonth(t,Math.min(a,o)),n}function Fv(e,t){const n=lt(e);return isNaN(+n)?sr(e,NaN):(n.setFullYear(t),n)}function J2({invoiceId:e,isOpen:t,onClose:n}){const{toast:s}=Jt(),{data:a,isLoading:i}=We({queryKey:["/api/invoices",e],enabled:!!e&&t}),{data:o}=We({queryKey:["/api/settings"]}),l=yt({mutationFn:async b=>Je(`/api/invoices/${b}/send-email`,"POST",{}),onSuccess:()=>{s({title:"Email Sent",description:"Invoice has been sent successfully to customer's email"})},onError:b=>{s({title:"Error",description:b.message||"Failed to send email",variant:"destructive"})}}),c=yt({mutationFn:async b=>Je(`/api/invoices/${b}/mark-paid`,"POST",{}),onSuccess:()=>{s({title:"Payment Received",description:"Invoice has been marked as paid"}),Cn.invalidateQueries({queryKey:["/api/invoices",e]}),Cn.invalidateQueries({queryKey:["/api/invoices"]})},onError:b=>{s({title:"Error",description:b.message||"Failed to update payment status",variant:"destructive"})}}),d=yt({mutationFn:async b=>(await Je(`/api/invoices/${b}/fbr-submit`,"POST")).json(),onSuccess:()=>{Cn.invalidateQueries({queryKey:["/api/invoices",e]}),Cn.invalidateQueries({queryKey:["/api/invoices"]}),s({title:"FBR Submission Successful",description:"Invoice has been successfully submitted to FBR IRIS system"})},onError:b=>{s({title:"FBR Submission Failed",description:b.message||"Failed to submit invoice to FBR",variant:"destructive"})}}),f=async()=>{if(!(!e||!a))try{const{default:b}=await Mo(async()=>{const{default:D}=await import("./jspdf.es.min-BUx7sBui.js").then(q=>q.j);return{default:D}},[]),w=await Mo(()=>import("./html2canvas.esm-CBrSDip1.js"),[]),C=document.createElement("div");C.style.position="absolute",C.style.top="-9999px",C.style.width="794px",C.style.backgroundColor="white",C.style.padding="40px",C.style.fontFamily="Arial, sans-serif",C.innerHTML=`
        <div style="max-width: 714px; margin: 0 auto;">
          <!-- Header -->
          <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 40px; padding-bottom: 20px; border-bottom: 3px solid #2563eb;">
            <div>
              <h1 style="font-size: 28px; font-weight: bold; color: #1e40af; margin: 0;">${(o==null?void 0:o.businessName)||"Your Business Name"}</h1>
              <div style="margin-top: 10px; color: #6b7280; line-height: 1.5;">
                <p style="margin: 0;">${(o==null?void 0:o.address)||"Business Address Line 1"}</p>
                <p style="margin: 0;">${(o==null?void 0:o.city)||"City, Country"}</p>
                <p style="margin: 0;">Phone: ${(o==null?void 0:o.phone)||"+92 300 1234567"}</p>
                ${o!=null&&o.email?`<p style="margin: 0;">Email: ${o.email}</p>`:""}
                <p style="margin: 0; font-weight: 600;">NTN: ${(o==null?void 0:o.ntn)||"Not Set"}</p>
              </div>
            </div>
            <div style="text-align: right;">
              <h2 style="font-size: 32px; font-weight: bold; color: #2563eb; margin: 0;">INVOICE</h2>
              <div style="margin-top: 15px; font-size: 14px;">
                <p style="margin: 0;"><strong>Invoice #:</strong> ${a.invoiceNumber}</p>
                <p style="margin: 0;"><strong>Date:</strong> ${Zt(new Date(a.saleDate),"MMM dd, yyyy")}</p>
                <p style="margin: 0;"><strong>Due Date:</strong> ${Zt(new Date(a.dueDate),"MMM dd, yyyy")}</p>
              </div>
            </div>
          </div>

          <!-- Customer Info -->
          <div style="margin-bottom: 30px;">
            <h3 style="font-size: 16px; font-weight: bold; color: #374151; margin-bottom: 10px;">BILL TO:</h3>
            <div style="background: #f9fafb; padding: 15px; border-radius: 8px;">
              <p style="margin: 0; font-weight: 600; color: #111827;">${a.customerName}</p>
              ${a.customerEmail?`<p style="margin: 0; color: #6b7280;">Email: ${a.customerEmail}</p>`:""}
              ${a.customerPhone?`<p style="margin: 0; color: #6b7280;">Phone: ${a.customerPhone}</p>`:""}
              ${a.customerAddress?`<p style="margin: 0; color: #6b7280;">${a.customerAddress}</p>`:""}
            </div>
          </div>

          <!-- Items Table -->
          <table style="width: 100%; border-collapse: collapse; margin-bottom: 30px;">
            <thead>
              <tr style="background: #2563eb; color: white;">
                <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">#</th>
                <th style="padding: 12px; text-align: left; border: 1px solid #e5e7eb;">Item</th>
                <th style="padding: 12px; text-align: center; border: 1px solid #e5e7eb;">Qty</th>
                <th style="padding: 12px; text-align: right; border: 1px solid #e5e7eb;">Rate</th>
                <th style="padding: 12px; text-align: right; border: 1px solid #e5e7eb;">Tax</th>
                <th style="padding: 12px; text-align: right; border: 1px solid #e5e7eb;">Amount</th>
              </tr>
            </thead>
            <tbody>
              ${a.items.map((D,q)=>`
                <tr style="${q%2===0?"background: #f9fafb;":"background: white;"}">
                  <td style="padding: 12px; border: 1px solid #e5e7eb;">${q+1}</td>
                  <td style="padding: 12px; border: 1px solid #e5e7eb; font-weight: 500;">${D.productName}</td>
                  <td style="padding: 12px; text-align: center; border: 1px solid #e5e7eb;">${D.quantity}</td>
                  <td style="padding: 12px; text-align: right; border: 1px solid #e5e7eb;">${z(parseFloat(D.unitPrice))}</td>
                  <td style="padding: 12px; text-align: right; border: 1px solid #e5e7eb;">${D.taxRate}%</td>
                  <td style="padding: 12px; text-align: right; border: 1px solid #e5e7eb; font-weight: 600;">${z(parseFloat(D.totalAmount))}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>

          <!-- Totals -->
          <div style="display: flex; justify-content: space-between; margin-bottom: 30px;">
            <div style="width: 48%;">
              ${a.paymentMethod?`
                <h4 style="font-weight: bold; margin-bottom: 10px;">Payment Information:</h4>
                <p style="margin: 0;">Method: ${a.paymentMethod}</p>
                ${a.paidAmount?`<p style="margin: 0;">Paid: ${z(parseFloat(a.paidAmount))}</p>`:""}
                ${a.changeAmount?`<p style="margin: 0;">Change: ${z(parseFloat(a.changeAmount))}</p>`:""}
              `:""}
            </div>
            <div style="width: 48%;">
              <table style="width: 100%; border-collapse: collapse;">
                <tr>
                  <td style="padding: 8px 12px; text-align: right; font-weight: 500;">Subtotal:</td>
                  <td style="padding: 8px 12px; text-align: right; width: 120px;">${z(parseFloat(a.subtotal))}</td>
                </tr>
                ${parseFloat(a.discountAmount)>0?`
                  <tr>
                    <td style="padding: 8px 12px; text-align: right; font-weight: 500; color: #dc2626;">Discount:</td>
                    <td style="padding: 8px 12px; text-align: right; color: #dc2626;">-${z(parseFloat(a.discountAmount))}</td>
                  </tr>
                `:""}
                <tr>
                  <td style="padding: 8px 12px; text-align: right; font-weight: 500;">Tax (GST):</td>
                  <td style="padding: 8px 12px; text-align: right;">${z(parseFloat(a.taxAmount))}</td>
                </tr>
                <tr style="border-top: 2px solid #2563eb; background: #f0f9ff;">
                  <td style="padding: 12px; text-align: right; font-weight: bold; font-size: 16px;">Total:</td>
                  <td style="padding: 12px; text-align: right; font-weight: bold; font-size: 16px; color: #1e40af;">${z(parseFloat(a.totalAmount))}</td>
                </tr>
              </table>
            </div>
          </div>

          <!-- Footer -->
          <div style="border-top: 1px solid #e5e7eb; padding-top: 20px; text-align: center; color: #6b7280; font-size: 12px;">
            <p style="margin: 0;">FBR Status: <span style="color: ${a.fbrStatus==="submitted"?"#059669":"#d97706"}; font-weight: 600;">${a.fbrStatus==="submitted"?"Submitted to FBR":"Pending FBR Submission"}</span></p>
            <p style="margin: 10px 0 0 0;">Thank you for your business!</p>
            ${o!=null&&o.email?`<p style="margin: 5px 0 0 0;">For inquiries, contact us at ${o.email}</p>`:""}
          </div>
        </div>
      `,document.body.appendChild(C);const _=await w.default(C,{scale:2,useCORS:!0,backgroundColor:"#ffffff"});document.body.removeChild(C);const N=new b("p","pt","a4"),k=_.toDataURL("image/png"),F=N.internal.pageSize.getWidth(),L=_.height*F/_.width;N.addImage(k,"PNG",0,0,F,L);const S=a.invoiceNumber.replace(/[^a-zA-Z0-9-]/g,"");N.save(`Invoice_${S}.pdf`),s({title:"PDF Downloaded",description:"Invoice PDF has been downloaded successfully"})}catch(b){console.error("PDF generation error:",b),s({title:"Download Failed",description:"Unable to generate PDF. Please try again.",variant:"destructive"})}},m=()=>{if(!a)return;const b=window.open("","_blank");b&&(b.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Invoice ${a.invoiceNumber}</title>
          <style>
            body { 
              font-family: Arial, sans-serif; 
              margin: 0; 
              padding: 20px; 
              background: white;
            }
            @media print {
              body { margin: 0; padding: 20px; }
              .no-print { display: none; }
            }
            @page { margin: 0.5in; }
            .invoice-container { max-width: 800px; margin: 0 auto; }
            .header { display: flex; justify-content: space-between; margin-bottom: 40px; padding-bottom: 20px; border-bottom: 3px solid #2563eb; }
            .business-info h1 { font-size: 28px; color: #1e40af; margin: 0; }
            .business-info p { margin: 2px 0; color: #6b7280; }
            .invoice-title { text-align: right; }
            .invoice-title h2 { font-size: 32px; color: #2563eb; margin: 0; }
            .invoice-details { margin-top: 15px; font-size: 14px; }
            .customer-info { margin-bottom: 30px; background: #f9fafb; padding: 15px; border-radius: 8px; }
            .customer-info h3 { margin: 0 0 10px 0; color: #374151; }
            table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }
            th, td { padding: 12px; border: 1px solid #e5e7eb; text-align: left; }
            th { background: #2563eb; color: white; }
            .text-center { text-align: center; }
            .text-right { text-align: right; }
            .totals-section { display: flex; justify-content: space-between; margin-bottom: 30px; }
            .totals-table { width: 300px; }
            .total-row { border-top: 2px solid #2563eb; background: #f0f9ff; font-weight: bold; }
            .footer { border-top: 1px solid #e5e7eb; padding-top: 20px; text-align: center; color: #6b7280; font-size: 12px; }
          </style>
        </head>
        <body>
          <div class="invoice-container">
            <div class="header">
              <div class="business-info">
                <h1>${(o==null?void 0:o.businessName)||"Your Business Name"}</h1>
                <p>${(o==null?void 0:o.address)||"Business Address"}</p>
                <p>${(o==null?void 0:o.city)||"City, Country"}</p>
                <p>Phone: ${(o==null?void 0:o.phone)||"+92 300 1234567"}</p>
                ${o!=null&&o.email?`<p>Email: ${o.email}</p>`:""}
                <p><strong>NTN: ${(o==null?void 0:o.ntn)||"Not Set"}</strong></p>
              </div>
              <div class="invoice-title">
                <h2>INVOICE</h2>
                <div class="invoice-details">
                  <p><strong>Invoice #:</strong> ${a.invoiceNumber}</p>
                  <p><strong>Date:</strong> ${Zt(new Date(a.saleDate),"MMM dd, yyyy")}</p>
                  <p><strong>Due Date:</strong> ${Zt(new Date(a.dueDate),"MMM dd, yyyy")}</p>
                </div>
              </div>
            </div>

            <div class="customer-info">
              <h3>BILL TO:</h3>
              <p><strong>${a.customerName}</strong></p>
              ${a.customerEmail?`<p>Email: ${a.customerEmail}</p>`:""}
              ${a.customerPhone?`<p>Phone: ${a.customerPhone}</p>`:""}
              ${a.customerAddress?`<p>${a.customerAddress}</p>`:""}
            </div>

            <table>
              <thead>
                <tr>
                  <th>#</th>
                  <th>Item</th>
                  <th class="text-center">Qty</th>
                  <th class="text-right">Rate</th>
                  <th class="text-right">Tax</th>
                  <th class="text-right">Amount</th>
                </tr>
              </thead>
              <tbody>
                ${a.items.map((w,C)=>`
                  <tr>
                    <td>${C+1}</td>
                    <td><strong>${w.productName}</strong></td>
                    <td class="text-center">${w.quantity}</td>
                    <td class="text-right">${z(parseFloat(w.unitPrice))}</td>
                    <td class="text-right">${w.taxRate}%</td>
                    <td class="text-right"><strong>${z(parseFloat(w.totalAmount))}</strong></td>
                  </tr>
                `).join("")}
              </tbody>
            </table>

            <div class="totals-section">
              <div>
                ${a.paymentMethod?`
                  <h4>Payment Information:</h4>
                  <p>Method: ${a.paymentMethod}</p>
                  ${a.paidAmount?`<p>Paid: ${z(parseFloat(a.paidAmount))}</p>`:""}
                  ${a.changeAmount?`<p>Change: ${z(parseFloat(a.changeAmount))}</p>`:""}
                `:""}
              </div>
              <table class="totals-table">
                <tr>
                  <td class="text-right"><strong>Subtotal:</strong></td>
                  <td class="text-right">${z(parseFloat(a.subtotal))}</td>
                </tr>
                ${parseFloat(a.discountAmount)>0?`
                  <tr>
                    <td class="text-right" style="color: #dc2626;"><strong>Discount:</strong></td>
                    <td class="text-right" style="color: #dc2626;">-${z(parseFloat(a.discountAmount))}</td>
                  </tr>
                `:""}
                <tr>
                  <td class="text-right"><strong>Tax (GST):</strong></td>
                  <td class="text-right">${z(parseFloat(a.taxAmount))}</td>
                </tr>
                <tr class="total-row">
                  <td class="text-right"><strong>Total:</strong></td>
                  <td class="text-right" style="color: #1e40af;"><strong>${z(parseFloat(a.totalAmount))}</strong></td>
                </tr>
              </table>
            </div>

            <div class="footer">
              <p>FBR Status: <strong style="color: ${a.fbrStatus==="submitted"?"#059669":"#d97706"};">${a.fbrStatus==="submitted"?"Submitted to FBR":"Pending FBR Submission"}</strong></p>
              <p><strong>Thank you for your business!</strong></p>
              ${o!=null&&o.email?`<p>For inquiries, contact us at ${o.email}</p>`:""}
            </div>
          </div>
          <script>
            window.onload = function() {
              window.print();
              window.onafterprint = function() {
                window.close();
              }
            }
          <\/script>
        </body>
        </html>
      `),b.document.close())},u=()=>{const b=`${window.location.origin}/invoice/${e}`;navigator.share?navigator.share({title:`Invoice ${a==null?void 0:a.invoiceNumber}`,text:`Invoice for ${a==null?void 0:a.customerName}`,url:b}):(navigator.clipboard.writeText(b),s({title:"Link Copied",description:"Invoice link has been copied to clipboard"}))},y=()=>{e&&l.mutate(e)},v=()=>{e&&c.mutate(e)},g=()=>{e&&(a==null?void 0:a.fbrStatus)!=="submitted"&&d.mutate(e)},j=b=>{const w=new Date(b),C=new Date,_=w.getTime()-C.getTime(),N=Math.ceil(_/(1e3*60*60*24));return N<0?{status:"overdue",label:"Overdue",color:"bg-red-100 text-red-800"}:N<=1?{status:"due-soon",label:"Due Soon",color:"bg-orange-100 text-orange-800"}:N<=7?{status:"due-week",label:"Due This Week",color:"bg-yellow-100 text-yellow-800"}:{status:"normal",label:"Active",color:"bg-blue-100 text-blue-800"}},x=b=>{switch(b){case"completed":return"bg-green-100 text-green-800";case"partial":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-red-100 text-red-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-red-100 text-red-800"}},p=b=>b==="completed"?"Paid":"Unpaid";return t?r.jsx(Pn,{open:t,onOpenChange:n,children:r.jsxs(kn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Bn,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(zn,{className:"text-2xl",children:a?`Invoice ${a.invoiceNumber}`:"Loading Invoice..."}),a&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Pe,{className:x(a.paymentStatus),children:p(a.paymentStatus)}),r.jsx(Pe,{className:j(a.dueDate).color,children:j(a.dueDate).label})]})]}),r.jsx(ls,{children:a?`View and manage invoice for ${a.customerName}`:"Loading invoice details..."})]}),i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):a?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(G,{variant:"outline",onClick:u,"data-testid":"button-share-modal",children:[r.jsx(bC,{className:"h-4 w-4 mr-2"}),"Share"]}),r.jsxs(G,{variant:"outline",onClick:m,"data-testid":"button-print-modal",children:[r.jsx(wx,{className:"h-4 w-4 mr-2"}),"Print"]}),r.jsxs(G,{variant:"outline",onClick:f,"data-testid":"button-download-modal",children:[r.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Download PDF"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(G,{onClick:y,disabled:l.isPending,"data-testid":"button-email-invoice",children:[r.jsx(Ro,{className:"h-4 w-4 mr-2"}),l.isPending?"Sending...":"Send Email"]}),r.jsxs(G,{variant:a.fbrStatus==="submitted"?"default":"outline",onClick:g,disabled:a.fbrStatus==="submitted"||d.isPending,"data-testid":"button-fbr-submit-modal",className:a.fbrStatus==="submitted"?"bg-blue-600 hover:bg-blue-700":"",children:[r.jsx(Ar,{className:"h-4 w-4 mr-2"}),d.isPending?"Submitting...":a.fbrStatus==="submitted"?"Submitted to FBR":"Submit to FBR"]}),a.paymentStatus!=="completed"&&r.jsxs(G,{onClick:v,disabled:c.isPending,variant:"default",className:"bg-green-600 hover:bg-green-700","data-testid":"button-mark-paid",children:[r.jsx(br,{className:"h-4 w-4 mr-2"}),c.isPending?"Updating...":"Mark as Paid"]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Sa,{className:"h-8 w-8 text-blue-600"}),r.jsx("div",{children:r.jsx("h1",{className:"text-2xl font-bold",children:(o==null?void 0:o.businessName)||"Your Business Name"})})]}),r.jsxs("div",{className:"text-sm space-y-1",children:[r.jsx("p",{children:(o==null?void 0:o.address)||"Business Address Line 1, City, Country"}),r.jsx("p",{children:(o==null?void 0:o.city)||"City, Country"}),r.jsxs("p",{children:["Phone: ",(o==null?void 0:o.phone)||"+92 300 1234567"]}),(o==null?void 0:o.email)&&r.jsxs("p",{children:["Email: ",o.email]}),r.jsxs("p",{className:"font-medium",children:["NTN: ",(o==null?void 0:o.ntn)||"Not Set"]})]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"border-l-4 border-blue-600 pl-4",children:[r.jsx("h1",{className:"text-4xl font-bold text-blue-600 mb-2",children:"INVOICE"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("span",{className:"font-medium",children:"Invoice #:"}),r.jsx("span",{className:"font-mono",children:a.invoiceNumber})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("span",{className:"font-medium",children:"Date:"}),r.jsx("span",{children:Zt(new Date(a.saleDate),"dd/MM/yyyy")})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("span",{className:"font-medium",children:"Due Date:"}),r.jsx("span",{children:Zt(new Date(a.dueDate),"dd/MM/yyyy")})]})]})]})})]}),r.jsx(Ls,{}),r.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-3 border-b border-gray-200 pb-2",children:"Bill To:"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsx("div",{className:"font-bold text-lg",children:a.customerName}),a.customerEmail&&r.jsxs("div",{className:"text-gray-700 flex items-center gap-2",children:[r.jsx(Ro,{className:"h-4 w-4"}),a.customerEmail]}),a.customerPhone&&r.jsxs("div",{className:"text-gray-700 flex items-center gap-2",children:[r.jsx(jx,{className:"h-4 w-4"}),a.customerPhone]}),a.customerAddress&&r.jsxs("div",{className:"text-gray-700 flex items-center gap-2",children:[r.jsx(bx,{className:"h-4 w-4"}),a.customerAddress]})]})]}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-3 border-b border-blue-200 pb-2",children:"Status Information"}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Payment Status:"}),r.jsx(Pe,{className:x(a.paymentStatus),children:p(a.paymentStatus)})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"FBR Status:"}),r.jsx(Pe,{variant:a.fbrStatus==="submitted"?"default":"outline",children:a.fbrStatus.charAt(0).toUpperCase()+a.fbrStatus.slice(1)})]})]})]})]}),r.jsx("div",{className:"border rounded-lg overflow-hidden shadow-sm",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-blue-600 text-white",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-bold",children:"#"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-bold",children:"Description"}),r.jsx("th",{className:"px-4 py-3 text-center text-sm font-bold",children:"Qty"}),r.jsx("th",{className:"px-4 py-3 text-right text-sm font-bold",children:"Unit Price"}),r.jsx("th",{className:"px-4 py-3 text-center text-sm font-bold",children:"Tax Rate"}),r.jsx("th",{className:"px-4 py-3 text-right text-sm font-bold",children:"Tax Amount"}),r.jsx("th",{className:"px-4 py-3 text-right text-sm font-bold",children:"Total"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:a.items.map((b,w)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:w+1}),r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:b.productName}),r.jsx("td",{className:"px-4 py-3 text-sm text-center text-gray-700",children:b.quantity}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-700",children:z(parseFloat(b.unitPrice))}),r.jsxs("td",{className:"px-4 py-3 text-sm text-center text-gray-700",children:[parseFloat(b.taxRate).toFixed(2),"%"]}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-700",children:z(parseFloat(b.unitPrice)*b.quantity*parseFloat(b.taxRate)/100)}),r.jsx("td",{className:"px-4 py-3 text-sm text-right font-bold text-gray-900",children:z(parseFloat(b.totalAmount))})]},w))})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-bold mb-3 text-gray-900 border-b border-gray-200 pb-2",children:"Payment Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-700",children:"Payment Method:"}),r.jsx("span",{className:"font-medium",children:a.paymentMethod||"Pending"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-700",children:"Paid Amount:"}),r.jsx("span",{className:"font-medium",children:z(parseFloat(a.paidAmount||"0"))})]}),parseFloat(a.changeAmount||"0")>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-700",children:"Change:"}),r.jsx("span",{className:"font-medium",children:z(parseFloat(a.changeAmount))})]})]})]}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-bold mb-3 text-gray-900 border-b border-blue-200 pb-2",children:"Amount Summary"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-700",children:"Subtotal:"}),r.jsx("span",{className:"font-medium",children:z(parseFloat(a.subtotal))})]}),parseFloat(a.discountAmount)>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-700",children:"Discount:"}),r.jsxs("span",{className:"font-medium text-red-600",children:["-",z(parseFloat(a.discountAmount))]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-700",children:"Tax (GST):"}),r.jsx("span",{className:"font-medium",children:z(parseFloat(a.taxAmount))})]}),r.jsx(Ls,{}),r.jsxs("div",{className:"flex justify-between py-2 border-t border-blue-200",children:[r.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total Amount:"}),r.jsx("span",{className:"text-lg font-bold text-blue-600",children:z(parseFloat(a.totalAmount))})]})]})]})]}),a.notes&&r.jsxs("div",{className:"pt-4 border-t",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Notes:"}),r.jsx("p",{className:"text-sm text-gray-600",children:a.notes})]}),r.jsxs("div",{className:"pt-6 border-t-2 border-blue-600 space-y-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Thank you for your business!"}),r.jsx("p",{className:"text-sm text-gray-600",children:"We appreciate your continued trust and support."})]}),(o==null?void 0:o.invoiceTerms)&&r.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[r.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Terms & Conditions:"}),r.jsx("p",{className:"text-xs text-gray-700",children:o.invoiceTerms})]}),r.jsxs("div",{className:"text-center text-xs text-gray-500 space-y-1",children:[r.jsx("p",{children:"This is a computer generated invoice and requires no signature."}),r.jsxs("p",{children:["Generated on ",new Date().toLocaleString("en-PK")]}),a.fbrStatus==="submitted"&&r.jsxs("p",{className:"font-medium text-green-600 flex items-center justify-center gap-1",children:[r.jsx(br,{className:"h-3 w-3"}),"FBR Validated Invoice"]})]})]})]}):r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-600",children:"Invoice not found"})})]})}):null}var Ua={};function q3({amount:e,onPaymentSuccess:t,onPaymentCancel:n}){const[s,a]=h.useState("disconnected"),[i,o]=h.useState(!1),{toast:l}=Jt();h.useEffect(()=>{c();const u=setInterval(c,5e3);return()=>clearInterval(u)},[]);const c=async()=>{try{if(!Ua.VITE_CARD_READER_API_URL){console.warn("Card reader API not configured. Set VITE_CARD_READER_API_URL for production."),a("disconnected");return}(await fetch(`${Ua.VITE_CARD_READER_API_URL}/status`,{method:"GET",headers:{Authorization:`Bearer ${Ua.VITE_CARD_READER_TOKEN||""}`}})).ok?a("connected"):a("disconnected")}catch(u){console.error("Card reader connection check failed:",u),a("disconnected")}},d=async()=>{if(s!=="connected"){l({title:"Card Reader Not Available",description:"Please check card reader connection and try again.",variant:"destructive"});return}o(!0),a("reading");try{if(!Ua.VITE_CARD_READER_API_URL)throw new Error("Card reader API not configured");const u=await fetch(`${Ua.VITE_CARD_READER_API_URL}/process-payment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ua.VITE_CARD_READER_TOKEN||""}`},body:JSON.stringify({amount:e,currency:"PKR",merchant_id:Ua.VITE_MERCHANT_ID})});if(!u.ok)throw new Error("Payment processing failed");const y=await u.json();a("processing"),await new Promise(g=>setTimeout(g,2e3));const v={cardType:y.card_type||"Unknown",lastFourDigits:y.last_four||"****",transactionId:y.transaction_id,amount:e,timestamp:new Date().toISOString(),status:"completed",method:"card_reader",bank:y.bank_name,approvalCode:y.approval_code};l({title:"Payment Successful",description:`Card payment of Rs. ${e.toLocaleString()} completed`}),t(v),a("completed")}catch(u){console.error("Card payment error:",u),l({title:"Payment Failed",description:"Card transaction could not be completed. Please try again or use cash.",variant:"destructive"}),a("error")}finally{o(!1)}},f=()=>{switch(s){case"connected":return r.jsx(br,{className:"h-5 w-5 text-green-600"});case"reading":case"processing":return r.jsx(Ts,{className:"h-5 w-5 text-blue-600 animate-pulse"});case"completed":return r.jsx(br,{className:"h-5 w-5 text-green-600"});case"error":return r.jsx(ac,{className:"h-5 w-5 text-red-600"});default:return r.jsx(gr,{className:"h-5 w-5 text-orange-600"})}},m=()=>{switch(s){case"connected":return"Ready for payment";case"reading":return"Insert or swipe card...";case"processing":return"Processing payment...";case"completed":return"Payment completed";case"error":return"Payment failed";default:return"Card reader not available"}};return r.jsxs(ie,{className:"w-full max-w-md",children:[r.jsxs(fe,{children:[r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(Ts,{className:"h-5 w-5"}),"Card Payment"]}),r.jsxs(Bt,{children:["Amount: Rs. ",e.toLocaleString()]})]}),r.jsxs(oe,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[f(),r.jsx("div",{children:r.jsx(Pe,{variant:s==="connected"?"default":"secondary",children:m()})})]}),s==="disconnected"&&r.jsx("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:r.jsxs("p",{className:"text-sm text-orange-800",children:[r.jsx("strong",{children:"Setup Required:"})," Card reader integration needs configuration. Please set VITE_CARD_READER_API_URL and VITE_CARD_READER_TOKEN environment variables."]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(G,{onClick:d,disabled:s!=="connected"||i,className:"flex-1","data-testid":"button-process-card-payment",children:i?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):"Process Card Payment"}),r.jsx(G,{variant:"outline",onClick:n,disabled:i,"data-testid":"button-cancel-card-payment",children:"Cancel"})]}),s==="reading"&&r.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Please insert, swipe, or tap your card on the reader"})]})]})}function W3({amount:e,orderId:t,onPaymentSuccess:n,onPaymentCancel:s}){return r.jsx("div",{className:"space-y-6","data-testid":"payment-processor",children:r.jsx(q3,{amount:e,onPaymentSuccess:n,onPaymentCancel:s})})}function Q3(){const{toast:e}=Jt(),{user:t}=zs(),n=qr(),[s,a]=h.useState([]),[i,o]=h.useState(null),[l,c]=h.useState("cash"),[d,f]=h.useState(""),[m,u]=h.useState(!1),[y,v]=h.useState(!1),[g,j]=h.useState(""),{data:x}=We({queryKey:["/api/products"]}),{data:p}=We({queryKey:["/api/customers"]}),b=yt({mutationFn:async $=>(await Je("POST","/api/sales",$)).json(),onSuccess:$=>{n.invalidateQueries({queryKey:["/api/sales"]}),n.invalidateQueries({queryKey:["/api/products"]}),n.invalidateQueries({queryKey:["/api/analytics/daily-sales"]}),n.invalidateQueries({queryKey:["/api/analytics/monthly-sales"]}),n.invalidateQueries({queryKey:["/api/analytics/top-products"]}),n.invalidateQueries({queryKey:["/api/analytics/inventory-value"]}),j($.id),u(!0),N(),e({title:"Sale Completed!",description:`Invoice ${$.invoiceNumber} created successfully`})},onError:()=>{e({title:"Sale Failed",description:"Failed to process the sale. Please try again.",variant:"destructive"})}}),w=$=>{const K=s.find(B=>B.product.id===$.id);if(K)C($.id,K.quantity+1);else{const B=parseFloat($.unitPrice),P=parseFloat($.taxRate),W=vv(B,P),re=B+W,ve={product:$,quantity:1,unitPrice:B,taxRate:P,taxAmount:W,totalAmount:re};a(Qe=>[...Qe,ve])}},C=($,K)=>{if(K<=0){_($);return}a(B=>B.map(P=>{if(P.product.id===$){const W=vv(P.unitPrice*K,P.taxRate);return{...P,quantity:K,taxAmount:W,totalAmount:P.unitPrice*K+W}}return P}))},_=$=>{a(K=>K.filter(B=>B.product.id!==$))},N=()=>{a([]),o(null),f("")},k=s.reduce(($,K)=>$+K.totalAmount,0),F=s.reduce(($,K)=>$+K.unitPrice*K.quantity,0),L=s.reduce(($,K)=>$+K.taxAmount,0),S=Math.max(0,parseFloat(d||"0")-k),D=()=>{if(s.length===0){e({title:"Empty Cart",description:"Please add items to cart before checkout",variant:"destructive"});return}if(l==="card"){v(!0);return}if(l==="cash"&&parseFloat(d||"0")<k){e({title:"Insufficient Payment",description:"Paid amount is less than total amount",variant:"destructive"});return}V()},q=$=>{f(k.toString()),v(!1),V($)},V=$=>{const K={sale:{customerId:i==null?void 0:i.id,customerName:(i==null?void 0:i.name)||"Walk-in Customer",userId:(t==null?void 0:t.id)||"",subtotal:F.toString(),taxAmount:L.toString(),discountAmount:"0.00",totalAmount:k.toString(),paidAmount:l==="cash"?d:k.toString(),changeAmount:l==="cash"?S.toString():"0.00",paymentMethod:$?$.method:l,paymentStatus:"completed",fbrStatus:"pending",notes:$?`Transaction ID: ${$.transactionId}`:"",saleDate:new Date().toISOString()},items:s.map(B=>({productId:B.product.id,productName:B.product.name,quantity:B.quantity,unitPrice:B.unitPrice.toString(),taxRate:B.taxRate.toString(),taxAmount:B.taxAmount.toString(),totalAmount:B.totalAmount.toString()}))};b.mutate(K)};return r.jsxs("div",{className:"p-6","data-testid":"pos-container",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2 space-y-6",children:r.jsxs(ie,{children:[r.jsx(fe,{children:r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(Sx,{className:"h-5 w-5"}),"Product Selection"]})}),r.jsxs(oe,{children:[r.jsx(PM,{onProductSelect:w}),r.jsx("div",{className:"mt-4",children:r.jsx(_M,{})}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"font-medium mb-3",children:"Quick Add Products"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:x==null?void 0:x.slice(0,6).map($=>r.jsxs(G,{variant:"outline",className:"h-auto p-3 text-left flex flex-col items-start",onClick:()=>w($),"data-testid":`button-add-product-${$.id}`,children:[r.jsx("span",{className:"font-medium text-sm",children:$.name}),r.jsx("span",{className:"text-primary font-bold",children:z(parseFloat($.unitPrice))}),r.jsxs(Pe,{variant:"secondary",className:"text-xs mt-1",children:["Stock: ",$.stockQuantity]})]},$.id))})]})]})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(ie,{children:[r.jsx(fe,{children:r.jsxs(he,{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Shopping Cart"}),r.jsxs(Pe,{variant:"secondary",children:[s.length," items"]})]})}),r.jsx(oe,{children:r.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[s.map($=>r.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-sm truncate",children:$.product.name}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[z($.unitPrice)," each"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(G,{size:"sm",variant:"outline",onClick:()=>C($.product.id,$.quantity-1),"data-testid":`button-decrease-${$.product.id}`,children:r.jsx(K4,{className:"h-3 w-3"})}),r.jsx("span",{className:"text-sm font-medium w-8 text-center",children:$.quantity}),r.jsx(G,{size:"sm",variant:"outline",onClick:()=>C($.product.id,$.quantity+1),"data-testid":`button-increase-${$.product.id}`,children:r.jsx(is,{className:"h-3 w-3"})}),r.jsx(G,{size:"sm",variant:"destructive",onClick:()=>_($.product.id),"data-testid":`button-remove-${$.product.id}`,children:r.jsx(_a,{className:"h-3 w-3"})})]})]},$.product.id)),s.length===0&&r.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Cart is empty"})]})})]}),r.jsxs(ie,{children:[r.jsx(fe,{children:r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(bi,{className:"h-5 w-5"}),"Customer"]})}),r.jsx(oe,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("select",{className:"w-full p-2 border rounded",value:(i==null?void 0:i.id)||"",onChange:$=>{const K=p==null?void 0:p.find(B=>B.id===$.target.value);o(K||null)},"data-testid":"select-customer",children:[r.jsx("option",{value:"",children:"Walk-in Customer"}),p==null?void 0:p.map($=>r.jsxs("option",{value:$.id,children:[$.name," - ",$.phone]},$.id))]}),i&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("p",{children:["Phone: ",i.phone]}),r.jsxs("p",{children:["Points: ",i.loyaltyPoints]})]})]})})]}),r.jsxs(ie,{children:[r.jsx(fe,{children:r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(M4,{className:"h-5 w-5"}),"Payment Summary"]})}),r.jsx(oe,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Subtotal:"}),r.jsx("span",{"data-testid":"text-subtotal",children:z(F)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Tax (GST):"}),r.jsx("span",{"data-testid":"text-tax",children:z(L)})]}),r.jsx(Ls,{}),r.jsxs("div",{className:"flex justify-between font-bold",children:[r.jsx("span",{children:"Total:"}),r.jsx("span",{"data-testid":"text-total",children:z(k)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Payment Method:"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(G,{size:"sm",variant:l==="cash"?"default":"outline",onClick:()=>c("cash"),"data-testid":"button-payment-cash",children:[r.jsx($d,{className:"h-4 w-4 mr-1"}),"Cash"]}),r.jsxs(G,{size:"sm",variant:l==="card"?"default":"outline",onClick:()=>c("card"),"data-testid":"button-payment-card",children:[r.jsx(Ts,{className:"h-4 w-4 mr-1"}),"Card"]})]})]}),l==="cash"&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Amount Paid:"}),r.jsx(ue,{type:"number",step:"0.01",placeholder:"0.00",value:d,onChange:$=>f($.target.value),"data-testid":"input-paid-amount"}),parseFloat(d||"0")>k&&r.jsxs("p",{className:"text-sm text-green-600",children:["Change: ",z(S)]})]}),l==="card"&&r.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/50 p-3 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:['Click "Complete Sale" to process ',z(k)," via card reader terminal"]})}),r.jsx(G,{className:"w-full",size:"lg",onClick:D,disabled:s.length===0||b.isPending,"data-testid":"button-checkout",children:b.isPending?"Processing...":"Complete Sale"})]})})]})]})]}),y&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:r.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Card Reader Payment"}),r.jsx(W3,{amount:k,orderId:`ORDER-${Date.now()}`,onPaymentSuccess:q,onPaymentCancel:()=>v(!1)})]})})}),m&&g&&r.jsx(J2,{invoiceId:g,isOpen:m,onClose:()=>u(!1)})]})}var H3="Label",eP=h.forwardRef((e,t)=>r.jsx(Ue.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));eP.displayName=H3;var tP=eP;const K3=Fc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ee=h.forwardRef(({className:e,...t},n)=>r.jsx(tP,{ref:n,className:Se(K3(),e),...t}));Ee.displayName=tP.displayName;const mn=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:Se("w-full caption-bottom text-sm",e),...t})}));mn.displayName="Table";const hn=h.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:Se("[&_tr]:border-b",e),...t}));hn.displayName="TableHeader";const pn=h.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:Se("[&_tr:last-child]:border-0",e),...t}));pn.displayName="TableBody";const Y3=h.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:Se("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Y3.displayName="TableFooter";const Xe=h.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:Se("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Xe.displayName="TableRow";const J=h.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:Se("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));J.displayName="TableHead";const Y=h.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:Se("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Y.displayName="TableCell";const G3=h.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:Se("mt-4 text-sm text-muted-foreground",e),...t}));G3.displayName="TableCaption";var $c=e=>e.type==="checkbox",Za=e=>e instanceof Date,Sn=e=>e==null;const nP=e=>typeof e=="object";var Ut=e=>!Sn(e)&&!Array.isArray(e)&&nP(e)&&!Za(e),rP=e=>Ut(e)&&e.target?$c(e.target)?e.target.checked:e.target.value:e,Z3=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,sP=(e,t)=>e.has(Z3(t)),X3=e=>{const t=e.constructor&&e.constructor.prototype;return Ut(t)&&t.hasOwnProperty("isPrototypeOf")},Zx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function tn(e){let t;const n=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Zx&&(e instanceof Blob||s))&&(n||Ut(e)))if(t=n?[]:{},!n&&!X3(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=tn(e[a]));else return e;return t}var vf=e=>Array.isArray(e)?e.filter(Boolean):[],Vt=e=>e===void 0,de=(e,t,n)=>{if(!t||!Ut(e))return n;const s=vf(t.split(/[,[\].]+?/)).reduce((a,i)=>Sn(a)?a:a[i],e);return Vt(s)||s===e?Vt(e[t])?n:e[t]:s},Hn=e=>typeof e=="boolean",Xx=e=>/^\w*$/.test(e),aP=e=>vf(e.replace(/["|']|\]/g,"").split(/\.|\[/)),dt=(e,t,n)=>{let s=-1;const a=Xx(t)?[t]:aP(t),i=a.length,o=i-1;for(;++s<i;){const l=a[s];let c=n;if(s!==o){const d=e[l];c=Ut(d)||Array.isArray(d)?d:isNaN(+a[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Pu={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Er={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},gs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},iP=He.createContext(null),bf=()=>He.useContext(iP),J3=e=>{const{children:t,...n}=e;return He.createElement(iP.Provider,{value:n},t)};var oP=(e,t,n,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Er.all&&(t._proxyFormState[o]=!s||Er.all),n&&(n[o]=!0),e[o]}});return a};function eL(e){const t=bf(),{control:n=t.control,disabled:s,name:a,exact:i}=e||{},[o,l]=He.useState(n._formState),c=He.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=He.useRef(a);return d.current=a,He.useEffect(()=>n._subscribe({name:d.current,formState:c.current,exact:i,callback:f=>{!s&&l({...n._formState,...f})}}),[n,s,i]),He.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),He.useMemo(()=>oP(o,n,c.current,!1),[o,n])}var rs=e=>typeof e=="string",lP=(e,t,n,s,a)=>rs(e)?(s&&t.watch.add(e),de(n,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),de(n,i))):(s&&(t.watchAll=!0),n);function tL(e){const t=bf(),{control:n=t.control,name:s,defaultValue:a,disabled:i,exact:o}=e||{},l=He.useRef(s),c=He.useRef(a);l.current=s,He.useEffect(()=>n._subscribe({name:l.current,formState:{values:!0},exact:o,callback:m=>!i&&f(lP(l.current,n._names,m.values||n._formValues,!1,c.current))}),[n,i,o]);const[d,f]=He.useState(n._getWatch(s,a));return He.useEffect(()=>n._removeUnmounted()),d}function nL(e){const t=bf(),{name:n,disabled:s,control:a=t.control,shouldUnregister:i}=e,o=sP(a._names.array,n),l=tL({control:a,name:n,defaultValue:de(a._formValues,n,de(a._defaultValues,n,e.defaultValue)),exact:!0}),c=eL({control:a,name:n,exact:!0}),d=He.useRef(e),f=He.useRef(a.register(n,{...e.rules,value:l,...Hn(e.disabled)?{disabled:e.disabled}:{}})),m=He.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!de(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!de(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!de(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!de(c.validatingFields,n)},error:{enumerable:!0,get:()=>de(c.errors,n)}}),[c,n]),u=He.useCallback(j=>f.current.onChange({target:{value:rP(j),name:n},type:Pu.CHANGE}),[n]),y=He.useCallback(()=>f.current.onBlur({target:{value:de(a._formValues,n),name:n},type:Pu.BLUR}),[n,a._formValues]),v=He.useCallback(j=>{const x=de(a._fields,n);x&&j&&(x._f.ref={focus:()=>j.focus(),select:()=>j.select(),setCustomValidity:p=>j.setCustomValidity(p),reportValidity:()=>j.reportValidity()})},[a._fields,n]),g=He.useMemo(()=>({name:n,value:l,...Hn(s)||c.disabled?{disabled:c.disabled||s}:{},onChange:u,onBlur:y,ref:v}),[n,s,c.disabled,u,y,v,l]);return He.useEffect(()=>{const j=a._options.shouldUnregister||i;a.register(n,{...d.current.rules,...Hn(d.current.disabled)?{disabled:d.current.disabled}:{}});const x=(p,b)=>{const w=de(a._fields,p);w&&w._f&&(w._f.mount=b)};if(x(n,!0),j){const p=tn(de(a._options.defaultValues,n));dt(a._defaultValues,n,p),Vt(de(a._formValues,n))&&dt(a._formValues,n,p)}return!o&&a.register(n),()=>{(o?j&&!a._state.action:j)?a.unregister(n):x(n,!1)}},[n,a,o,i]),He.useEffect(()=>{a._setDisabledField({disabled:s,name:n})},[s,n,a]),He.useMemo(()=>({field:g,formState:c,fieldState:m}),[g,c,m])}const rL=e=>e.render(nL(e));var cP=(e,t,n,s,a)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[s]:a||!0}}:{},Ol=e=>Array.isArray(e)?e:[e],Mv=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},ep=e=>Sn(e)||!nP(e);function ea(e,t){if(ep(e)||ep(t))return e===t;if(Za(e)&&Za(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(const a of n){const i=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const o=t[a];if(Za(i)&&Za(o)||Ut(i)&&Ut(o)||Array.isArray(i)&&Array.isArray(o)?!ea(i,o):i!==o)return!1}}return!0}var jn=e=>Ut(e)&&!Object.keys(e).length,Jx=e=>e.type==="file",Dr=e=>typeof e=="function",_u=e=>{if(!Zx)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},dP=e=>e.type==="select-multiple",eg=e=>e.type==="radio",sL=e=>eg(e)||$c(e),Sm=e=>_u(e)&&e.isConnected;function aL(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=Vt(e)?s++:e[t[s++]];return e}function iL(e){for(const t in e)if(e.hasOwnProperty(t)&&!Vt(e[t]))return!1;return!0}function Wt(e,t){const n=Array.isArray(t)?t:Xx(t)?[t]:aP(t),s=n.length===1?e:aL(e,n),a=n.length-1,i=n[a];return s&&delete s[i],a!==0&&(Ut(s)&&jn(s)||Array.isArray(s)&&iL(s))&&Wt(e,n.slice(0,-1)),e}var uP=e=>{for(const t in e)if(Dr(e[t]))return!0;return!1};function ku(e,t={}){const n=Array.isArray(e);if(Ut(e)||n)for(const s in e)Array.isArray(e[s])||Ut(e[s])&&!uP(e[s])?(t[s]=Array.isArray(e[s])?[]:{},ku(e[s],t[s])):Sn(e[s])||(t[s]=!0);return t}function fP(e,t,n){const s=Array.isArray(e);if(Ut(e)||s)for(const a in e)Array.isArray(e[a])||Ut(e[a])&&!uP(e[a])?Vt(t)||ep(n[a])?n[a]=Array.isArray(e[a])?ku(e[a],[]):{...ku(e[a])}:fP(e[a],Sn(t)?{}:t[a],n[a]):n[a]=!ea(e[a],t[a]);return n}var pl=(e,t)=>fP(e,t,ku(t));const Ov={value:!1,isValid:!1},Lv={value:!0,isValid:!0};var mP=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Vt(e[0].attributes.value)?Vt(e[0].value)||e[0].value===""?Lv:{value:e[0].value,isValid:!0}:Lv:Ov}return Ov},hP=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>Vt(e)?e:t?e===""?NaN:e&&+e:n&&rs(e)?new Date(e):s?s(e):e;const $v={isValid:!1,value:null};var pP=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,$v):$v;function Vv(e){const t=e.ref;return Jx(t)?t.files:eg(t)?pP(e.refs).value:dP(t)?[...t.selectedOptions].map(({value:n})=>n):$c(t)?mP(e.refs).value:hP(Vt(t.value)?e.ref.value:t.value,e)}var oL=(e,t,n,s)=>{const a={};for(const i of e){const o=de(t,i);o&&dt(a,i,o._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:s}},Tu=e=>e instanceof RegExp,xl=e=>Vt(e)?e:Tu(e)?e.source:Ut(e)?Tu(e.value)?e.value.source:e.value:e,Bv=e=>({isOnSubmit:!e||e===Er.onSubmit,isOnBlur:e===Er.onBlur,isOnChange:e===Er.onChange,isOnAll:e===Er.all,isOnTouch:e===Er.onTouched});const zv="AsyncFunction";var lL=e=>!!e&&!!e.validate&&!!(Dr(e.validate)&&e.validate.constructor.name===zv||Ut(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===zv)),cL=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Uv=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Ll=(e,t,n,s)=>{for(const a of n||Object.keys(e)){const i=de(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(Ll(l,t))break}else if(Ut(l)&&Ll(l,t))break}}};function qv(e,t,n){const s=de(e,n);if(s||Xx(n))return{error:s,name:n};const a=n.split(".");for(;a.length;){const i=a.join("."),o=de(t,i),l=de(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:n}}var dL=(e,t,n,s)=>{n(e);const{name:a,...i}=e;return jn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!s||Er.all))},uL=(e,t,n)=>!e||!t||e===t||Ol(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s))),fL=(e,t,n,s,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(t||e):(n?s.isOnBlur:a.isOnBlur)?!e:(n?s.isOnChange:a.isOnChange)?e:!0,mL=(e,t)=>!vf(de(e,t)).length&&Wt(e,t),hL=(e,t,n)=>{const s=Ol(de(e,n));return dt(s,"root",t[n]),dt(e,n,s),e},Ud=e=>rs(e);function Wv(e,t,n="validate"){if(Ud(e)||Array.isArray(e)&&e.every(Ud)||Hn(e)&&!e)return{type:n,message:Ud(e)?e:"",ref:t}}var Mi=e=>Ut(e)&&!Tu(e)?e:{value:e,message:""},Qv=async(e,t,n,s,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:f,min:m,max:u,pattern:y,validate:v,name:g,valueAsNumber:j,mount:x}=e._f,p=de(n,g);if(!x||t.has(g))return{};const b=l?l[0]:o,w=D=>{a&&b.reportValidity&&(b.setCustomValidity(Hn(D)?"":D||""),b.reportValidity())},C={},_=eg(o),N=$c(o),k=_||N,F=(j||Jx(o))&&Vt(o.value)&&Vt(p)||_u(o)&&o.value===""||p===""||Array.isArray(p)&&!p.length,L=cP.bind(null,g,s,C),S=(D,q,V,$=gs.maxLength,K=gs.minLength)=>{const B=D?q:V;C[g]={type:D?$:K,message:B,ref:o,...L(D?$:K,B)}};if(i?!Array.isArray(p)||!p.length:c&&(!k&&(F||Sn(p))||Hn(p)&&!p||N&&!mP(l).isValid||_&&!pP(l).isValid)){const{value:D,message:q}=Ud(c)?{value:!!c,message:c}:Mi(c);if(D&&(C[g]={type:gs.required,message:q,ref:b,...L(gs.required,q)},!s))return w(q),C}if(!F&&(!Sn(m)||!Sn(u))){let D,q;const V=Mi(u),$=Mi(m);if(!Sn(p)&&!isNaN(p)){const K=o.valueAsNumber||p&&+p;Sn(V.value)||(D=K>V.value),Sn($.value)||(q=K<$.value)}else{const K=o.valueAsDate||new Date(p),B=re=>new Date(new Date().toDateString()+" "+re),P=o.type=="time",W=o.type=="week";rs(V.value)&&p&&(D=P?B(p)>B(V.value):W?p>V.value:K>new Date(V.value)),rs($.value)&&p&&(q=P?B(p)<B($.value):W?p<$.value:K<new Date($.value))}if((D||q)&&(S(!!D,V.message,$.message,gs.max,gs.min),!s))return w(C[g].message),C}if((d||f)&&!F&&(rs(p)||i&&Array.isArray(p))){const D=Mi(d),q=Mi(f),V=!Sn(D.value)&&p.length>+D.value,$=!Sn(q.value)&&p.length<+q.value;if((V||$)&&(S(V,D.message,q.message),!s))return w(C[g].message),C}if(y&&!F&&rs(p)){const{value:D,message:q}=Mi(y);if(Tu(D)&&!p.match(D)&&(C[g]={type:gs.pattern,message:q,ref:o,...L(gs.pattern,q)},!s))return w(q),C}if(v){if(Dr(v)){const D=await v(p,n),q=Wv(D,b);if(q&&(C[g]={...q,...L(gs.validate,q.message)},!s))return w(q.message),C}else if(Ut(v)){let D={};for(const q in v){if(!jn(D)&&!s)break;const V=Wv(await v[q](p,n),b,q);V&&(D={...V,...L(q,V.message)},w(V.message),s&&(C[g]=D))}if(!jn(D)&&(C[g]={ref:b,...D},!s))return C}}return w(!0),C};const pL={mode:Er.onSubmit,reValidateMode:Er.onChange,shouldFocusError:!0};function xL(e={}){let t={...pL,...e},n={submitCount:0,isDirty:!1,isLoading:Dr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const s={};let a=Ut(t.defaultValues)||Ut(t.values)?tn(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:tn(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...f};const u={array:Mv(),state:Mv()},y=Bv(t.mode),v=Bv(t.reValidateMode),g=t.criteriaMode===Er.all,j=T=>O=>{clearTimeout(d),d=setTimeout(T,O)},x=async T=>{if(!t.disabled&&(f.isValid||m.isValid||T)){const O=t.resolver?jn((await F()).errors):await S(s,!0);O!==n.isValid&&u.state.next({isValid:O})}},p=(T,O)=>{!t.disabled&&(f.isValidating||f.validatingFields||m.isValidating||m.validatingFields)&&((T||Array.from(l.mount)).forEach(H=>{H&&(O?dt(n.validatingFields,H,O):Wt(n.validatingFields,H))}),u.state.next({validatingFields:n.validatingFields,isValidating:!jn(n.validatingFields)}))},b=(T,O=[],H,pe,le=!0,ne=!0)=>{if(pe&&H&&!t.disabled){if(o.action=!0,ne&&Array.isArray(de(s,T))){const je=H(de(s,T),pe.argA,pe.argB);le&&dt(s,T,je)}if(ne&&Array.isArray(de(n.errors,T))){const je=H(de(n.errors,T),pe.argA,pe.argB);le&&dt(n.errors,T,je),mL(n.errors,T)}if((f.touchedFields||m.touchedFields)&&ne&&Array.isArray(de(n.touchedFields,T))){const je=H(de(n.touchedFields,T),pe.argA,pe.argB);le&&dt(n.touchedFields,T,je)}(f.dirtyFields||m.dirtyFields)&&(n.dirtyFields=pl(a,i)),u.state.next({name:T,isDirty:q(T,O),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else dt(i,T,O)},w=(T,O)=>{dt(n.errors,T,O),u.state.next({errors:n.errors})},C=T=>{n.errors=T,u.state.next({errors:n.errors,isValid:!1})},_=(T,O,H,pe)=>{const le=de(s,T);if(le){const ne=de(i,T,Vt(H)?de(a,T):H);Vt(ne)||pe&&pe.defaultChecked||O?dt(i,T,O?ne:Vv(le._f)):K(T,ne),o.mount&&x()}},N=(T,O,H,pe,le)=>{let ne=!1,je=!1;const rt={name:T};if(!t.disabled){if(!H||pe){(f.isDirty||m.isDirty)&&(je=n.isDirty,n.isDirty=rt.isDirty=q(),ne=je!==rt.isDirty);const Mt=ea(de(a,T),O);je=!!de(n.dirtyFields,T),Mt?Wt(n.dirtyFields,T):dt(n.dirtyFields,T,!0),rt.dirtyFields=n.dirtyFields,ne=ne||(f.dirtyFields||m.dirtyFields)&&je!==!Mt}if(H){const Mt=de(n.touchedFields,T);Mt||(dt(n.touchedFields,T,H),rt.touchedFields=n.touchedFields,ne=ne||(f.touchedFields||m.touchedFields)&&Mt!==H)}ne&&le&&u.state.next(rt)}return ne?rt:{}},k=(T,O,H,pe)=>{const le=de(n.errors,T),ne=(f.isValid||m.isValid)&&Hn(O)&&n.isValid!==O;if(t.delayError&&H?(c=j(()=>w(T,H)),c(t.delayError)):(clearTimeout(d),c=null,H?dt(n.errors,T,H):Wt(n.errors,T)),(H?!ea(le,H):le)||!jn(pe)||ne){const je={...pe,...ne&&Hn(O)?{isValid:O}:{},errors:n.errors,name:T};n={...n,...je},u.state.next(je)}},F=async T=>{p(T,!0);const O=await t.resolver(i,t.context,oL(T||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return p(T),O},L=async T=>{const{errors:O}=await F(T);if(T)for(const H of T){const pe=de(O,H);pe?dt(n.errors,H,pe):Wt(n.errors,H)}else n.errors=O;return O},S=async(T,O,H={valid:!0})=>{for(const pe in T){const le=T[pe];if(le){const{_f:ne,...je}=le;if(ne){const rt=l.array.has(ne.name),Mt=le._f&&lL(le._f);Mt&&f.validatingFields&&p([pe],!0);const it=await Qv(le,l.disabled,i,g,t.shouldUseNativeValidation&&!O,rt);if(Mt&&f.validatingFields&&p([pe]),it[ne.name]&&(H.valid=!1,O))break;!O&&(de(it,ne.name)?rt?hL(n.errors,it,ne.name):dt(n.errors,ne.name,it[ne.name]):Wt(n.errors,ne.name))}!jn(je)&&await S(je,O,H)}}return H.valid},D=()=>{for(const T of l.unMount){const O=de(s,T);O&&(O._f.refs?O._f.refs.every(H=>!Sm(H)):!Sm(O._f.ref))&&Be(T)}l.unMount=new Set},q=(T,O)=>!t.disabled&&(T&&O&&dt(i,T,O),!ea(Qe(),a)),V=(T,O,H)=>lP(T,l,{...o.mount?i:Vt(O)?a:rs(T)?{[T]:O}:O},H,O),$=T=>vf(de(o.mount?i:a,T,t.shouldUnregister?de(a,T,[]):[])),K=(T,O,H={})=>{const pe=de(s,T);let le=O;if(pe){const ne=pe._f;ne&&(!ne.disabled&&dt(i,T,hP(O,ne)),le=_u(ne.ref)&&Sn(O)?"":O,dP(ne.ref)?[...ne.ref.options].forEach(je=>je.selected=le.includes(je.value)):ne.refs?$c(ne.ref)?ne.refs.length>1?ne.refs.forEach(je=>(!je.defaultChecked||!je.disabled)&&(je.checked=Array.isArray(le)?!!le.find(rt=>rt===je.value):le===je.value)):ne.refs[0]&&(ne.refs[0].checked=!!le):ne.refs.forEach(je=>je.checked=je.value===le):Jx(ne.ref)?ne.ref.value="":(ne.ref.value=le,ne.ref.type||u.state.next({name:T,values:tn(i)})))}(H.shouldDirty||H.shouldTouch)&&N(T,le,H.shouldTouch,H.shouldDirty,!0),H.shouldValidate&&ve(T)},B=(T,O,H)=>{for(const pe in O){const le=O[pe],ne=`${T}.${pe}`,je=de(s,ne);(l.array.has(T)||Ut(le)||je&&!je._f)&&!Za(le)?B(ne,le,H):K(ne,le,H)}},P=(T,O,H={})=>{const pe=de(s,T),le=l.array.has(T),ne=tn(O);dt(i,T,ne),le?(u.array.next({name:T,values:tn(i)}),(f.isDirty||f.dirtyFields||m.isDirty||m.dirtyFields)&&H.shouldDirty&&u.state.next({name:T,dirtyFields:pl(a,i),isDirty:q(T,ne)})):pe&&!pe._f&&!Sn(ne)?B(T,ne,H):K(T,ne,H),Uv(T,l)&&u.state.next({...n}),u.state.next({name:o.mount?T:void 0,values:tn(i)})},W=async T=>{o.mount=!0;const O=T.target;let H=O.name,pe=!0;const le=de(s,H),ne=je=>{pe=Number.isNaN(je)||Za(je)&&isNaN(je.getTime())||ea(je,de(i,H,je))};if(le){let je,rt;const Mt=O.type?Vv(le._f):rP(T),it=T.type===Pu.BLUR||T.type===Pu.FOCUS_OUT,An=!cL(le._f)&&!t.resolver&&!de(n.errors,H)&&!le._f.deps||fL(it,de(n.touchedFields,H),n.isSubmitted,v,y),Kc=Uv(H,l,it);dt(i,H,Mt),it?(le._f.onBlur&&le._f.onBlur(T),c&&c(0)):le._f.onChange&&le._f.onChange(T);const nl=N(H,Mt,it),eE=!jn(nl)||Kc;if(!it&&u.state.next({name:H,type:T.type,values:tn(i)}),An)return(f.isValid||m.isValid)&&(t.mode==="onBlur"?it&&x():it||x()),eE&&u.state.next({name:H,...Kc?{}:nl});if(!it&&Kc&&u.state.next({...n}),t.resolver){const{errors:bg}=await F([H]);if(ne(Mt),pe){const tE=qv(n.errors,s,H),jg=qv(bg,s,tE.name||H);je=jg.error,H=jg.name,rt=jn(bg)}}else p([H],!0),je=(await Qv(le,l.disabled,i,g,t.shouldUseNativeValidation))[H],p([H]),ne(Mt),pe&&(je?rt=!1:(f.isValid||m.isValid)&&(rt=await S(s,!0)));pe&&(le._f.deps&&ve(le._f.deps),k(H,rt,je,nl))}},re=(T,O)=>{if(de(n.errors,O)&&T.focus)return T.focus(),1},ve=async(T,O={})=>{let H,pe;const le=Ol(T);if(t.resolver){const ne=await L(Vt(T)?T:le);H=jn(ne),pe=T?!le.some(je=>de(ne,je)):H}else T?(pe=(await Promise.all(le.map(async ne=>{const je=de(s,ne);return await S(je&&je._f?{[ne]:je}:je)}))).every(Boolean),!(!pe&&!n.isValid)&&x()):pe=H=await S(s);return u.state.next({...!rs(T)||(f.isValid||m.isValid)&&H!==n.isValid?{}:{name:T},...t.resolver||!T?{isValid:H}:{},errors:n.errors}),O.shouldFocus&&!pe&&Ll(s,re,T?le:l.mount),pe},Qe=T=>{const O={...o.mount?i:a};return Vt(T)?O:rs(T)?de(O,T):T.map(H=>de(O,H))},kt=(T,O)=>({invalid:!!de((O||n).errors,T),isDirty:!!de((O||n).dirtyFields,T),error:de((O||n).errors,T),isValidating:!!de(n.validatingFields,T),isTouched:!!de((O||n).touchedFields,T)}),I=T=>{T&&Ol(T).forEach(O=>Wt(n.errors,O)),u.state.next({errors:T?n.errors:{}})},M=(T,O,H)=>{const pe=(de(s,T,{_f:{}})._f||{}).ref,le=de(n.errors,T)||{},{ref:ne,message:je,type:rt,...Mt}=le;dt(n.errors,T,{...Mt,...O,ref:pe}),u.state.next({name:T,errors:n.errors,isValid:!1}),H&&H.shouldFocus&&pe&&pe.focus&&pe.focus()},ce=(T,O)=>Dr(T)?u.state.subscribe({next:H=>T(V(void 0,O),H)}):V(T,O,!0),X=T=>u.state.subscribe({next:O=>{uL(T.name,O.name,T.exact)&&dL(O,T.formState||f,Ft,T.reRenderRoot)&&T.callback({values:{...i},...n,...O})}}).unsubscribe,De=T=>(o.mount=!0,m={...m,...T.formState},X({...T,formState:m})),Be=(T,O={})=>{for(const H of T?Ol(T):l.mount)l.mount.delete(H),l.array.delete(H),O.keepValue||(Wt(s,H),Wt(i,H)),!O.keepError&&Wt(n.errors,H),!O.keepDirty&&Wt(n.dirtyFields,H),!O.keepTouched&&Wt(n.touchedFields,H),!O.keepIsValidating&&Wt(n.validatingFields,H),!t.shouldUnregister&&!O.keepDefaultValue&&Wt(a,H);u.state.next({values:tn(i)}),u.state.next({...n,...O.keepDirty?{isDirty:q()}:{}}),!O.keepIsValid&&x()},E=({disabled:T,name:O})=>{(Hn(T)&&o.mount||T||l.disabled.has(O))&&(T?l.disabled.add(O):l.disabled.delete(O))},U=(T,O={})=>{let H=de(s,T);const pe=Hn(O.disabled)||Hn(t.disabled);return dt(s,T,{...H||{},_f:{...H&&H._f?H._f:{ref:{name:T}},name:T,mount:!0,...O}}),l.mount.add(T),H?E({disabled:Hn(O.disabled)?O.disabled:t.disabled,name:T}):_(T,!0,O.value),{...pe?{disabled:O.disabled||t.disabled}:{},...t.progressive?{required:!!O.required,min:xl(O.min),max:xl(O.max),minLength:xl(O.minLength),maxLength:xl(O.maxLength),pattern:xl(O.pattern)}:{},name:T,onChange:W,onBlur:W,ref:le=>{if(le){U(T,O),H=de(s,T);const ne=Vt(le.value)&&le.querySelectorAll&&le.querySelectorAll("input,select,textarea")[0]||le,je=sL(ne),rt=H._f.refs||[];if(je?rt.find(Mt=>Mt===ne):ne===H._f.ref)return;dt(s,T,{_f:{...H._f,...je?{refs:[...rt.filter(Sm),ne,...Array.isArray(de(a,T))?[{}]:[]],ref:{type:ne.type,name:T}}:{ref:ne}}}),_(T,!1,void 0,ne)}else H=de(s,T,{}),H._f&&(H._f.mount=!1),(t.shouldUnregister||O.shouldUnregister)&&!(sP(l.array,T)&&o.action)&&l.unMount.add(T)}}},se=()=>t.shouldFocusError&&Ll(s,re,l.mount),ke=T=>{Hn(T)&&(u.state.next({disabled:T}),Ll(s,(O,H)=>{const pe=de(s,H);pe&&(O.disabled=pe._f.disabled||T,Array.isArray(pe._f.refs)&&pe._f.refs.forEach(le=>{le.disabled=pe._f.disabled||T}))},0,!1))},Ne=(T,O)=>async H=>{let pe;H&&(H.preventDefault&&H.preventDefault(),H.persist&&H.persist());let le=tn(i);if(u.state.next({isSubmitting:!0}),t.resolver){const{errors:ne,values:je}=await F();n.errors=ne,le=je}else await S(s);if(l.disabled.size)for(const ne of l.disabled)dt(le,ne,void 0);if(Wt(n.errors,"root"),jn(n.errors)){u.state.next({errors:{}});try{await T(le,H)}catch(ne){pe=ne}}else O&&await O({...n.errors},H),se(),setTimeout(se);if(u.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:jn(n.errors)&&!pe,submitCount:n.submitCount+1,errors:n.errors}),pe)throw pe},qe=(T,O={})=>{de(s,T)&&(Vt(O.defaultValue)?P(T,tn(de(a,T))):(P(T,O.defaultValue),dt(a,T,tn(O.defaultValue))),O.keepTouched||Wt(n.touchedFields,T),O.keepDirty||(Wt(n.dirtyFields,T),n.isDirty=O.defaultValue?q(T,tn(de(a,T))):q()),O.keepError||(Wt(n.errors,T),f.isValid&&x()),u.state.next({...n}))},ze=(T,O={})=>{const H=T?tn(T):a,pe=tn(H),le=jn(T),ne=le?a:pe;if(O.keepDefaultValues||(a=H),!O.keepValues){if(O.keepDirtyValues){const je=new Set([...l.mount,...Object.keys(pl(a,i))]);for(const rt of Array.from(je))de(n.dirtyFields,rt)?dt(ne,rt,de(i,rt)):P(rt,de(ne,rt))}else{if(Zx&&Vt(T))for(const je of l.mount){const rt=de(s,je);if(rt&&rt._f){const Mt=Array.isArray(rt._f.refs)?rt._f.refs[0]:rt._f.ref;if(_u(Mt)){const it=Mt.closest("form");if(it){it.reset();break}}}}for(const je of l.mount)P(je,de(ne,je))}i=tn(ne),u.array.next({values:{...ne}}),u.state.next({values:{...ne}})}l={mount:O.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!O.keepIsValid||!!O.keepDirtyValues,o.watch=!!t.shouldUnregister,u.state.next({submitCount:O.keepSubmitCount?n.submitCount:0,isDirty:le?!1:O.keepDirty?n.isDirty:!!(O.keepDefaultValues&&!ea(T,a)),isSubmitted:O.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:le?{}:O.keepDirtyValues?O.keepDefaultValues&&i?pl(a,i):n.dirtyFields:O.keepDefaultValues&&T?pl(a,T):O.keepDirty?n.dirtyFields:{},touchedFields:O.keepTouched?n.touchedFields:{},errors:O.keepErrors?n.errors:{},isSubmitSuccessful:O.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},_e=(T,O)=>ze(Dr(T)?T(i):T,O),ct=(T,O={})=>{const H=de(s,T),pe=H&&H._f;if(pe){const le=pe.refs?pe.refs[0]:pe.ref;le.focus&&(le.focus(),O.shouldSelect&&Dr(le.select)&&le.select())}},Ft=T=>{n={...n,...T}},ln={control:{register:U,unregister:Be,getFieldState:kt,handleSubmit:Ne,setError:M,_subscribe:X,_runSchema:F,_getWatch:V,_getDirty:q,_setValid:x,_setFieldArray:b,_setDisabledField:E,_setErrors:C,_getFieldArray:$,_reset:ze,_resetDefaultValues:()=>Dr(t.defaultValues)&&t.defaultValues().then(T=>{_e(T,t.resetOptions),u.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:ke,_subjects:u,_proxyFormState:f,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(T){o=T},get _defaultValues(){return a},get _names(){return l},set _names(T){l=T},get _formState(){return n},get _options(){return t},set _options(T){t={...t,...T}}},subscribe:De,trigger:ve,register:U,handleSubmit:Ne,watch:ce,setValue:P,getValues:Qe,reset:_e,resetField:qe,clearErrors:I,unregister:Be,setError:M,setFocus:ct,getFieldState:kt};return{...ln,formControl:ln}}function oi(e={}){const t=He.useRef(void 0),n=He.useRef(void 0),[s,a]=He.useState({isDirty:!1,isValidating:!1,isLoading:Dr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Dr(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:xL(e),formState:s},e.formControl&&e.defaultValues&&!Dr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,He.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0}),[i]),He.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),He.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),He.useEffect(()=>{e.values&&!ea(e.values,n.current)?(i._reset(e.values,i._options.resetOptions),n.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),He.useEffect(()=>{e.errors&&!jn(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),He.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),He.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=oP(s,i),t.current}const li=J3,xP=h.createContext({}),Me=({...e})=>r.jsx(xP.Provider,{value:{name:e.name},children:r.jsx(rL,{...e})}),jf=()=>{const e=h.useContext(xP),t=h.useContext(gP),{getFieldState:n,formState:s}=bf(),a=n(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},gP=h.createContext({}),Re=h.forwardRef(({className:e,...t},n)=>{const s=h.useId();return r.jsx(gP.Provider,{value:{id:s},children:r.jsx("div",{ref:n,className:Se("space-y-2",e),...t})})});Re.displayName="FormItem";const Oe=h.forwardRef(({className:e,...t},n)=>{const{error:s,formItemId:a}=jf();return r.jsx(Ee,{ref:n,className:Se(s&&"text-destructive",e),htmlFor:a,...t})});Oe.displayName="FormLabel";const Ie=h.forwardRef(({...e},t)=>{const{error:n,formItemId:s,formDescriptionId:a,formMessageId:i}=jf();return r.jsx(zS,{ref:t,id:s,"aria-describedby":n?`${a} ${i}`:`${a}`,"aria-invalid":!!n,...e})});Ie.displayName="FormControl";const gL=h.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:s}=jf();return r.jsx("p",{ref:n,id:s,className:Se("text-sm text-muted-foreground",e),...t})});gL.displayName="FormDescription";const Fe=h.forwardRef(({className:e,children:t,...n},s)=>{const{error:a,formMessageId:i}=jf(),o=a?String((a==null?void 0:a.message)??""):t;return o?r.jsx("p",{ref:s,id:i,className:Se("text-sm font-medium text-destructive",e),...n,children:o}):null});Fe.displayName="FormMessage";function Hv(e,[t,n]){return Math.min(n,Math.max(t,e))}var yL=h.createContext(void 0);function tg(e){const t=h.useContext(yL);return e||t||"ltr"}function yP(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var vL=[" ","Enter","ArrowUp","ArrowDown"],bL=[" ","Enter"],Vc="Select",[wf,Nf,jL]=hx(Vc),[el,a9]=hs(Vc,[jL,Jo]),Sf=Jo(),[wL,$a]=el(Vc),[NL,SL]=el(Vc),vP=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:f,autoComplete:m,disabled:u,required:y,form:v}=e,g=Sf(t),[j,x]=h.useState(null),[p,b]=h.useState(null),[w,C]=h.useState(!1),_=tg(d),[N=!1,k]=Na({prop:s,defaultProp:a,onChange:i}),[F,L]=Na({prop:o,defaultProp:l,onChange:c}),S=h.useRef(null),D=j?v||!!j.closest("form"):!0,[q,V]=h.useState(new Set),$=Array.from(q).map(K=>K.props.value).join(";");return r.jsx(JC,{...g,children:r.jsxs(wL,{required:y,scope:t,trigger:j,onTriggerChange:x,valueNode:p,onValueNodeChange:b,valueNodeHasChildren:w,onValueNodeHasChildrenChange:C,contentId:Es(),value:F,onValueChange:L,open:N,onOpenChange:k,dir:_,triggerPointerDownPosRef:S,disabled:u,children:[r.jsx(wf.Provider,{scope:t,children:r.jsx(NL,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(K=>{V(B=>new Set(B).add(K))},[]),onNativeOptionRemove:h.useCallback(K=>{V(B=>{const P=new Set(B);return P.delete(K),P})},[]),children:n})}),D?r.jsxs(qP,{"aria-hidden":!0,required:y,tabIndex:-1,name:f,autoComplete:m,value:F,onChange:K=>L(K.target.value),disabled:u,form:v,children:[F===void 0?r.jsx("option",{value:""}):null,Array.from(q)]},$):null]})})};vP.displayName=Vc;var bP="SelectTrigger",jP=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...a}=e,i=Sf(n),o=$a(bP,n),l=o.disabled||s,c=pt(t,o.onTriggerChange),d=Nf(n),f=h.useRef("touch"),[m,u,y]=WP(g=>{const j=d().filter(b=>!b.disabled),x=j.find(b=>b.value===o.value),p=QP(j,g,x);p!==void 0&&o.onValueChange(p.value)}),v=g=>{l||(o.onOpenChange(!0),y()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return r.jsx(mf,{asChild:!0,...i,children:r.jsx(Ue.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":UP(o.value)?"":void 0,...a,ref:c,onClick:Te(a.onClick,g=>{g.currentTarget.focus(),f.current!=="mouse"&&v(g)}),onPointerDown:Te(a.onPointerDown,g=>{f.current=g.pointerType;const j=g.target;j.hasPointerCapture(g.pointerId)&&j.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:Te(a.onKeyDown,g=>{const j=m.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&u(g.key),!(j&&g.key===" ")&&vL.includes(g.key)&&(v(),g.preventDefault())})})})});jP.displayName=bP;var wP="SelectValue",NP=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,children:i,placeholder:o="",...l}=e,c=$a(wP,n),{onValueNodeHasChildrenChange:d}=c,f=i!==void 0,m=pt(t,c.onValueNodeChange);return gn(()=>{d(f)},[d,f]),r.jsx(Ue.span,{...l,ref:m,style:{pointerEvents:"none"},children:UP(c.value)?r.jsx(r.Fragment,{children:o}):i})});NP.displayName=wP;var CL="SelectIcon",SP=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...a}=e;return r.jsx(Ue.span,{"aria-hidden":!0,...a,ref:t,children:s||"▼"})});SP.displayName=CL;var PL="SelectPortal",CP=e=>r.jsx(Rc,{asChild:!0,...e});CP.displayName=PL;var Si="SelectContent",PP=h.forwardRef((e,t)=>{const n=$a(Si,e.__scopeSelect),[s,a]=h.useState();if(gn(()=>{a(new DocumentFragment)},[]),!n.open){const i=s;return i?Ei.createPortal(r.jsx(_P,{scope:e.__scopeSelect,children:r.jsx(wf.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),i):null}return r.jsx(kP,{...e,ref:t})});PP.displayName=Si;var Nr=10,[_P,Va]=el(Si),_L="SelectContentImpl",kL=yi("SelectContent.RemoveScroll"),kP=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:u,collisionPadding:y,sticky:v,hideWhenDetached:g,avoidCollisions:j,...x}=e,p=$a(Si,n),[b,w]=h.useState(null),[C,_]=h.useState(null),N=pt(t,X=>w(X)),[k,F]=h.useState(null),[L,S]=h.useState(null),D=Nf(n),[q,V]=h.useState(!1),$=h.useRef(!1);h.useEffect(()=>{if(b)return Vx(b)},[b]),$x();const K=h.useCallback(X=>{const[De,...Be]=D().map(se=>se.ref.current),[E]=Be.slice(-1),U=document.activeElement;for(const se of X)if(se===U||(se==null||se.scrollIntoView({block:"nearest"}),se===De&&C&&(C.scrollTop=0),se===E&&C&&(C.scrollTop=C.scrollHeight),se==null||se.focus(),document.activeElement!==U))return},[D,C]),B=h.useCallback(()=>K([k,b]),[K,k,b]);h.useEffect(()=>{q&&B()},[q,B]);const{onOpenChange:P,triggerPointerDownPosRef:W}=p;h.useEffect(()=>{if(b){let X={x:0,y:0};const De=E=>{var U,se;X={x:Math.abs(Math.round(E.pageX)-(((U=W.current)==null?void 0:U.x)??0)),y:Math.abs(Math.round(E.pageY)-(((se=W.current)==null?void 0:se.y)??0))}},Be=E=>{X.x<=10&&X.y<=10?E.preventDefault():b.contains(E.target)||P(!1),document.removeEventListener("pointermove",De),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",De),document.addEventListener("pointerup",Be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",De),document.removeEventListener("pointerup",Be,{capture:!0})}}},[b,P,W]),h.useEffect(()=>{const X=()=>P(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[P]);const[re,ve]=WP(X=>{const De=D().filter(U=>!U.disabled),Be=De.find(U=>U.ref.current===document.activeElement),E=QP(De,X,Be);E&&setTimeout(()=>E.ref.current.focus())}),Qe=h.useCallback((X,De,Be)=>{const E=!$.current&&!Be;(p.value!==void 0&&p.value===De||E)&&(F(X),E&&($.current=!0))},[p.value]),kt=h.useCallback(()=>b==null?void 0:b.focus(),[b]),I=h.useCallback((X,De,Be)=>{const E=!$.current&&!Be;(p.value!==void 0&&p.value===De||E)&&S(X)},[p.value]),M=s==="popper"?tp:TP,ce=M===tp?{side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:u,collisionPadding:y,sticky:v,hideWhenDetached:g,avoidCollisions:j}:{};return r.jsx(_P,{scope:n,content:b,viewport:C,onViewportChange:_,itemRefCallback:Qe,selectedItem:k,onItemLeave:kt,itemTextRefCallback:I,focusSelectedItem:B,selectedItemText:L,position:s,isPositioned:q,searchRef:re,children:r.jsx(yf,{as:kL,allowPinchZoom:!0,children:r.jsx(xf,{asChild:!0,trapped:p.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:Te(a,X=>{var De;(De=p.trigger)==null||De.focus({preventScroll:!0}),X.preventDefault()}),children:r.jsx(Yo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:r.jsx(M,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:X=>X.preventDefault(),...x,...ce,onPlaced:()=>V(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Te(x.onKeyDown,X=>{const De=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!De&&X.key.length===1&&ve(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let E=D().filter(U=>!U.disabled).map(U=>U.ref.current);if(["ArrowUp","End"].includes(X.key)&&(E=E.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const U=X.target,se=E.indexOf(U);E=E.slice(se+1)}setTimeout(()=>K(E)),X.preventDefault()}})})})})})})});kP.displayName=_L;var TL="SelectItemAlignedPosition",TP=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...a}=e,i=$a(Si,n),o=Va(Si,n),[l,c]=h.useState(null),[d,f]=h.useState(null),m=pt(t,N=>f(N)),u=Nf(n),y=h.useRef(!1),v=h.useRef(!0),{viewport:g,selectedItem:j,selectedItemText:x,focusSelectedItem:p}=o,b=h.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&j&&x){const N=i.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),F=i.valueNode.getBoundingClientRect(),L=x.getBoundingClientRect();if(i.dir!=="rtl"){const U=L.left-k.left,se=F.left-U,ke=N.left-se,Ne=N.width+ke,qe=Math.max(Ne,k.width),ze=window.innerWidth-Nr,_e=Hv(se,[Nr,Math.max(Nr,ze-qe)]);l.style.minWidth=Ne+"px",l.style.left=_e+"px"}else{const U=k.right-L.right,se=window.innerWidth-F.right-U,ke=window.innerWidth-N.right-se,Ne=N.width+ke,qe=Math.max(Ne,k.width),ze=window.innerWidth-Nr,_e=Hv(se,[Nr,Math.max(Nr,ze-qe)]);l.style.minWidth=Ne+"px",l.style.right=_e+"px"}const S=u(),D=window.innerHeight-Nr*2,q=g.scrollHeight,V=window.getComputedStyle(d),$=parseInt(V.borderTopWidth,10),K=parseInt(V.paddingTop,10),B=parseInt(V.borderBottomWidth,10),P=parseInt(V.paddingBottom,10),W=$+K+q+P+B,re=Math.min(j.offsetHeight*5,W),ve=window.getComputedStyle(g),Qe=parseInt(ve.paddingTop,10),kt=parseInt(ve.paddingBottom,10),I=N.top+N.height/2-Nr,M=D-I,ce=j.offsetHeight/2,X=j.offsetTop+ce,De=$+K+X,Be=W-De;if(De<=I){const U=S.length>0&&j===S[S.length-1].ref.current;l.style.bottom="0px";const se=d.clientHeight-g.offsetTop-g.offsetHeight,ke=Math.max(M,ce+(U?kt:0)+se+B),Ne=De+ke;l.style.height=Ne+"px"}else{const U=S.length>0&&j===S[0].ref.current;l.style.top="0px";const ke=Math.max(I,$+g.offsetTop+(U?Qe:0)+ce)+Be;l.style.height=ke+"px",g.scrollTop=De-I+g.offsetTop}l.style.margin=`${Nr}px 0`,l.style.minHeight=re+"px",l.style.maxHeight=D+"px",s==null||s(),requestAnimationFrame(()=>y.current=!0)}},[u,i.trigger,i.valueNode,l,d,g,j,x,i.dir,s]);gn(()=>b(),[b]);const[w,C]=h.useState();gn(()=>{d&&C(window.getComputedStyle(d).zIndex)},[d]);const _=h.useCallback(N=>{N&&v.current===!0&&(b(),p==null||p(),v.current=!1)},[b,p]);return r.jsx(DL,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:_,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:r.jsx(Ue.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});TP.displayName=TL;var EL="SelectPopperPosition",tp=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:a=Nr,...i}=e,o=Sf(n);return r.jsx(Mx,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});tp.displayName=EL;var[DL,ng]=el(Si,{}),np="SelectViewport",EP=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...a}=e,i=Va(np,n),o=ng(np,n),l=pt(t,i.onViewportChange),c=h.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(wf.Slot,{scope:n,children:r.jsx(Ue.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Te(a.onScroll,d=>{const f=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:u}=o;if(u!=null&&u.current&&m){const y=Math.abs(c.current-f.scrollTop);if(y>0){const v=window.innerHeight-Nr*2,g=parseFloat(m.style.minHeight),j=parseFloat(m.style.height),x=Math.max(g,j);if(x<v){const p=x+y,b=Math.min(v,p),w=p-b;m.style.height=b+"px",m.style.bottom==="0px"&&(f.scrollTop=w>0?w:0,m.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});EP.displayName=np;var DP="SelectGroup",[AL,RL]=el(DP),IL=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=Es();return r.jsx(AL,{scope:n,id:a,children:r.jsx(Ue.div,{role:"group","aria-labelledby":a,...s,ref:t})})});IL.displayName=DP;var AP="SelectLabel",RP=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=RL(AP,n);return r.jsx(Ue.div,{id:a.id,...s,ref:t})});RP.displayName=AP;var Eu="SelectItem",[FL,IP]=el(Eu),FP=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:a=!1,textValue:i,...o}=e,l=$a(Eu,n),c=Va(Eu,n),d=l.value===s,[f,m]=h.useState(i??""),[u,y]=h.useState(!1),v=pt(t,p=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,p,s,a)}),g=Es(),j=h.useRef("touch"),x=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(FL,{scope:n,value:s,disabled:a,textId:g,isSelected:d,onItemTextChange:h.useCallback(p=>{m(b=>b||((p==null?void 0:p.textContent)??"").trim())},[]),children:r.jsx(wf.ItemSlot,{scope:n,value:s,disabled:a,textValue:f,children:r.jsx(Ue.div,{role:"option","aria-labelledby":g,"data-highlighted":u?"":void 0,"aria-selected":d&&u,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:v,onFocus:Te(o.onFocus,()=>y(!0)),onBlur:Te(o.onBlur,()=>y(!1)),onClick:Te(o.onClick,()=>{j.current!=="mouse"&&x()}),onPointerUp:Te(o.onPointerUp,()=>{j.current==="mouse"&&x()}),onPointerDown:Te(o.onPointerDown,p=>{j.current=p.pointerType}),onPointerMove:Te(o.onPointerMove,p=>{var b;j.current=p.pointerType,a?(b=c.onItemLeave)==null||b.call(c):j.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Te(o.onPointerLeave,p=>{var b;p.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Te(o.onKeyDown,p=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&p.key===" "||(bL.includes(p.key)&&x(),p.key===" "&&p.preventDefault())})})})})});FP.displayName=Eu;var Sl="SelectItemText",MP=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,...i}=e,o=$a(Sl,n),l=Va(Sl,n),c=IP(Sl,n),d=SL(Sl,n),[f,m]=h.useState(null),u=pt(t,x=>m(x),c.onItemTextChange,x=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,x,c.value,c.disabled)}),y=f==null?void 0:f.textContent,v=h.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:g,onNativeOptionRemove:j}=d;return gn(()=>(g(v),()=>j(v)),[g,j,v]),r.jsxs(r.Fragment,{children:[r.jsx(Ue.span,{id:c.textId,...i,ref:u}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ei.createPortal(i.children,o.valueNode):null]})});MP.displayName=Sl;var OP="SelectItemIndicator",LP=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return IP(OP,n).isSelected?r.jsx(Ue.span,{"aria-hidden":!0,...s,ref:t}):null});LP.displayName=OP;var rp="SelectScrollUpButton",$P=h.forwardRef((e,t)=>{const n=Va(rp,e.__scopeSelect),s=ng(rp,e.__scopeSelect),[a,i]=h.useState(!1),o=pt(t,s.onScrollButtonChange);return gn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?r.jsx(BP,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});$P.displayName=rp;var sp="SelectScrollDownButton",VP=h.forwardRef((e,t)=>{const n=Va(sp,e.__scopeSelect),s=ng(sp,e.__scopeSelect),[a,i]=h.useState(!1),o=pt(t,s.onScrollButtonChange);return gn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;i(f)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?r.jsx(BP,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});VP.displayName=sp;var BP=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...a}=e,i=Va("SelectScrollButton",n),o=h.useRef(null),l=Nf(n),c=h.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),gn(()=>{var f;const d=l().find(m=>m.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),r.jsx(Ue.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Te(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:Te(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:Te(a.onPointerLeave,()=>{c()})})}),ML="SelectSeparator",zP=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(Ue.div,{"aria-hidden":!0,...s,ref:t})});zP.displayName=ML;var ap="SelectArrow",OL=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=Sf(n),i=$a(ap,n),o=Va(ap,n);return i.open&&o.position==="popper"?r.jsx(Ox,{...a,...s,ref:t}):null});OL.displayName=ap;function UP(e){return e===""||e===void 0}var qP=h.forwardRef((e,t)=>{const{value:n,...s}=e,a=h.useRef(null),i=pt(t,a),o=yP(n);return h.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&f){const m=new Event("change",{bubbles:!0});f.call(l,n),l.dispatchEvent(m)}},[o,n]),r.jsx(Ic,{asChild:!0,children:r.jsx("select",{...s,ref:i,defaultValue:n})})});qP.displayName="BubbleSelect";function WP(e){const t=qn(e),n=h.useRef(""),s=h.useRef(0),a=h.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=h.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,i]}function QP(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=LL(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function LL(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var $L=vP,HP=jP,VL=NP,BL=SP,zL=CP,KP=PP,UL=EP,YP=RP,GP=FP,qL=MP,WL=LP,ZP=$P,XP=VP,JP=zP;const bt=$L,jt=VL,xt=h.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(HP,{ref:s,className:Se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(BL,{asChild:!0,children:r.jsx(xC,{className:"h-4 w-4 opacity-50"})})]}));xt.displayName=HP.displayName;const e_=h.forwardRef(({className:e,...t},n)=>r.jsx(ZP,{ref:n,className:Se("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx($4,{className:"h-4 w-4"})}));e_.displayName=ZP.displayName;const t_=h.forwardRef(({className:e,...t},n)=>r.jsx(XP,{ref:n,className:Se("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(xC,{className:"h-4 w-4"})}));t_.displayName=XP.displayName;const gt=h.forwardRef(({className:e,children:t,position:n="popper",...s},a)=>r.jsx(zL,{children:r.jsxs(KP,{ref:a,className:Se("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(e_,{}),r.jsx(UL,{className:Se("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(t_,{})]})}));gt.displayName=KP.displayName;const QL=h.forwardRef(({className:e,...t},n)=>r.jsx(YP,{ref:n,className:Se("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));QL.displayName=YP.displayName;const ae=h.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(GP,{ref:s,className:Se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(WL,{children:r.jsx(Nl,{className:"h-4 w-4"})})}),r.jsx(qL,{children:t})]}));ae.displayName=GP.displayName;const HL=h.forwardRef(({className:e,...t},n)=>r.jsx(JP,{ref:n,className:Se("-mx-1 my-1 h-px bg-muted",e),...t}));HL.displayName=JP.displayName;const Mr=h.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:Se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Mr.displayName="Textarea";const Kv=(e,t,n)=>{if(e&&"reportValidity"in e){const s=de(n,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},n_=(e,t)=>{for(const n in t.fields){const s=t.fields[n];s&&s.ref&&"reportValidity"in s.ref?Kv(s.ref,n,e):s.refs&&s.refs.forEach(a=>Kv(a,n,e))}},KL=(e,t)=>{t.shouldUseNativeValidation&&n_(e,t);const n={};for(const s in e){const a=de(t.fields,s),i=Object.assign(e[s]||{},{ref:a&&a.ref});if(YL(t.names||Object.keys(e),s)){const o=Object.assign({},de(n,s));dt(o,"root",i),dt(n,s,o)}else dt(n,s,i)}return n},YL=(e,t)=>e.some(n=>n.startsWith(t+"."));var GL=function(e,t){for(var n={};e.length;){var s=e[0],a=s.code,i=s.message,o=s.path.join(".");if(!n[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(f){return f.errors.forEach(function(m){return e.push(m)})}),t){var c=n[o].types,d=c&&c[s.code];n[o]=cP(o,t,n,a,d?[].concat(d,s.message):s.message)}e.shift()}return n},ci=function(e,t,n){return n===void 0&&(n={}),function(s,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(d){return i.shouldUseNativeValidation&&n_({},i),{errors:{},values:n.raw?s:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:KL(GL(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const Z=Symbol.for("drizzle:entityKind");function rn(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,Z))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(Z in n&&n[Z]===t[Z])return!0;n=Object.getPrototypeOf(n)}return!1}var b0;b0=Z;class Lo{constructor(t,n){R(this,"name");R(this,"keyAsName");R(this,"primary");R(this,"notNull");R(this,"default");R(this,"defaultFn");R(this,"onUpdateFn");R(this,"hasDefault");R(this,"isUnique");R(this,"uniqueName");R(this,"uniqueType");R(this,"dataType");R(this,"columnType");R(this,"enumValues");R(this,"generated");R(this,"generatedIdentity");R(this,"config");this.table=t,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}R(Lo,b0,"Column");var j0;j0=Z;class r_{constructor(t,n,s){R(this,"config");R(this,"$default",this.$defaultFn);R(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:s,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}R(r_,j0,"ColumnBuilder");const lo=Symbol.for("drizzle:Name");var w0;w0=Z;class s_{constructor(t,n){R(this,"reference");R(this,"_onUpdate","no action");R(this,"_onDelete","no action");this.reference=()=>{const{name:s,columns:a,foreignColumns:i}=t();return{name:s,columns:a,foreignTable:i[0].table,foreignColumns:i}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new a_(t,this)}}R(s_,w0,"PgForeignKeyBuilder");var N0;N0=Z;class a_{constructor(t,n){R(this,"reference");R(this,"onUpdate");R(this,"onDelete");this.table=t,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:t,columns:n,foreignColumns:s}=this.reference(),a=n.map(l=>l.name),i=s.map(l=>l.name),o=[this.table[lo],...a,s[0].table[lo],...i];return t??`${o.join("_")}_fk`}}R(a_,N0,"PgForeignKey");function ZL(e,...t){return e(...t)}function XL(e,t){return`${e[lo]}_${t.join("_")}_unique`}function Yv(e,t,n){for(let s=t;s<e.length;s++){const a=e[s];if(a==="\\"){s++;continue}if(a==='"')return[e.slice(t,s).replace(/\\/g,""),s+1];if(!n&&(a===","||a==="}"))return[e.slice(t,s).replace(/\\/g,""),s]}return[e.slice(t).replace(/\\/g,""),e.length]}function i_(e,t=0){const n=[];let s=t,a=!1;for(;s<e.length;){const i=e[s];if(i===","){(a||s===t)&&n.push(""),a=!0,s++;continue}if(a=!1,i==="\\"){s+=2;continue}if(i==='"'){const[c,d]=Yv(e,s+1,!0);n.push(c),s=d;continue}if(i==="}")return[n,s+1];if(i==="{"){const[c,d]=i_(e,s+1);n.push(c),s=d;continue}const[o,l]=Yv(e,s,!1);n.push(o),s=l}return[n,s]}function JL(e){const[t]=i_(e,1);return t}function o_(e){return`{${e.map(t=>Array.isArray(t)?o_(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var S0,C0;class at extends(C0=r_,S0=Z,C0){constructor(){super(...arguments);R(this,"foreignKeyConfigs",[])}array(n){return new c_(this.config.name,this,n)}references(n,s={}){return this.foreignKeyConfigs.push({ref:n,actions:s}),this}unique(n,s){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=s==null?void 0:s.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,s){return this.foreignKeyConfigs.map(({ref:a,actions:i})=>ZL((o,l)=>{const c=new s_(()=>{const d=o();return{columns:[n],foreignColumns:[d]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(s)},a,i))}buildExtraConfigColumn(n){return new l_(n,this.config)}}R(at,S0,"PgColumnBuilder");var P0,_0;class Ye extends(_0=Lo,P0=Z,_0){constructor(t,n){n.uniqueName||(n.uniqueName=XL(t,[n.name])),super(t,n),this.table=t}}R(Ye,P0,"PgColumn");var k0,T0;class l_ extends(T0=Ye,k0=Z,T0){constructor(){super(...arguments);R(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});R(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}R(l_,k0,"ExtraConfigColumn");var E0,D0;class c_ extends(D0=at,E0=Z,D0){constructor(t,n,s){super(t,"array","PgArray"),this.config.baseBuilder=n,this.config.size=s}build(t){const n=this.config.baseBuilder.build(t);return new ip(t,this.config,n)}}R(c_,E0,"PgArrayBuilder");var A0,R0;const Uu=class Uu extends(R0=Ye,A0=Z,R0){constructor(n,s,a,i){super(n,s);R(this,"size");this.baseColumn=a,this.range=i,this.size=s.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=JL(n)),n.map(s=>this.baseColumn.mapFromDriverValue(s))}mapToDriverValue(n,s=!1){const a=n.map(i=>i===null?null:rn(this.baseColumn,Uu)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return s?a:o_(a)}};R(Uu,A0,"PgArray");let ip=Uu;const Gv=Symbol.for("drizzle:isPgEnum");function e5(e){return!!e&&typeof e=="function"&&Gv in e&&e[Gv]===!0}var I0;I0=Z;class rg{constructor(t,n,s,a=!1){this._={brand:"Subquery",sql:t,selectedFields:n,alias:s,isWith:a}}}R(rg,I0,"Subquery");const t5={startActiveSpan(e,t){return t()}},co=Symbol.for("drizzle:ViewBaseConfig"),Cm=Symbol.for("drizzle:Schema"),Zv=Symbol.for("drizzle:Columns"),Xv=Symbol.for("drizzle:ExtraConfigColumns"),Pm=Symbol.for("drizzle:OriginalName"),_m=Symbol.for("drizzle:BaseName"),Du=Symbol.for("drizzle:IsAlias"),Jv=Symbol.for("drizzle:ExtraConfigBuilder"),d_=Symbol.for("drizzle:IsDrizzleTable");var F0,M0,O0,L0,$0,V0,B0,z0,U0,q0,Nd;let Yn=(q0=Z,U0=lo,z0=Pm,B0=Cm,V0=Zv,$0=Xv,L0=_m,O0=Du,M0=d_,F0=Jv,Nd=class{constructor(t,n,s){R(this,U0);R(this,z0);R(this,B0);R(this,V0);R(this,$0);R(this,L0);R(this,O0,!1);R(this,M0,!0);R(this,F0);this[lo]=this[Pm]=t,this[Cm]=n,this[_m]=s}},R(Nd,q0,"Table"),R(Nd,"Symbol",{Name:lo,Schema:Cm,OriginalName:Pm,Columns:Zv,ExtraConfigColumns:Xv,BaseName:_m,IsAlias:Du,ExtraConfigBuilder:Jv}),Nd);function u_(e){return typeof e=="object"&&e!==null&&d_ in e}function n5(e){return e!=null&&typeof e.getSQL=="function"}function r5(e){var n;const t={sql:"",params:[]};for(const s of e)t.sql+=s.sql,t.params.push(...s.params),(n=s.typings)!=null&&n.length&&(t.typings||(t.typings=[]),t.typings.push(...s.typings));return t}var W0;W0=Z;class ur{constructor(t){R(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new Yt([this])}}R(ur,W0,"StringChunk");var Q0;Q0=Z;const Ha=class Ha{constructor(t){R(this,"decoder",f_);R(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return t5.startActiveSpan("drizzle.buildSQL",n=>{const s=this.buildQueryFromSourceParams(this.queryChunks,t);return n==null||n.setAttributes({"drizzle.query.text":s.sql,"drizzle.query.params":JSON.stringify(s.params)}),s})}buildQueryFromSourceParams(t,n){const s=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:a,escapeName:i,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:d}=s;return r5(t.map(f=>{var m;if(rn(f,ur))return{sql:f.value.join(""),params:[]};if(rn(f,Au))return{sql:i(f.value),params:[]};if(f===void 0)return{sql:"",params:[]};if(Array.isArray(f)){const u=[new ur("(")];for(const[y,v]of f.entries())u.push(v),y<f.length-1&&u.push(new ur(", "));return u.push(new ur(")")),this.buildQueryFromSourceParams(u,s)}if(rn(f,Ha))return this.buildQueryFromSourceParams(f.queryChunks,{...s,inlineParams:c||f.shouldInlineParams});if(rn(f,Yn)){const u=f[Yn.Symbol.Schema],y=f[Yn.Symbol.Name];return{sql:u===void 0||f[Du]?i(y):i(u)+"."+i(y),params:[]}}if(rn(f,Lo)){const u=a.getColumnCasing(f);if(n.invokeSource==="indexes")return{sql:i(u),params:[]};const y=f.table[Yn.Symbol.Schema];return{sql:f.table[Du]||y===void 0?i(f.table[Yn.Symbol.Name])+"."+i(u):i(y)+"."+i(f.table[Yn.Symbol.Name])+"."+i(u),params:[]}}if(rn(f,p_)){const u=f[co].schema,y=f[co].name;return{sql:u===void 0||f[co].isAlias?i(y):i(u)+"."+i(y),params:[]}}if(rn(f,sg)){if(rn(f.value,Ru))return{sql:o(d.value++,f),params:[f],typings:["none"]};const u=f.value===null?null:f.encoder.mapToDriverValue(f.value);if(rn(u,Ha))return this.buildQueryFromSourceParams([u],s);if(c)return{sql:this.mapInlineParam(u,s),params:[]};let y=["none"];return l&&(y=[l(f.encoder)]),{sql:o(d.value++,u),params:[u],typings:y}}return rn(f,Ru)?{sql:o(d.value++,f),params:[f],typings:["none"]}:rn(f,Ha.Aliased)&&f.fieldAlias!==void 0?{sql:i(f.fieldAlias),params:[]}:rn(f,rg)?f._.isWith?{sql:i(f._.alias),params:[]}:this.buildQueryFromSourceParams([new ur("("),f._.sql,new ur(") "),new Au(f._.alias)],s):e5(f)?f.schema?{sql:i(f.schema)+"."+i(f.enumName),params:[]}:{sql:i(f.enumName),params:[]}:n5(f)?(m=f.shouldOmitSQLParens)!=null&&m.call(f)?this.buildQueryFromSourceParams([f.getSQL()],s):this.buildQueryFromSourceParams([new ur("("),f.getSQL(),new ur(")")],s):c?{sql:this.mapInlineParam(f,s),params:[]}:{sql:o(d.value++,f),params:[f],typings:["none"]}}))}mapInlineParam(t,{escapeString:n}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return n(t);if(typeof t=="object"){const s=t.toString();return n(s==="[object Object]"?JSON.stringify(t):s)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new Ha.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};R(Ha,Q0,"SQL");let Yt=Ha;var H0;H0=Z;class Au{constructor(t){R(this,"brand");this.value=t}getSQL(){return new Yt([this])}}R(Au,H0,"Name");const f_={mapFromDriverValue:e=>e},m_={mapToDriverValue:e=>e};({...f_,...m_});var K0;K0=Z;class sg{constructor(t,n=m_){R(this,"brand");this.value=t,this.encoder=n}getSQL(){return new Yt([this])}}R(sg,K0,"Param");function on(e,...t){const n=[];(t.length>0||e.length>0&&e[0]!=="")&&n.push(new ur(e[0]));for(const[s,a]of t.entries())n.push(a,new ur(e[s+1]));return new Yt(n)}(e=>{function t(){return new Yt([])}e.empty=t;function n(c){return new Yt(c)}e.fromList=n;function s(c){return new Yt([new ur(c)])}e.raw=s;function a(c,d){const f=[];for(const[m,u]of c.entries())m>0&&d!==void 0&&f.push(d),f.push(u);return new Yt(f)}e.join=a;function i(c){return new Au(c)}e.identifier=i;function o(c){return new Ru(c)}e.placeholder=o;function l(c,d){return new sg(c,d)}e.param=l})(on||(on={}));(e=>{var n;n=Z;const s=class s{constructor(i,o){R(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new s(this.sql,this.fieldAlias)}};R(s,n,"SQL.Aliased");let t=s;e.Aliased=t})(Yt||(Yt={}));var Y0;Y0=Z;class Ru{constructor(t){this.name=t}getSQL(){return new Yt([this])}}R(Ru,Y0,"Placeholder");const h_=Symbol.for("drizzle:IsDrizzleView");var G0,Z0,X0;X0=Z,Z0=co,G0=h_;class p_{constructor({name:t,schema:n,selectedFields:s,query:a}){R(this,Z0);R(this,G0,!0);this[co]={name:t,originalName:t,schema:n,selectedFields:s,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new Yt([this])}}R(p_,X0,"View");function s5(e){return typeof e=="object"&&e!==null&&h_ in e}Lo.prototype.getSQL=function(){return new Yt([this])};Yn.prototype.getSQL=function(){return new Yt([this])};rg.prototype.getSQL=function(){return new Yt([this])};function a5(e){return e[Yn.Symbol.Columns]}function i5(e){return e[co].selectedFields}function en(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var J0,eb;class Bc extends(eb=at,J0=Z,eb){generatedAlwaysAsIdentity(t){if(t){const{name:n,...s}=t;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:s}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:n,...s}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:s}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}R(Bc,J0,"PgIntColumnBaseBuilder");var tb,nb;class x_ extends(nb=Bc,tb=Z,nb){constructor(t){super(t,"number","PgBigInt53")}build(t){return new g_(t,this.config)}}R(x_,tb,"PgBigInt53Builder");var rb,sb;class g_ extends(sb=Ye,rb=Z,sb){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}R(g_,rb,"PgBigInt53");var ab,ib;class y_ extends(ib=Bc,ab=Z,ib){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new v_(t,this.config)}}R(y_,ab,"PgBigInt64Builder");var ob,lb;class v_ extends(lb=Ye,ob=Z,lb){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}R(v_,ob,"PgBigInt64");function o5(e,t){const{name:n,config:s}=en(e,t);return s.mode==="number"?new x_(n):new y_(n)}var cb,db;class b_ extends(db=at,cb=Z,db){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new j_(t,this.config)}}R(b_,cb,"PgBigSerial53Builder");var ub,fb;class j_ extends(fb=Ye,ub=Z,fb){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}R(j_,ub,"PgBigSerial53");var mb,hb;class w_ extends(hb=at,mb=Z,hb){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new N_(t,this.config)}}R(w_,mb,"PgBigSerial64Builder");var pb,xb;class N_ extends(xb=Ye,pb=Z,xb){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}R(N_,pb,"PgBigSerial64");function l5(e,t){const{name:n,config:s}=en(e,t);return s.mode==="number"?new b_(n):new w_(n)}var gb,yb;class S_ extends(yb=at,gb=Z,yb){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new C_(t,this.config)}}R(S_,gb,"PgBooleanBuilder");var vb,bb;class C_ extends(bb=Ye,vb=Z,bb){getSQLType(){return"boolean"}}R(C_,vb,"PgBoolean");function Ba(e){return new S_(e??"")}var jb,wb;class P_ extends(wb=at,jb=Z,wb){constructor(t,n){super(t,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new __(t,this.config)}}R(P_,jb,"PgCharBuilder");var Nb,Sb;class __ extends(Sb=Ye,Nb=Z,Sb){constructor(){super(...arguments);R(this,"length",this.config.length);R(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}R(__,Nb,"PgChar");function c5(e,t={}){const{name:n,config:s}=en(e,t);return new P_(n,s)}var Cb,Pb;class k_ extends(Pb=at,Cb=Z,Pb){constructor(t){super(t,"string","PgCidr")}build(t){return new T_(t,this.config)}}R(k_,Cb,"PgCidrBuilder");var _b,kb;class T_ extends(kb=Ye,_b=Z,kb){getSQLType(){return"cidr"}}R(T_,_b,"PgCidr");function d5(e){return new k_(e??"")}var Tb,Eb;class E_ extends(Eb=at,Tb=Z,Eb){constructor(t,n,s){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=s}build(t){return new D_(t,this.config)}}R(E_,Tb,"PgCustomColumnBuilder");var Db,Ab;class D_ extends(Ab=Ye,Db=Z,Ab){constructor(n,s){super(n,s);R(this,"sqlName");R(this,"mapTo");R(this,"mapFrom");this.sqlName=s.customTypeParams.dataType(s.fieldConfig),this.mapTo=s.customTypeParams.toDriver,this.mapFrom=s.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}R(D_,Db,"PgCustomColumn");function u5(e){return(t,n)=>{const{name:s,config:a}=en(t,n);return new E_(s,a,e)}}var Rb,Ib;class tl extends(Ib=at,Rb=Z,Ib){defaultNow(){return this.default(on`now()`)}}R(tl,Rb,"PgDateColumnBaseBuilder");var Fb,Mb;class A_ extends(Mb=tl,Fb=Z,Mb){constructor(t){super(t,"date","PgDate")}build(t){return new R_(t,this.config)}}R(A_,Fb,"PgDateBuilder");var Ob,Lb;class R_ extends(Lb=Ye,Ob=Z,Lb){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}R(R_,Ob,"PgDate");var $b,Vb;class I_ extends(Vb=tl,$b=Z,Vb){constructor(t){super(t,"string","PgDateString")}build(t){return new F_(t,this.config)}}R(I_,$b,"PgDateStringBuilder");var Bb,zb;class F_ extends(zb=Ye,Bb=Z,zb){getSQLType(){return"date"}}R(F_,Bb,"PgDateString");function f5(e,t){const{name:n,config:s}=en(e,t);return(s==null?void 0:s.mode)==="date"?new A_(n):new I_(n)}var Ub,qb;class M_ extends(qb=at,Ub=Z,qb){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new O_(t,this.config)}}R(M_,Ub,"PgDoublePrecisionBuilder");var Wb,Qb;class O_ extends(Qb=Ye,Wb=Z,Qb){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}R(O_,Wb,"PgDoublePrecision");function m5(e){return new M_(e??"")}var Hb,Kb;class L_ extends(Kb=at,Hb=Z,Kb){constructor(t){super(t,"string","PgInet")}build(t){return new $_(t,this.config)}}R(L_,Hb,"PgInetBuilder");var Yb,Gb;class $_ extends(Gb=Ye,Yb=Z,Gb){getSQLType(){return"inet"}}R($_,Yb,"PgInet");function h5(e){return new L_(e??"")}var Zb,Xb;class V_ extends(Xb=Bc,Zb=Z,Xb){constructor(t){super(t,"number","PgInteger")}build(t){return new B_(t,this.config)}}R(V_,Zb,"PgIntegerBuilder");var Jb,ej;class B_ extends(ej=Ye,Jb=Z,ej){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}R(B_,Jb,"PgInteger");function Da(e){return new V_(e??"")}var tj,nj;class z_ extends(nj=at,tj=Z,nj){constructor(t,n){super(t,"string","PgInterval"),this.config.intervalConfig=n}build(t){return new U_(t,this.config)}}R(z_,tj,"PgIntervalBuilder");var rj,sj;class U_ extends(sj=Ye,rj=Z,sj){constructor(){super(...arguments);R(this,"fields",this.config.intervalConfig.fields);R(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",s=this.precision?`(${this.precision})`:"";return`interval${n}${s}`}}R(U_,rj,"PgInterval");function p5(e,t={}){const{name:n,config:s}=en(e,t);return new z_(n,s)}var aj,ij;class q_ extends(ij=at,aj=Z,ij){constructor(t){super(t,"json","PgJson")}build(t){return new W_(t,this.config)}}R(q_,aj,"PgJsonBuilder");var oj,lj;class W_ extends(lj=Ye,oj=Z,lj){constructor(t,n){super(t,n)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}R(W_,oj,"PgJson");function Q_(e){return new q_(e??"")}var cj,dj;class H_ extends(dj=at,cj=Z,dj){constructor(t){super(t,"json","PgJsonb")}build(t){return new K_(t,this.config)}}R(H_,cj,"PgJsonbBuilder");var uj,fj;class K_ extends(fj=Ye,uj=Z,fj){constructor(t,n){super(t,n)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}R(K_,uj,"PgJsonb");function x5(e){return new H_(e??"")}var mj,hj;class Y_ extends(hj=at,mj=Z,hj){constructor(t){super(t,"array","PgLine")}build(t){return new G_(t,this.config)}}R(Y_,mj,"PgLineBuilder");var pj,xj;class G_ extends(xj=Ye,pj=Z,xj){getSQLType(){return"line"}mapFromDriverValue(t){const[n,s,a]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(s),Number.parseFloat(a)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}R(G_,pj,"PgLine");var gj,yj;class Z_ extends(yj=at,gj=Z,yj){constructor(t){super(t,"json","PgLineABC")}build(t){return new X_(t,this.config)}}R(Z_,gj,"PgLineABCBuilder");var vj,bj;class X_ extends(bj=Ye,vj=Z,bj){getSQLType(){return"line"}mapFromDriverValue(t){const[n,s,a]=t.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(s),c:Number.parseFloat(a)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}R(X_,vj,"PgLineABC");function g5(e,t){const{name:n,config:s}=en(e,t);return!(s!=null&&s.mode)||s.mode==="tuple"?new Y_(n):new Z_(n)}var jj,wj;class J_ extends(wj=at,jj=Z,wj){constructor(t){super(t,"string","PgMacaddr")}build(t){return new ek(t,this.config)}}R(J_,jj,"PgMacaddrBuilder");var Nj,Sj;class ek extends(Sj=Ye,Nj=Z,Sj){getSQLType(){return"macaddr"}}R(ek,Nj,"PgMacaddr");function y5(e){return new J_(e??"")}var Cj,Pj;class tk extends(Pj=at,Cj=Z,Pj){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new nk(t,this.config)}}R(tk,Cj,"PgMacaddr8Builder");var _j,kj;class nk extends(kj=Ye,_j=Z,kj){getSQLType(){return"macaddr8"}}R(nk,_j,"PgMacaddr8");function v5(e){return new tk(e??"")}var Tj,Ej;class rk extends(Ej=at,Tj=Z,Ej){constructor(t,n,s){super(t,"string","PgNumeric"),this.config.precision=n,this.config.scale=s}build(t){return new sk(t,this.config)}}R(rk,Tj,"PgNumericBuilder");var Dj,Aj;class sk extends(Aj=Ye,Dj=Z,Aj){constructor(n,s){super(n,s);R(this,"precision");R(this,"scale");this.precision=s.precision,this.scale=s.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}R(sk,Dj,"PgNumeric");function ak(e,t){const{name:n,config:s}=en(e,t);return new rk(n,s==null?void 0:s.precision,s==null?void 0:s.scale)}const wt=ak;var Rj,Ij;class ik extends(Ij=at,Rj=Z,Ij){constructor(t){super(t,"array","PgPointTuple")}build(t){return new ok(t,this.config)}}R(ik,Rj,"PgPointTupleBuilder");var Fj,Mj;class ok extends(Mj=Ye,Fj=Z,Mj){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,s]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(s)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}R(ok,Fj,"PgPointTuple");var Oj,Lj;class lk extends(Lj=at,Oj=Z,Lj){constructor(t){super(t,"json","PgPointObject")}build(t){return new ck(t,this.config)}}R(lk,Oj,"PgPointObjectBuilder");var $j,Vj;class ck extends(Vj=Ye,$j=Z,Vj){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,s]=t.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(s)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}R(ck,$j,"PgPointObject");function b5(e,t){const{name:n,config:s}=en(e,t);return!(s!=null&&s.mode)||s.mode==="tuple"?new ik(n):new lk(n)}function j5(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(Number.parseInt(e.slice(n,n+2),16));return new Uint8Array(t)}function e0(e,t){const n=new ArrayBuffer(8),s=new DataView(n);for(let a=0;a<8;a++)s.setUint8(a,e[t+a]);return s.getFloat64(0,!0)}function dk(e){const t=j5(e);let n=0;const s=t[n];n+=1;const a=new DataView(t.buffer),i=a.getUint32(n,s===1);if(n+=4,i&536870912&&(a.getUint32(n,s===1),n+=4),(i&65535)===1){const o=e0(t,n);n+=8;const l=e0(t,n);return n+=8,[o,l]}throw new Error("Unsupported geometry type")}var Bj,zj;class uk extends(zj=at,Bj=Z,zj){constructor(t){super(t,"array","PgGeometry")}build(t){return new fk(t,this.config)}}R(uk,Bj,"PgGeometryBuilder");var Uj,qj;class fk extends(qj=Ye,Uj=Z,qj){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return dk(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}R(fk,Uj,"PgGeometry");var Wj,Qj;class mk extends(Qj=at,Wj=Z,Qj){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new hk(t,this.config)}}R(mk,Wj,"PgGeometryObjectBuilder");var Hj,Kj;class hk extends(Kj=Ye,Hj=Z,Kj){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const n=dk(t);return{x:n[0],y:n[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}R(hk,Hj,"PgGeometryObject");function w5(e,t){const{name:n,config:s}=en(e,t);return!(s!=null&&s.mode)||s.mode==="tuple"?new uk(n):new mk(n)}var Yj,Gj;class pk extends(Gj=at,Yj=Z,Gj){constructor(t,n){super(t,"number","PgReal"),this.config.length=n}build(t){return new xk(t,this.config)}}R(pk,Yj,"PgRealBuilder");var Zj,Xj;class xk extends(Xj=Ye,Zj=Z,Xj){constructor(n,s){super(n,s);R(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}R(xk,Zj,"PgReal");function N5(e){return new pk(e??"")}var Jj,ew;class gk extends(ew=at,Jj=Z,ew){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new yk(t,this.config)}}R(gk,Jj,"PgSerialBuilder");var tw,nw;class yk extends(nw=Ye,tw=Z,nw){getSQLType(){return"serial"}}R(yk,tw,"PgSerial");function S5(e){return new gk(e??"")}var rw,sw;class vk extends(sw=Bc,rw=Z,sw){constructor(t){super(t,"number","PgSmallInt")}build(t){return new bk(t,this.config)}}R(vk,rw,"PgSmallIntBuilder");var aw,iw;class bk extends(iw=Ye,aw=Z,iw){constructor(){super(...arguments);R(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}R(bk,aw,"PgSmallInt");function C5(e){return new vk(e??"")}var ow,lw;class jk extends(lw=at,ow=Z,lw){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new wk(t,this.config)}}R(jk,ow,"PgSmallSerialBuilder");var cw,dw;class wk extends(dw=Ye,cw=Z,dw){getSQLType(){return"smallserial"}}R(wk,cw,"PgSmallSerial");function P5(e){return new jk(e??"")}var uw,fw;class Nk extends(fw=at,uw=Z,fw){constructor(t,n){super(t,"string","PgText"),this.config.enumValues=n.enum}build(t){return new Sk(t,this.config)}}R(Nk,uw,"PgTextBuilder");var mw,hw;class Sk extends(hw=Ye,mw=Z,hw){constructor(){super(...arguments);R(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}R(Sk,mw,"PgText");function Q(e,t={}){const{name:n,config:s}=en(e,t);return new Nk(n,s)}var pw,xw;class Ck extends(xw=tl,pw=Z,xw){constructor(t,n,s){super(t,"string","PgTime"),this.withTimezone=n,this.precision=s,this.config.withTimezone=n,this.config.precision=s}build(t){return new Pk(t,this.config)}}R(Ck,pw,"PgTimeBuilder");var gw,yw;class Pk extends(yw=Ye,gw=Z,yw){constructor(n,s){super(n,s);R(this,"withTimezone");R(this,"precision");this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}R(Pk,gw,"PgTime");function _5(e,t={}){const{name:n,config:s}=en(e,t);return new Ck(n,s.withTimezone??!1,s.precision)}var vw,bw;class _k extends(bw=tl,vw=Z,bw){constructor(t,n,s){super(t,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=s}build(t){return new kk(t,this.config)}}R(_k,vw,"PgTimestampBuilder");var jw,ww;class kk extends(ww=Ye,jw=Z,ww){constructor(n,s){super(n,s);R(this,"withTimezone");R(this,"precision");R(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));R(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}R(kk,jw,"PgTimestamp");var Nw,Sw;class Tk extends(Sw=tl,Nw=Z,Sw){constructor(t,n,s){super(t,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=s}build(t){return new Ek(t,this.config)}}R(Tk,Nw,"PgTimestampStringBuilder");var Cw,Pw;class Ek extends(Pw=Ye,Cw=Z,Pw){constructor(n,s){super(n,s);R(this,"withTimezone");R(this,"precision");this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}R(Ek,Cw,"PgTimestampString");function vt(e,t={}){const{name:n,config:s}=en(e,t);return(s==null?void 0:s.mode)==="string"?new Tk(n,s.withTimezone??!1,s.precision):new _k(n,(s==null?void 0:s.withTimezone)??!1,s==null?void 0:s.precision)}var _w,kw;class Dk extends(kw=at,_w=Z,kw){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(on`gen_random_uuid()`)}build(t){return new Ak(t,this.config)}}R(Dk,_w,"PgUUIDBuilder");var Tw,Ew;class Ak extends(Ew=Ye,Tw=Z,Ew){getSQLType(){return"uuid"}}R(Ak,Tw,"PgUUID");function k5(e){return new Dk(e??"")}var Dw,Aw;class Rk extends(Aw=at,Dw=Z,Aw){constructor(t,n){super(t,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new Ik(t,this.config)}}R(Rk,Dw,"PgVarcharBuilder");var Rw,Iw;class Ik extends(Iw=Ye,Rw=Z,Iw){constructor(){super(...arguments);R(this,"length",this.config.length);R(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}R(Ik,Rw,"PgVarchar");function mt(e,t={}){const{name:n,config:s}=en(e,t);return new Rk(n,s)}var Fw,Mw;class Fk extends(Mw=at,Fw=Z,Mw){constructor(t,n){super(t,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(t){return new Mk(t,this.config)}}R(Fk,Fw,"PgBinaryVectorBuilder");var Ow,Lw;class Mk extends(Lw=Ye,Ow=Z,Lw){constructor(){super(...arguments);R(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}R(Mk,Ow,"PgBinaryVector");function T5(e,t){const{name:n,config:s}=en(e,t);return new Fk(n,s)}var $w,Vw;class Ok extends(Vw=at,$w=Z,Vw){constructor(t,n){super(t,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(t){return new Lk(t,this.config)}}R(Ok,$w,"PgHalfVectorBuilder");var Bw,zw;class Lk extends(zw=Ye,Bw=Z,zw){constructor(){super(...arguments);R(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}R(Lk,Bw,"PgHalfVector");function E5(e,t){const{name:n,config:s}=en(e,t);return new Ok(n,s)}var Uw,qw;class $k extends(qw=at,Uw=Z,qw){constructor(t,n){super(t,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(t){return new Vk(t,this.config)}}R($k,Uw,"PgSparseVectorBuilder");var Ww,Qw;class Vk extends(Qw=Ye,Ww=Z,Qw){constructor(){super(...arguments);R(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}R(Vk,Ww,"PgSparseVector");function D5(e,t){const{name:n,config:s}=en(e,t);return new $k(n,s)}var Hw,Kw;class Bk extends(Kw=at,Hw=Z,Kw){constructor(t,n){super(t,"array","PgVector"),this.config.dimensions=n.dimensions}build(t){return new zk(t,this.config)}}R(Bk,Hw,"PgVectorBuilder");var Yw,Gw;class zk extends(Gw=Ye,Yw=Z,Gw){constructor(){super(...arguments);R(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}R(zk,Yw,"PgVector");function A5(e,t){const{name:n,config:s}=en(e,t);return new Bk(n,s)}function R5(){return{bigint:o5,bigserial:l5,boolean:Ba,char:c5,cidr:d5,customType:u5,date:f5,doublePrecision:m5,inet:h5,integer:Da,interval:p5,json:Q_,jsonb:x5,line:g5,macaddr:y5,macaddr8:v5,numeric:ak,point:b5,geometry:w5,real:N5,serial:S5,smallint:C5,smallserial:P5,text:Q,time:_5,timestamp:vt,uuid:k5,varchar:mt,bit:T5,halfvec:E5,sparsevec:D5,vector:A5}}const op=Symbol.for("drizzle:PgInlineForeignKeys"),t0=Symbol.for("drizzle:EnableRLS");var Zw,Xw,Jw,eN,tN;class Iu extends(tN=Yn,eN=Z,Jw=op,Xw=t0,Zw=Yn.Symbol.ExtraConfigBuilder,tN){constructor(){super(...arguments);R(this,Jw,[]);R(this,Xw,!1);R(this,Zw)}}R(Iu,eN,"PgTable"),R(Iu,"Symbol",Object.assign({},Yn.Symbol,{InlineForeignKeys:op,EnableRLS:t0}));function I5(e,t,n,s,a=e){const i=new Iu(e,s,a),o=typeof t=="function"?t(R5()):t,l=Object.fromEntries(Object.entries(o).map(([f,m])=>{const u=m;u.setName(f);const y=u.build(i);return i[op].push(...u.buildForeignKeys(y,i)),[f,y]})),c=Object.fromEntries(Object.entries(o).map(([f,m])=>{const u=m;u.setName(f);const y=u.buildExtraConfigColumn(i);return[f,y]})),d=Object.assign(i,l);return d[Yn.Symbol.Columns]=l,d[Yn.Symbol.ExtraConfigColumns]=c,Object.assign(d,{enableRLS:()=>(d[Iu.Symbol.EnableRLS]=!0,d)})}const or=(e,t,n)=>I5(e,t,n,void 0);var st;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=s,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(st||(st={}));var lp;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(lp||(lp={}));const ye=st.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ns=e=>{switch(typeof e){case"undefined":return ye.undefined;case"string":return ye.string;case"number":return isNaN(e)?ye.nan:ye.number;case"boolean":return ye.boolean;case"function":return ye.function;case"bigint":return ye.bigint;case"symbol":return ye.symbol;case"object":return Array.isArray(e)?ye.array:e===null?ye.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ye.promise:typeof Map<"u"&&e instanceof Map?ye.map:typeof Set<"u"&&e instanceof Set?ye.set:typeof Date<"u"&&e instanceof Date?ye.date:ye.object;default:return ye.unknown}},ee=st.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),F5=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class nr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)s._errors.push(n(o));else{let l=s,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),s}static assert(t){if(!(t instanceof nr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,st.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},s=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):s.push(t(a));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}nr.create=e=>new nr(e);const $o=(e,t)=>{let n;switch(e.code){case ee.invalid_type:e.received===ye.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case ee.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,st.jsonStringifyReplacer)}`;break;case ee.unrecognized_keys:n=`Unrecognized key(s) in object: ${st.joinValues(e.keys,", ")}`;break;case ee.invalid_union:n="Invalid input";break;case ee.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${st.joinValues(e.options)}`;break;case ee.invalid_enum_value:n=`Invalid enum value. Expected ${st.joinValues(e.options)}, received '${e.received}'`;break;case ee.invalid_arguments:n="Invalid function arguments";break;case ee.invalid_return_type:n="Invalid function return type";break;case ee.invalid_date:n="Invalid date";break;case ee.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:st.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case ee.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case ee.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case ee.custom:n="Invalid input";break;case ee.invalid_intersection_types:n="Intersection results could not be merged";break;case ee.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ee.not_finite:n="Number must be finite";break;default:n=t.defaultError,st.assertNever(e)}return{message:n}};let Uk=$o;function M5(e){Uk=e}function Fu(){return Uk}const Mu=e=>{const{data:t,path:n,errorMaps:s,issueData:a}=e,i=[...n,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=s.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}},O5=[];function me(e,t){const n=Fu(),s=Mu({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===$o?void 0:$o].filter(a=>!!a)});e.common.issues.push(s)}class yn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const s=[];for(const a of n){if(a.status==="aborted")return Ve;a.status==="dirty"&&t.dirty(),s.push(a.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,n){const s=[];for(const a of n){const i=await a.key,o=await a.value;s.push({key:i,value:o})}return yn.mergeObjectSync(t,s)}static mergeObjectSync(t,n){const s={};for(const a of n){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return Ve;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(s[i.value]=o.value)}return{status:t.value,value:s}}}const Ve=Object.freeze({status:"aborted"}),Gi=e=>({status:"dirty",value:e}),Tn=e=>({status:"valid",value:e}),cp=e=>e.status==="aborted",dp=e=>e.status==="dirty",Ci=e=>e.status==="valid",dc=e=>typeof Promise<"u"&&e instanceof Promise;function Ou(e,t,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function qk(e,t,n,s,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var Ce;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ce||(Ce={}));var Cl,Pl;class fs{constructor(t,n,s,a){this._cachedPath=[],this.parent=t,this.data=n,this._path=s,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const n0=(e,t)=>{if(Ci(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new nr(e.common.issues);return this._error=n,this._error}}};function Ke(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:s,description:a}=e;if(t&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var c,d;const{message:f}=e;return o.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(c=f??s)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=f??n)!==null&&d!==void 0?d:l.defaultError}},description:a}}class et{get description(){return this._def.description}_getType(t){return Ns(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Ns(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new yn,ctx:{common:t.parent.common,data:t.data,parsedType:Ns(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(dc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const s=this.safeParse(t,n);if(s.success)return s.data;throw s.error}safeParse(t,n){var s;const a={common:{issues:[],async:(s=n==null?void 0:n.async)!==null&&s!==void 0?s:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ns(t)},i=this._parseSync({data:t,path:a.path,parent:a});return n0(a,i)}"~validate"(t){var n,s;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ns(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:a});return Ci(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((s=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(i=>Ci(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(t,n){const s=await this.safeParseAsync(t,n);if(s.success)return s.data;throw s.error}async safeParseAsync(t,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ns(t)},a=this._parse({data:t,path:s.path,parent:s}),i=await(dc(a)?a:Promise.resolve(a));return n0(s,i)}refine(t,n){const s=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:ee.custom,...s(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((s,a)=>t(s)?!0:(a.addIssue(typeof n=="function"?n(s,a):n),!1))}_refinement(t){return new zr({schema:this,typeName:Le.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return cs.create(this,this._def)}nullable(){return Fa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Or.create(this)}promise(){return Bo.create(this,this._def)}or(t){return hc.create([this,t],this._def)}and(t){return pc.create(this,t,this._def)}transform(t){return new zr({...Ke(this._def),schema:this,typeName:Le.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new bc({...Ke(this._def),innerType:this,defaultValue:n,typeName:Le.ZodDefault})}brand(){return new ag({typeName:Le.ZodBranded,type:this,...Ke(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new jc({...Ke(this._def),innerType:this,catchValue:n,typeName:Le.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return zc.create(this,t)}readonly(){return wc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const L5=/^c[^\s-]{8,}$/i,$5=/^[0-9a-z]+$/,V5=/^[0-9A-HJKMNP-TV-Z]{26}$/i,B5=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,z5=/^[a-z0-9_-]{21}$/i,U5=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,q5=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,W5=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Q5="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let km;const H5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,K5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Y5=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,G5=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Z5=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,X5=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Wk="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",J5=new RegExp(`^${Wk}$`);function Qk(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function e6(e){return new RegExp(`^${Qk(e)}$`)}function Hk(e){let t=`${Wk}T${Qk(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function t6(e,t){return!!((t==="v4"||!t)&&H5.test(e)||(t==="v6"||!t)&&Y5.test(e))}function n6(e,t){if(!U5.test(e))return!1;try{const[n]=e.split("."),s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function r6(e,t){return!!((t==="v4"||!t)&&K5.test(e)||(t==="v6"||!t)&&G5.test(e))}class Rr extends et{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ye.string){const i=this._getOrReturnCtx(t);return me(i,{code:ee.invalid_type,expected:ye.string,received:i.parsedType}),Ve}const s=new yn;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),me(a,{code:ee.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),me(a,{code:ee.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?me(a,{code:ee.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&me(a,{code:ee.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")W5.test(t.data)||(a=this._getOrReturnCtx(t,a),me(a,{validation:"email",code:ee.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")km||(km=new RegExp(Q5,"u")),km.test(t.data)||(a=this._getOrReturnCtx(t,a),me(a,{validation:"emoji",code:ee.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")B5.test(t.data)||(a=this._getOrReturnCtx(t,a),me(a,{validation:"uuid",code:ee.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")z5.test(t.data)||(a=this._getOrReturnCtx(t,a),me(a,{validation:"nanoid",code:ee.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")L5.test(t.data)||(a=this._getOrReturnCtx(t,a),me(a,{validation:"cuid",code:ee.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")$5.test(t.data)||(a=this._getOrReturnCtx(t,a),me(a,{validation:"cuid2",code:ee.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")V5.test(t.data)||(a=this._getOrReturnCtx(t,a),me(a,{validation:"ulid",code:ee.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),me(a,{validation:"url",code:ee.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),me(a,{validation:"regex",code:ee.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),me(a,{code:ee.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),me(a,{code:ee.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),me(a,{code:ee.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?Hk(i).test(t.data)||(a=this._getOrReturnCtx(t,a),me(a,{code:ee.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?J5.test(t.data)||(a=this._getOrReturnCtx(t,a),me(a,{code:ee.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?e6(i).test(t.data)||(a=this._getOrReturnCtx(t,a),me(a,{code:ee.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?q5.test(t.data)||(a=this._getOrReturnCtx(t,a),me(a,{validation:"duration",code:ee.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?t6(t.data,i.version)||(a=this._getOrReturnCtx(t,a),me(a,{validation:"ip",code:ee.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?n6(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),me(a,{validation:"jwt",code:ee.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?r6(t.data,i.version)||(a=this._getOrReturnCtx(t,a),me(a,{validation:"cidr",code:ee.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?Z5.test(t.data)||(a=this._getOrReturnCtx(t,a),me(a,{validation:"base64",code:ee.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?X5.test(t.data)||(a=this._getOrReturnCtx(t,a),me(a,{validation:"base64url",code:ee.invalid_string,message:i.message}),s.dirty()):st.assertNever(i);return{status:s.value,value:t.data}}_regex(t,n,s){return this.refinement(a=>t.test(a),{validation:n,code:ee.invalid_string,...Ce.errToObj(s)})}_addCheck(t){return new Rr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ce.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ce.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ce.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ce.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ce.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ce.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ce.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ce.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ce.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ce.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ce.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ce.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ce.errToObj(t)})}datetime(t){var n,s;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(s=t==null?void 0:t.local)!==null&&s!==void 0?s:!1,...Ce.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ce.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ce.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Ce.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Ce.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Ce.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Ce.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Ce.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Ce.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Ce.errToObj(n)})}nonempty(t){return this.min(1,Ce.errToObj(t))}trim(){return new Rr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Rr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Rr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Rr.create=e=>{var t;return new Rr({checks:[],typeName:Le.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ke(e)})};function s6(e,t){const n=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=n>s?n:s,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class Aa extends et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ye.number){const i=this._getOrReturnCtx(t);return me(i,{code:ee.invalid_type,expected:ye.number,received:i.parsedType}),Ve}let s;const a=new yn;for(const i of this._def.checks)i.kind==="int"?st.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),me(s,{code:ee.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),me(s,{code:ee.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),me(s,{code:ee.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?s6(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),me(s,{code:ee.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),me(s,{code:ee.not_finite,message:i.message}),a.dirty()):st.assertNever(i);return{status:a.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Ce.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ce.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ce.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ce.toString(n))}setLimit(t,n,s,a){return new Aa({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:Ce.toString(a)}]})}_addCheck(t){return new Aa({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ce.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ce.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ce.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ce.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ce.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ce.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Ce.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ce.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ce.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&st.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Aa.create=e=>new Aa({checks:[],typeName:Le.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ke(e)});class Ra extends et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ye.bigint)return this._getInvalidInput(t);let s;const a=new yn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),me(s,{code:ee.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),me(s,{code:ee.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),me(s,{code:ee.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):st.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return me(n,{code:ee.invalid_type,expected:ye.bigint,received:n.parsedType}),Ve}gte(t,n){return this.setLimit("min",t,!0,Ce.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ce.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ce.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ce.toString(n))}setLimit(t,n,s,a){return new Ra({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:Ce.toString(a)}]})}_addCheck(t){return new Ra({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ce.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ce.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ce.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ce.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ce.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ra.create=e=>{var t;return new Ra({checks:[],typeName:Le.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ke(e)})};class uc extends et{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ye.boolean){const s=this._getOrReturnCtx(t);return me(s,{code:ee.invalid_type,expected:ye.boolean,received:s.parsedType}),Ve}return Tn(t.data)}}uc.create=e=>new uc({typeName:Le.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ke(e)});class Pi extends et{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ye.date){const i=this._getOrReturnCtx(t);return me(i,{code:ee.invalid_type,expected:ye.date,received:i.parsedType}),Ve}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return me(i,{code:ee.invalid_date}),Ve}const s=new yn;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),me(a,{code:ee.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),me(a,{code:ee.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):st.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Pi({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Ce.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Ce.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Pi.create=e=>new Pi({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Le.ZodDate,...Ke(e)});class Lu extends et{_parse(t){if(this._getType(t)!==ye.symbol){const s=this._getOrReturnCtx(t);return me(s,{code:ee.invalid_type,expected:ye.symbol,received:s.parsedType}),Ve}return Tn(t.data)}}Lu.create=e=>new Lu({typeName:Le.ZodSymbol,...Ke(e)});class fc extends et{_parse(t){if(this._getType(t)!==ye.undefined){const s=this._getOrReturnCtx(t);return me(s,{code:ee.invalid_type,expected:ye.undefined,received:s.parsedType}),Ve}return Tn(t.data)}}fc.create=e=>new fc({typeName:Le.ZodUndefined,...Ke(e)});class mc extends et{_parse(t){if(this._getType(t)!==ye.null){const s=this._getOrReturnCtx(t);return me(s,{code:ee.invalid_type,expected:ye.null,received:s.parsedType}),Ve}return Tn(t.data)}}mc.create=e=>new mc({typeName:Le.ZodNull,...Ke(e)});class Vo extends et{constructor(){super(...arguments),this._any=!0}_parse(t){return Tn(t.data)}}Vo.create=e=>new Vo({typeName:Le.ZodAny,...Ke(e)});class di extends et{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Tn(t.data)}}di.create=e=>new di({typeName:Le.ZodUnknown,...Ke(e)});class $s extends et{_parse(t){const n=this._getOrReturnCtx(t);return me(n,{code:ee.invalid_type,expected:ye.never,received:n.parsedType}),Ve}}$s.create=e=>new $s({typeName:Le.ZodNever,...Ke(e)});class $u extends et{_parse(t){if(this._getType(t)!==ye.undefined){const s=this._getOrReturnCtx(t);return me(s,{code:ee.invalid_type,expected:ye.void,received:s.parsedType}),Ve}return Tn(t.data)}}$u.create=e=>new $u({typeName:Le.ZodVoid,...Ke(e)});class Or extends et{_parse(t){const{ctx:n,status:s}=this._processInputParams(t),a=this._def;if(n.parsedType!==ye.array)return me(n,{code:ee.invalid_type,expected:ye.array,received:n.parsedType}),Ve;if(a.exactLength!==null){const o=n.data.length>a.exactLength.value,l=n.data.length<a.exactLength.value;(o||l)&&(me(n,{code:o?ee.too_big:ee.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(me(n,{code:ee.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(me(n,{code:ee.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>a.type._parseAsync(new fs(n,o,n.path,l)))).then(o=>yn.mergeArray(s,o));const i=[...n.data].map((o,l)=>a.type._parseSync(new fs(n,o,n.path,l)));return yn.mergeArray(s,i)}get element(){return this._def.type}min(t,n){return new Or({...this._def,minLength:{value:t,message:Ce.toString(n)}})}max(t,n){return new Or({...this._def,maxLength:{value:t,message:Ce.toString(n)}})}length(t,n){return new Or({...this._def,exactLength:{value:t,message:Ce.toString(n)}})}nonempty(t){return this.min(1,t)}}Or.create=(e,t)=>new Or({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Le.ZodArray,...Ke(t)});function Oi(e){if(e instanceof Dt){const t={};for(const n in e.shape){const s=e.shape[n];t[n]=cs.create(Oi(s))}return new Dt({...e._def,shape:()=>t})}else return e instanceof Or?new Or({...e._def,type:Oi(e.element)}):e instanceof cs?cs.create(Oi(e.unwrap())):e instanceof Fa?Fa.create(Oi(e.unwrap())):e instanceof ms?ms.create(e.items.map(t=>Oi(t))):e}class Dt extends et{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=st.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==ye.object){const d=this._getOrReturnCtx(t);return me(d,{code:ee.invalid_type,expected:ye.object,received:d.parsedType}),Ve}const{status:s,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof $s&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const f=i[d],m=a.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new fs(a,m,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof $s){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:a.data[f]}});else if(d==="strict")l.length>0&&(me(a,{code:ee.unrecognized_keys,keys:l}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of l){const m=a.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new fs(a,m,a.path,f)),alwaysSet:f in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of c){const m=await f.key,u=await f.value;d.push({key:m,value:u,alwaysSet:f.alwaysSet})}return d}).then(d=>yn.mergeObjectSync(s,d)):yn.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(t){return Ce.errToObj,new Dt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,s)=>{var a,i,o,l;const c=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,n,s).message)!==null&&o!==void 0?o:s.defaultError;return n.code==="unrecognized_keys"?{message:(l=Ce.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Dt({...this._def,unknownKeys:"strip"})}passthrough(){return new Dt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Dt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Dt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Le.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Dt({...this._def,catchall:t})}pick(t){const n={};return st.objectKeys(t).forEach(s=>{t[s]&&this.shape[s]&&(n[s]=this.shape[s])}),new Dt({...this._def,shape:()=>n})}omit(t){const n={};return st.objectKeys(this.shape).forEach(s=>{t[s]||(n[s]=this.shape[s])}),new Dt({...this._def,shape:()=>n})}deepPartial(){return Oi(this)}partial(t){const n={};return st.objectKeys(this.shape).forEach(s=>{const a=this.shape[s];t&&!t[s]?n[s]=a:n[s]=a.optional()}),new Dt({...this._def,shape:()=>n})}required(t){const n={};return st.objectKeys(this.shape).forEach(s=>{if(t&&!t[s])n[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof cs;)i=i._def.innerType;n[s]=i}}),new Dt({...this._def,shape:()=>n})}keyof(){return Kk(st.objectKeys(this.shape))}}Dt.create=(e,t)=>new Dt({shape:()=>e,unknownKeys:"strip",catchall:$s.create(),typeName:Le.ZodObject,...Ke(t)});Dt.strictCreate=(e,t)=>new Dt({shape:()=>e,unknownKeys:"strict",catchall:$s.create(),typeName:Le.ZodObject,...Ke(t)});Dt.lazycreate=(e,t)=>new Dt({shape:e,unknownKeys:"strip",catchall:$s.create(),typeName:Le.ZodObject,...Ke(t)});class hc extends et{_parse(t){const{ctx:n}=this._processInputParams(t),s=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new nr(l.ctx.common.issues));return me(n,{code:ee.invalid_union,unionErrors:o}),Ve}if(n.common.async)return Promise.all(s.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of s){const d={...n,common:{...n.common,issues:[]},parent:null},f=c._parseSync({data:n.data,path:n.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new nr(c));return me(n,{code:ee.invalid_union,unionErrors:l}),Ve}}get options(){return this._def.options}}hc.create=(e,t)=>new hc({options:e,typeName:Le.ZodUnion,...Ke(t)});const bs=e=>e instanceof gc?bs(e.schema):e instanceof zr?bs(e.innerType()):e instanceof yc?[e.value]:e instanceof Ia?e.options:e instanceof vc?st.objectValues(e.enum):e instanceof bc?bs(e._def.innerType):e instanceof fc?[void 0]:e instanceof mc?[null]:e instanceof cs?[void 0,...bs(e.unwrap())]:e instanceof Fa?[null,...bs(e.unwrap())]:e instanceof ag||e instanceof wc?bs(e.unwrap()):e instanceof jc?bs(e._def.innerType):[];class Cf extends et{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==ye.object)return me(n,{code:ee.invalid_type,expected:ye.object,received:n.parsedType}),Ve;const s=this.discriminator,a=n.data[s],i=this.optionsMap.get(a);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(me(n,{code:ee.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),Ve)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,s){const a=new Map;for(const i of n){const o=bs(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new Cf({typeName:Le.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:a,...Ke(s)})}}function up(e,t){const n=Ns(e),s=Ns(t);if(e===t)return{valid:!0,data:e};if(n===ye.object&&s===ye.object){const a=st.objectKeys(t),i=st.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=up(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===ye.array&&s===ye.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=up(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return n===ye.date&&s===ye.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class pc extends et{_parse(t){const{status:n,ctx:s}=this._processInputParams(t),a=(i,o)=>{if(cp(i)||cp(o))return Ve;const l=up(i.value,o.value);return l.valid?((dp(i)||dp(o))&&n.dirty(),{status:n.value,value:l.data}):(me(s,{code:ee.invalid_intersection_types}),Ve)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}pc.create=(e,t,n)=>new pc({left:e,right:t,typeName:Le.ZodIntersection,...Ke(n)});class ms extends et{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==ye.array)return me(s,{code:ee.invalid_type,expected:ye.array,received:s.parsedType}),Ve;if(s.data.length<this._def.items.length)return me(s,{code:ee.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ve;!this._def.rest&&s.data.length>this._def.items.length&&(me(s,{code:ee.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new fs(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>yn.mergeArray(n,o)):yn.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new ms({...this._def,rest:t})}}ms.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ms({items:e,typeName:Le.ZodTuple,rest:null,...Ke(t)})};class xc extends et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==ye.object)return me(s,{code:ee.invalid_type,expected:ye.object,received:s.parsedType}),Ve;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in s.data)a.push({key:i._parse(new fs(s,l,s.path,l)),value:o._parse(new fs(s,s.data[l],s.path,l)),alwaysSet:l in s.data});return s.common.async?yn.mergeObjectAsync(n,a):yn.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(t,n,s){return n instanceof et?new xc({keyType:t,valueType:n,typeName:Le.ZodRecord,...Ke(s)}):new xc({keyType:Rr.create(),valueType:t,typeName:Le.ZodRecord,...Ke(n)})}}class Vu extends et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==ye.map)return me(s,{code:ee.invalid_type,expected:ye.map,received:s.parsedType}),Ve;const a=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,c],d)=>({key:a._parse(new fs(s,l,s.path,[d,"key"])),value:i._parse(new fs(s,c,s.path,[d,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,f=await c.value;if(d.status==="aborted"||f.status==="aborted")return Ve;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,f=c.value;if(d.status==="aborted"||f.status==="aborted")return Ve;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}}}}Vu.create=(e,t,n)=>new Vu({valueType:t,keyType:e,typeName:Le.ZodMap,...Ke(n)});class _i extends et{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==ye.set)return me(s,{code:ee.invalid_type,expected:ye.set,received:s.parsedType}),Ve;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(me(s,{code:ee.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(me(s,{code:ee.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const f of c){if(f.status==="aborted")return Ve;f.status==="dirty"&&n.dirty(),d.add(f.value)}return{status:n.value,value:d}}const l=[...s.data.values()].map((c,d)=>i._parse(new fs(s,c,s.path,d)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new _i({...this._def,minSize:{value:t,message:Ce.toString(n)}})}max(t,n){return new _i({...this._def,maxSize:{value:t,message:Ce.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}_i.create=(e,t)=>new _i({valueType:e,minSize:null,maxSize:null,typeName:Le.ZodSet,...Ke(t)});class uo extends et{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==ye.function)return me(n,{code:ee.invalid_type,expected:ye.function,received:n.parsedType}),Ve;function s(l,c){return Mu({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Fu(),$o].filter(d=>!!d),issueData:{code:ee.invalid_arguments,argumentsError:c}})}function a(l,c){return Mu({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Fu(),$o].filter(d=>!!d),issueData:{code:ee.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Bo){const l=this;return Tn(async function(...c){const d=new nr([]),f=await l._def.args.parseAsync(c,i).catch(y=>{throw d.addIssue(s(c,y)),d}),m=await Reflect.apply(o,this,f);return await l._def.returns._def.type.parseAsync(m,i).catch(y=>{throw d.addIssue(a(m,y)),d})})}else{const l=this;return Tn(function(...c){const d=l._def.args.safeParse(c,i);if(!d.success)throw new nr([s(c,d.error)]);const f=Reflect.apply(o,this,d.data),m=l._def.returns.safeParse(f,i);if(!m.success)throw new nr([a(f,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new uo({...this._def,args:ms.create(t).rest(di.create())})}returns(t){return new uo({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,s){return new uo({args:t||ms.create([]).rest(di.create()),returns:n||di.create(),typeName:Le.ZodFunction,...Ke(s)})}}class gc extends et{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}gc.create=(e,t)=>new gc({getter:e,typeName:Le.ZodLazy,...Ke(t)});class yc extends et{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return me(n,{received:n.data,code:ee.invalid_literal,expected:this._def.value}),Ve}return{status:"valid",value:t.data}}get value(){return this._def.value}}yc.create=(e,t)=>new yc({value:e,typeName:Le.ZodLiteral,...Ke(t)});function Kk(e,t){return new Ia({values:e,typeName:Le.ZodEnum,...Ke(t)})}class Ia extends et{constructor(){super(...arguments),Cl.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),s=this._def.values;return me(n,{expected:st.joinValues(s),received:n.parsedType,code:ee.invalid_type}),Ve}if(Ou(this,Cl)||qk(this,Cl,new Set(this._def.values)),!Ou(this,Cl).has(t.data)){const n=this._getOrReturnCtx(t),s=this._def.values;return me(n,{received:n.data,code:ee.invalid_enum_value,options:s}),Ve}return Tn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Ia.create(t,{...this._def,...n})}exclude(t,n=this._def){return Ia.create(this.options.filter(s=>!t.includes(s)),{...this._def,...n})}}Cl=new WeakMap;Ia.create=Kk;class vc extends et{constructor(){super(...arguments),Pl.set(this,void 0)}_parse(t){const n=st.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==ye.string&&s.parsedType!==ye.number){const a=st.objectValues(n);return me(s,{expected:st.joinValues(a),received:s.parsedType,code:ee.invalid_type}),Ve}if(Ou(this,Pl)||qk(this,Pl,new Set(st.getValidEnumValues(this._def.values))),!Ou(this,Pl).has(t.data)){const a=st.objectValues(n);return me(s,{received:s.data,code:ee.invalid_enum_value,options:a}),Ve}return Tn(t.data)}get enum(){return this._def.values}}Pl=new WeakMap;vc.create=(e,t)=>new vc({values:e,typeName:Le.ZodNativeEnum,...Ke(t)});class Bo extends et{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==ye.promise&&n.common.async===!1)return me(n,{code:ee.invalid_type,expected:ye.promise,received:n.parsedType}),Ve;const s=n.parsedType===ye.promise?n.data:Promise.resolve(n.data);return Tn(s.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Bo.create=(e,t)=>new Bo({type:e,typeName:Le.ZodPromise,...Ke(t)});class zr extends et{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Le.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:s}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{me(s,o),o.fatal?n.abort():n.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return Ve;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?Ve:c.status==="dirty"||n.value==="dirty"?Gi(c.value):c});{if(n.value==="aborted")return Ve;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?Ve:l.status==="dirty"||n.value==="dirty"?Gi(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?Ve:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?Ve:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(a.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Ci(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>Ci(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:n.value,value:l})):o);st.assertNever(a)}}zr.create=(e,t,n)=>new zr({schema:e,typeName:Le.ZodEffects,effect:t,...Ke(n)});zr.createWithPreprocess=(e,t,n)=>new zr({schema:t,effect:{type:"preprocess",transform:e},typeName:Le.ZodEffects,...Ke(n)});class cs extends et{_parse(t){return this._getType(t)===ye.undefined?Tn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}cs.create=(e,t)=>new cs({innerType:e,typeName:Le.ZodOptional,...Ke(t)});class Fa extends et{_parse(t){return this._getType(t)===ye.null?Tn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Fa.create=(e,t)=>new Fa({innerType:e,typeName:Le.ZodNullable,...Ke(t)});class bc extends et{_parse(t){const{ctx:n}=this._processInputParams(t);let s=n.data;return n.parsedType===ye.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}bc.create=(e,t)=>new bc({innerType:e,typeName:Le.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ke(t)});class jc extends et{_parse(t){const{ctx:n}=this._processInputParams(t),s={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return dc(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new nr(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new nr(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}jc.create=(e,t)=>new jc({innerType:e,typeName:Le.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ke(t)});class Bu extends et{_parse(t){if(this._getType(t)!==ye.nan){const s=this._getOrReturnCtx(t);return me(s,{code:ee.invalid_type,expected:ye.nan,received:s.parsedType}),Ve}return{status:"valid",value:t.data}}}Bu.create=e=>new Bu({typeName:Le.ZodNaN,...Ke(e)});const a6=Symbol("zod_brand");class ag extends et{_parse(t){const{ctx:n}=this._processInputParams(t),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class zc extends et{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?Ve:i.status==="dirty"?(n.dirty(),Gi(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?Ve:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(t,n){return new zc({in:t,out:n,typeName:Le.ZodPipeline})}}class wc extends et{_parse(t){const n=this._def.innerType._parse(t),s=a=>(Ci(a)&&(a.value=Object.freeze(a.value)),a);return dc(n)?n.then(a=>s(a)):s(n)}unwrap(){return this._def.innerType}}wc.create=(e,t)=>new wc({innerType:e,typeName:Le.ZodReadonly,...Ke(t)});function r0(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function Yk(e,t={},n){return e?Vo.create().superRefine((s,a)=>{var i,o;const l=e(s);if(l instanceof Promise)return l.then(c=>{var d,f;if(!c){const m=r0(t,s),u=(f=(d=m.fatal)!==null&&d!==void 0?d:n)!==null&&f!==void 0?f:!0;a.addIssue({code:"custom",...m,fatal:u})}});if(!l){const c=r0(t,s),d=(o=(i=c.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0;a.addIssue({code:"custom",...c,fatal:d})}}):Vo.create()}const i6={object:Dt.lazycreate};var Le;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Le||(Le={}));const o6=(e,t={message:`Input not instance of ${e.name}`})=>Yk(n=>n instanceof e,t),Gk=Rr.create,Zk=Aa.create,l6=Bu.create,c6=Ra.create,Xk=uc.create,d6=Pi.create,u6=Lu.create,f6=fc.create,m6=mc.create,h6=Vo.create,p6=di.create,x6=$s.create,g6=$u.create,y6=Or.create,v6=Dt.create,b6=Dt.strictCreate,j6=hc.create,w6=Cf.create,N6=pc.create,S6=ms.create,C6=xc.create,P6=Vu.create,_6=_i.create,k6=uo.create,T6=gc.create,E6=yc.create,D6=Ia.create,A6=vc.create,R6=Bo.create,s0=zr.create,I6=cs.create,F6=Fa.create,M6=zr.createWithPreprocess,O6=zc.create,L6=()=>Gk().optional(),$6=()=>Zk().optional(),V6=()=>Xk().optional(),B6={string:e=>Rr.create({...e,coerce:!0}),number:e=>Aa.create({...e,coerce:!0}),boolean:e=>uc.create({...e,coerce:!0}),bigint:e=>Ra.create({...e,coerce:!0}),date:e=>Pi.create({...e,coerce:!0})},z6=Ve;var xe=Object.freeze({__proto__:null,defaultErrorMap:$o,setErrorMap:M5,getErrorMap:Fu,makeIssue:Mu,EMPTY_PATH:O5,addIssueToContext:me,ParseStatus:yn,INVALID:Ve,DIRTY:Gi,OK:Tn,isAborted:cp,isDirty:dp,isValid:Ci,isAsync:dc,get util(){return st},get objectUtil(){return lp},ZodParsedType:ye,getParsedType:Ns,ZodType:et,datetimeRegex:Hk,ZodString:Rr,ZodNumber:Aa,ZodBigInt:Ra,ZodBoolean:uc,ZodDate:Pi,ZodSymbol:Lu,ZodUndefined:fc,ZodNull:mc,ZodAny:Vo,ZodUnknown:di,ZodNever:$s,ZodVoid:$u,ZodArray:Or,ZodObject:Dt,ZodUnion:hc,ZodDiscriminatedUnion:Cf,ZodIntersection:pc,ZodTuple:ms,ZodRecord:xc,ZodMap:Vu,ZodSet:_i,ZodFunction:uo,ZodLazy:gc,ZodLiteral:yc,ZodEnum:Ia,ZodNativeEnum:vc,ZodPromise:Bo,ZodEffects:zr,ZodTransformer:zr,ZodOptional:cs,ZodNullable:Fa,ZodDefault:bc,ZodCatch:jc,ZodNaN:Bu,BRAND:a6,ZodBranded:ag,ZodPipeline:zc,ZodReadonly:wc,custom:Yk,Schema:et,ZodSchema:et,late:i6,get ZodFirstPartyTypeKind(){return Le},coerce:B6,any:h6,array:y6,bigint:c6,boolean:Xk,date:d6,discriminatedUnion:w6,effect:s0,enum:D6,function:k6,instanceof:o6,intersection:N6,lazy:T6,literal:E6,map:P6,nan:l6,nativeEnum:A6,never:x6,null:m6,nullable:F6,number:Zk,object:v6,oboolean:V6,onumber:$6,optional:I6,ostring:L6,pipeline:O6,preprocess:M6,promise:R6,record:C6,set:_6,strictObject:b6,string:Gk,symbol:u6,transformer:s0,tuple:S6,undefined:f6,union:j6,unknown:p6,void:g6,NEVER:z6,ZodIssueCode:ee,quotelessJson:F5,ZodError:nr});const Et={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function $t(e,t){return t.includes(e.columnType)}function U6(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const q6=xe.union([xe.string(),xe.number(),xe.boolean(),xe.null()]),W6=xe.union([q6,xe.record(xe.any()),xe.array(xe.any())]),Q6=xe.custom(e=>e instanceof Buffer);function Jk(e,t){const n=(t==null?void 0:t.zodInstance)??xe,s=(t==null?void 0:t.coerce)??{};let a;return U6(e)&&(a=e.enumValues.length?n.enum(e.enumValues):n.string()),a||($t(e,["PgGeometry","PgPointTuple"])?a=n.tuple([n.number(),n.number()]):$t(e,["PgGeometryObject","PgPointObject"])?a=n.object({x:n.number(),y:n.number()}):$t(e,["PgHalfVector","PgVector"])?(a=n.array(n.number()),a=e.dimensions?a.length(e.dimensions):a):$t(e,["PgLine"])?a=n.tuple([n.number(),n.number(),n.number()]):$t(e,["PgLineABC"])?a=n.object({a:n.number(),b:n.number(),c:n.number()}):$t(e,["PgArray"])?(a=n.array(Jk(e.baseColumn,n)),a=e.size?a.length(e.size):a):e.dataType==="array"?a=n.array(n.any()):e.dataType==="number"?a=H6(e,n,s):e.dataType==="bigint"?a=K6(e,n,s):e.dataType==="boolean"?a=s===!0||s.boolean?n.coerce.boolean():n.boolean():e.dataType==="date"?a=s===!0||s.date?n.coerce.date():n.date():e.dataType==="string"?a=Y6(e,n,s):e.dataType==="json"?a=W6:e.dataType==="custom"?a=n.any():e.dataType==="buffer"&&(a=Q6)),a||(a=n.any()),a}function H6(e,t,n){let s=e.getSQLType().includes("unsigned"),a,i,o=!1;$t(e,["MySqlTinyInt","SingleStoreTinyInt"])?(a=s?0:Et.INT8_MIN,i=s?Et.INT8_UNSIGNED_MAX:Et.INT8_MAX,o=!0):$t(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(a=s?0:Et.INT16_MIN,i=s?Et.INT16_UNSIGNED_MAX:Et.INT16_MAX,o=!0):$t(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(a=s?0:Et.INT24_MIN,i=s?Et.INT24_UNSIGNED_MAX:Et.INT24_MAX,o=$t(e,["MySqlMediumInt","SingleStoreMediumInt"])):$t(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(a=s?0:Et.INT32_MIN,i=s?Et.INT32_UNSIGNED_MAX:Et.INT32_MAX,o=!0):$t(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(a=s?0:Et.INT48_MIN,i=s?Et.INT48_UNSIGNED_MAX:Et.INT48_MAX):$t(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(s=s||$t(e,["MySqlSerial","SingleStoreSerial"]),a=s?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):$t(e,["MySqlYear","SingleStoreYear"])?(a=1901,i=2155,o=!0):(a=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let l=n===!0||n!=null&&n.number?t.coerce.number():t.number();return l=l.min(a).max(i),o?l.int():l}function K6(e,t,n){const s=e.getSQLType().includes("unsigned"),a=s?0n:Et.INT64_MIN,i=s?Et.INT64_UNSIGNED_MAX:Et.INT64_MAX;return(n===!0||n!=null&&n.bigint?t.coerce.bigint():t.bigint()).min(a).max(i)}function Y6(e,t,n){if($t(e,["PgUUID"]))return t.string().uuid();let s,a,i=!1;$t(e,["PgVarchar","SQLiteText"])?s=e.length:$t(e,["MySqlVarChar","SingleStoreVarChar"])?s=e.length??Et.INT16_UNSIGNED_MAX:$t(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?s=Et.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?s=Et.INT24_UNSIGNED_MAX:e.textType==="text"?s=Et.INT16_UNSIGNED_MAX:s=Et.INT8_UNSIGNED_MAX),$t(e,["PgChar","MySqlChar","SingleStoreChar"])&&(s=e.length,i=!0),$t(e,["PgBinaryVector"])&&(a=/^[01]+$/,s=e.dimensions);let o=n===!0||n!=null&&n.string?t.coerce.string():t.string();return o=a?o.regex(a):o,s&&i?o.length(s):s?o.max(s):o}function eT(e){return u_(e)?a5(e):i5(e)}function tT(e,t,n,s){const a={};for(const[i,o]of Object.entries(e)){if(!rn(o,Lo)&&!rn(o,Yt)&&!rn(o,Yt.Aliased)&&typeof o=="object"){const m=u_(o)||s5(o)?eT(o):o;a[i]=tT(m,t[i]??{},n,s);continue}const l=t[i];if(l!==void 0&&typeof l!="function"){a[i]=l;continue}const c=rn(o,Lo)?o:void 0,d=c?Jk(c,s):xe.any(),f=typeof l=="function"?l(d):d;n.never(c)||(a[i]=f,c&&(n.nullable(c)&&(a[i]=a[i].nullable()),n.optional(c)&&(a[i]=a[i].optional())))}return xe.object(a)}const G6={never:e=>{var t,n;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((n=e==null?void 0:e.generatedIdentity)==null?void 0:n.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},Qr=(e,t)=>{const n=eT(e);return tT(n,{},G6)},zo=or("users",{id:mt("id").primaryKey().default(on`gen_random_uuid()`),username:Q("username").notNull().unique(),password:Q("password").notNull(),email:Q("email"),fullName:Q("full_name").notNull(),role:Q("role").notNull().default("cashier"),isActive:Ba("is_active").notNull().default(!0),createdAt:vt("created_at").notNull().defaultNow()}),ig=or("products",{id:mt("id").primaryKey().default(on`gen_random_uuid()`),name:Q("name").notNull(),barcode:Q("barcode").unique(),sku:Q("sku").notNull().unique(),description:Q("description"),category:Q("category").notNull(),brand:Q("brand"),unitPrice:wt("unit_price",{precision:10,scale:2}).notNull(),costPrice:wt("cost_price",{precision:10,scale:2}).notNull(),stockQuantity:Da("stock_quantity").notNull().default(0),minStockLevel:Da("min_stock_level").notNull().default(5),unit:Q("unit").notNull().default("pcs"),taxRate:wt("tax_rate",{precision:5,scale:2}).notNull().default("18.00"),hsCode:Q("hs_code"),sroScheduleNo:Q("sro_schedule_no"),sroItemSerialNo:Q("sro_item_serial_no"),sroDescription:Q("sro_description"),taxScenario:Q("tax_scenario").notNull().default("SN027"),isActive:Ba("is_active").notNull().default(!0),createdAt:vt("created_at").notNull().defaultNow(),updatedAt:vt("updated_at").notNull().defaultNow()}),Z6=or("categories",{id:mt("id").primaryKey().default(on`gen_random_uuid()`),name:Q("name").notNull().unique(),description:Q("description"),isActive:Ba("is_active").notNull().default(!0),createdAt:vt("created_at").notNull().defaultNow()}),Pf=or("customers",{id:mt("id").primaryKey().default(on`gen_random_uuid()`),name:Q("name").notNull(),email:Q("email"),phone:Q("phone"),address:Q("address"),city:Q("city"),ntn:Q("ntn"),cnic:Q("cnic"),businessName:Q("business_name"),strn:Q("strn"),contactPerson:Q("contact_person"),loyaltyPoints:Da("loyalty_points").notNull().default(0),creditLimit:wt("credit_limit",{precision:10,scale:2}).notNull().default("0.00"),totalPurchases:wt("total_purchases",{precision:10,scale:2}).notNull().default("0.00"),isActive:Ba("is_active").notNull().default(!0),createdAt:vt("created_at").notNull().defaultNow()}),og=or("sales",{id:mt("id").primaryKey().default(on`gen_random_uuid()`),invoiceNumber:Q("invoice_number").notNull().unique(),fbrInvoiceNumber:Q("fbr_invoice_number"),fbrIrn:Q("fbr_irn"),invoiceDate:vt("invoice_date").notNull().defaultNow(),dueDate:vt("due_date"),customerId:mt("customer_id").references(()=>Pf.id),customerName:Q("customer_name").notNull(),customerNtn:Q("customer_ntn"),customerCnic:Q("customer_cnic"),customerAddress:Q("customer_address"),customerPhone:Q("customer_phone"),customerEmail:Q("customer_email"),userId:mt("user_id").notNull().references(()=>zo.id),cashierName:Q("cashier_name"),subtotal:wt("subtotal",{precision:10,scale:2}).notNull(),taxAmount:wt("tax_amount",{precision:10,scale:2}).notNull(),discountAmount:wt("discount_amount",{precision:10,scale:2}).notNull().default("0.00"),posServiceFee:wt("pos_service_fee",{precision:10,scale:2}).notNull().default("1.00"),totalAmount:wt("total_amount",{precision:10,scale:2}).notNull(),paidAmount:wt("paid_amount",{precision:10,scale:2}).notNull(),changeAmount:wt("change_amount",{precision:10,scale:2}).notNull().default("0.00"),advanceAmount:wt("advance_amount",{precision:10,scale:2}).notNull().default("0.00"),remainingAmount:wt("remaining_amount",{precision:10,scale:2}).notNull().default("0.00"),paymentMethod:Q("payment_method").notNull(),paymentStatus:Q("payment_status").notNull().default("pending"),paymentTerms:Q("payment_terms").notNull().default("cod"),bankName:Q("bank_name"),bankBranch:Q("bank_branch"),accountTitle:Q("account_title"),accountNumber:Q("account_number"),transactionReference:Q("transaction_reference"),cardType:Q("card_type"),cardLastFour:Q("card_last_four"),transactionId:Q("transaction_id"),walletProvider:Q("wallet_provider"),chequeNumber:Q("cheque_number"),chequeDate:vt("cheque_date"),fbrStatus:Q("fbr_status").notNull().default("not_configured"),fbrQrCode:Q("fbr_qr_code"),fbrSubmissionId:Q("fbr_submission_id"),taxScenario:Q("tax_scenario").notNull().default("SN027"),notes:Q("notes"),deliveryTerms:Q("delivery_terms"),warrantyInfo:Q("warranty_info"),saleDate:vt("sale_date").notNull().defaultNow(),createdAt:vt("created_at").notNull().defaultNow()}),X6=or("sale_items",{id:mt("id").primaryKey().default(on`gen_random_uuid()`),saleId:mt("sale_id").notNull().references(()=>og.id),productId:mt("product_id").notNull().references(()=>ig.id),serialNumber:Da("serial_number").notNull(),itemDescription:Q("item_description").notNull(),uom:Q("uom").notNull().default("PCS"),quantity:Da("quantity").notNull(),unitPrice:wt("unit_price",{precision:10,scale:2}).notNull(),taxRate:wt("tax_rate",{precision:5,scale:2}).notNull(),taxAmount:wt("tax_amount",{precision:10,scale:2}).notNull(),totalAmount:wt("total_amount",{precision:10,scale:2}).notNull(),hsCode:Q("hs_code")}),nT=or("suppliers",{id:mt("id").primaryKey().default(on`gen_random_uuid()`),name:Q("name").notNull(),contactPerson:Q("contact_person"),email:Q("email"),phone:Q("phone").notNull(),address:Q("address"),city:Q("city"),ntn:Q("ntn"),bankDetails:Q("bank_details"),paymentTerms:Q("payment_terms"),isActive:Ba("is_active").notNull().default(!0),createdAt:vt("created_at").notNull().defaultNow()});or("purchase_orders",{id:mt("id").primaryKey().default(on`gen_random_uuid()`),orderNumber:Q("order_number").notNull().unique(),supplierId:mt("supplier_id").notNull().references(()=>nT.id),supplierName:Q("supplier_name").notNull(),totalAmount:wt("total_amount",{precision:10,scale:2}).notNull(),status:Q("status").notNull().default("pending"),orderDate:vt("order_date").notNull().defaultNow(),expectedDate:vt("expected_date"),receivedDate:vt("received_date"),notes:Q("notes"),createdAt:vt("created_at").notNull().defaultNow()});const rT=or("sale_orders",{id:mt("id").primaryKey().default(on`gen_random_uuid()`),orderNumber:Q("order_number").notNull().unique(),customerId:mt("customer_id").notNull().references(()=>Pf.id),customerName:Q("customer_name").notNull(),userId:mt("user_id").notNull().references(()=>zo.id),totalAmount:wt("total_amount",{precision:10,scale:2}).notNull(),status:Q("status").notNull().default("pending"),paymentTerms:Q("payment_terms").notNull().default("cod"),advanceAmount:wt("advance_amount",{precision:10,scale:2}).notNull().default("0.00"),remainingAmount:wt("remaining_amount",{precision:10,scale:2}).notNull().default("0.00"),creditDays:Da("credit_days").default(0),paymentDueDate:vt("payment_due_date"),paymentStatus:Q("payment_status").notNull().default("unpaid"),orderDate:vt("order_date").notNull().defaultNow(),expectedDeliveryDate:vt("expected_delivery_date").notNull(),deliveredDate:vt("delivered_date"),notes:Q("notes"),createdAt:vt("created_at").notNull().defaultNow()}),J6=or("sale_order_items",{id:mt("id").primaryKey().default(on`gen_random_uuid()`),saleOrderId:mt("sale_order_id").notNull().references(()=>rT.id),productId:mt("product_id").notNull().references(()=>ig.id),productName:Q("product_name").notNull(),quantity:Da("quantity").notNull(),unitPrice:wt("unit_price",{precision:10,scale:2}).notNull(),totalAmount:wt("total_amount",{precision:10,scale:2}).notNull()}),e8=or("payment_records",{id:mt("id").primaryKey().default(on`gen_random_uuid()`),invoiceId:mt("invoice_id").notNull().references(()=>og.id),invoiceNumber:Q("invoice_number").notNull(),customerId:mt("customer_id").notNull().references(()=>Pf.id),customerName:Q("customer_name").notNull(),paymentDate:vt("payment_date").notNull(),amount:wt("amount",{precision:10,scale:2}).notNull(),paymentMethod:Q("payment_method").notNull(),referenceNumber:Q("reference_number"),bankName:Q("bank_name"),receiptNumber:Q("receipt_number").notNull().unique(),receiptGenerated:Ba("receipt_generated").notNull().default(!1),notes:Q("notes"),recordedBy:mt("recorded_by").notNull().references(()=>zo.id),recordedByName:Q("recorded_by_name").notNull(),status:Q("status").notNull().default("recorded"),reconciledAt:vt("reconciled_at"),reconciledBy:mt("reconciled_by").references(()=>zo.id),createdAt:vt("created_at").notNull().defaultNow(),updatedAt:vt("updated_at").notNull().defaultNow()});or("audit_logs",{id:mt("id").primaryKey().default(on`gen_random_uuid()`),userId:mt("user_id").notNull().references(()=>zo.id),action:Q("action").notNull(),entityType:Q("entity_type"),entityId:mt("entity_id"),details:Q_("details"),ipAddress:Q("ip_address"),userAgent:Q("user_agent"),timestamp:vt("timestamp").notNull().defaultNow()});const t8=or("system_settings",{id:mt("id").primaryKey().default(on`gen_random_uuid()`),businessName:Q("business_name").notNull(),ntn:Q("ntn").notNull(),businessNtn:Q("business_ntn"),strn:Q("strn"),address:Q("address").notNull(),city:Q("city").notNull(),phone:Q("phone").notNull(),email:Q("email"),website:Q("website"),taxOffice:Q("tax_office"),posRegistrationNumber:Q("pos_registration_number"),currency:Q("currency").notNull().default("PKR"),taxRate:wt("tax_rate",{precision:5,scale:2}).notNull().default("18.00"),pralEnvironment:Q("pral_environment").default("sandbox"),pralApiToken:Q("pral_api_token"),pralSandboxToken:Q("pral_sandbox_token"),pralApiUrl:Q("pral_api_url").default("https://gw.fbr.gov.pk/imsp/v1/api/Live/PostData"),pralSandboxUrl:Q("pral_sandbox_url").default("https://sandbox.esp.fbr.gov.pk"),licenseIntegrator:Q("license_integrator").default("PRAL"),fbrApiToken:Q("fbr_api_token"),fbrApiUrl:Q("fbr_api_url"),smtpHost:Q("smtp_host"),smtpPort:Q("smtp_port").default("587"),smtpSecure:Ba("smtp_secure").default(!1),smtpUser:Q("smtp_user"),smtpPassword:Q("smtp_password"),smtpFromEmail:Q("smtp_from_email"),smtpFromName:Q("smtp_from_name"),emailSignature:Q("email_signature"),receiptFooter:Q("receipt_footer").default("Verify this invoice through FBR Tax Asaan Mobile App or SMS at 9966 and win exciting prizes in draw"),invoiceTerms:Q("invoice_terms"),language:Q("language").notNull().default("en"),createdAt:vt("created_at").notNull().defaultNow(),updatedAt:vt("updated_at").notNull().defaultNow()});Qr(zo).omit({id:!0,createdAt:!0});const n8=Qr(ig).omit({id:!0,createdAt:!0,updatedAt:!0});Qr(Z6).omit({id:!0,createdAt:!0});const r8=Qr(Pf).omit({id:!0,createdAt:!0}),s8=Qr(og).omit({id:!0,createdAt:!0,fbrInvoiceNumber:!0,fbrQrCode:!0}).extend({invoiceNumber:xe.string().optional()}),a8=Qr(X6).omit({id:!0}).extend({saleId:xe.string().optional(),serialNumber:xe.number().optional(),itemDescription:xe.string().optional(),uom:xe.string().optional().default("PCS"),hsCode:xe.string().optional()});Qr(nT).omit({id:!0,createdAt:!0});const i8=Qr(rT).omit({id:!0,createdAt:!0,orderNumber:!0}),o8=Qr(e8).omit({id:!0,receiptNumber:!0,createdAt:!0,updatedAt:!0}),l8=Qr(J6).omit({id:!0}).extend({saleOrderId:xe.string().optional()});Qr(t8).omit({id:!0,createdAt:!0,updatedAt:!0});xe.object({sale:s8,items:xe.array(a8)});xe.object({saleOrder:i8,items:xe.array(l8)});function c8(){const{data:e,isLoading:t,error:n}=We({queryKey:["/api/products"]}),{data:s,isLoading:a,error:i}=We({queryKey:["/api/products/low-stock"]}),{data:o,isLoading:l,error:c}=We({queryKey:["/api/analytics/inventory-value"]}),d=Array.isArray(e)?{totalProducts:e.length,activeProducts:e.filter(x=>x.isActive).length,inactiveProducts:e.filter(x=>!x.isActive).length,categoriesCount:new Set(e.map(x=>x.category)).size,totalStockValue:e.reduce((x,p)=>x+parseFloat(p.unitPrice)*p.stockQuantity,0),totalCostValue:e.reduce((x,p)=>x+parseFloat(p.costPrice)*p.stockQuantity,0),averageStockLevel:e.length>0?e.reduce((x,p)=>x+p.stockQuantity,0)/e.length:0,lowStockCount:(s==null?void 0:s.length)||0,outOfStockCount:e.filter(x=>x.stockQuantity===0).length,overstockedCount:e.filter(x=>x.stockQuantity>x.minStockLevel*5).length}:null;return{products:e||[],lowStockProducts:s||[],inventoryValue:o||{value:0},isLoading:t||a||l,error:n||i||c,metrics:d,getProductsByCategory:x=>Array.isArray(e)?e.filter(p=>p.category===x&&p.isActive):[],getTopProductsByValue:(x=10)=>Array.isArray(e)?[...e].sort((p,b)=>{const w=parseFloat(p.unitPrice)*p.stockQuantity;return parseFloat(b.unitPrice)*b.stockQuantity-w}).slice(0,x):[],getLowTurnoverProducts:()=>Array.isArray(e)?e.filter(x=>x.stockQuantity>x.minStockLevel*3&&x.isActive):[],getFastMovingProducts:()=>Array.isArray(e)?e.filter(x=>x.stockQuantity<=x.minStockLevel*1.5&&x.stockQuantity>0&&x.isActive):[],getStockAlerts:()=>Array.isArray(e)?{critical:e.filter(x=>x.stockQuantity<=x.minStockLevel&&x.stockQuantity>0&&x.isActive),warning:e.filter(x=>x.stockQuantity<=x.minStockLevel*2&&x.stockQuantity>x.minStockLevel&&x.isActive),outOfStock:e.filter(x=>x.stockQuantity===0&&x.isActive)}:{critical:[],warning:[],outOfStock:[]},getCategoryBreakdown:()=>{if(!Array.isArray(e))return[];const x=new Map;return e.forEach(p=>{if(!p.isActive)return;const b=p.category,w=parseFloat(p.unitPrice)*p.stockQuantity,C=p.stockQuantity<=p.minStockLevel;if(x.has(b)){const _=x.get(b);_.count+=1,_.totalValue+=w,C&&(_.lowStockCount+=1),_.averagePrice=(_.averagePrice*(_.count-1)+parseFloat(p.unitPrice))/_.count}else x.set(b,{name:b,count:1,totalValue:w,lowStockCount:C?1:0,averagePrice:parseFloat(p.unitPrice)})}),Array.from(x.values()).sort((p,b)=>b.totalValue-p.totalValue)},getReorderRecommendations:()=>Array.isArray(e)?e.filter(x=>x.stockQuantity<=x.minStockLevel&&x.isActive).map(x=>({product:x,recommendedQuantity:Math.max(x.minStockLevel*3,10),urgency:x.stockQuantity===0?"critical":x.stockQuantity<=x.minStockLevel*.5?"high":"medium"})).sort((x,p)=>{const b={critical:3,high:2,medium:1};return b[p.urgency]-b[x.urgency]}):[]}}const d8=n8.extend({unitPrice:xe.string().min(1,"Unit price is required"),costPrice:xe.string().min(1,"Cost price is required"),taxRate:xe.string().min(1,"Tax rate is required"),sroScheduleNo:xe.string().optional(),sroItemSerialNo:xe.string().optional(),sroDescription:xe.string().optional()}),u8=xe.object({name:xe.string().min(1,"Category name is required"),description:xe.string().optional()});function f8(){const{toast:e}=Jt(),t=qr(),{products:n,lowStockProducts:s,inventoryValue:a,isLoading:i}=c8(),[o,l]=h.useState(""),[c,d]=h.useState("all"),[f,m]=h.useState(!1),[u,y]=h.useState(!1),[v,g]=h.useState(!1),[j,x]=h.useState(null),[p,b]=h.useState(null),{data:w=[],isLoading:C}=We({queryKey:["/api/categories"],queryFn:async()=>(await Je("GET","/api/categories")).json()}),_=oi({resolver:ci(d8),defaultValues:{name:"",barcode:"",sku:"",description:"",category:"",brand:"",unitPrice:"",costPrice:"",stockQuantity:0,minStockLevel:5,unit:"pcs",taxRate:"18.00",hsCode:"",sroScheduleNo:"",sroItemSerialNo:"",sroDescription:"",isActive:!0}}),N=oi({resolver:ci(u8),defaultValues:{name:"",description:""}}),k=yt({mutationFn:async I=>(await Je("POST","/api/products",I)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/products"]}),t.invalidateQueries({queryKey:["/api/products/low-stock"]}),t.invalidateQueries({queryKey:["/api/analytics/inventory-value"]}),t.invalidateQueries({queryKey:["/api/analytics/top-products"]}),m(!1),x(null),_.reset(),e({title:"Product Added",description:"Product has been successfully added to inventory"})},onError:()=>{e({title:"Error",description:"Failed to add product. Please try again.",variant:"destructive"})}}),F=yt({mutationFn:async I=>(await Je("POST","/api/categories",I)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/categories"]}),y(!1),g(!1),b(null),N.reset(),e({title:"Category Added",description:"Category has been successfully created"})},onError:()=>{e({title:"Error",description:"Failed to add category. Please try again.",variant:"destructive"})}}),L=yt({mutationFn:async({id:I,data:M})=>(await Je("PUT",`/api/categories/${I}`,M)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/categories"]}),y(!1),b(null),N.reset(),e({title:"Category Updated",description:"Category has been successfully updated"})},onError:()=>{e({title:"Error",description:"Failed to update category. Please try again.",variant:"destructive"})}}),S=yt({mutationFn:async I=>(await Je("DELETE",`/api/categories/${I}`)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/categories"]}),e({title:"Category Deleted",description:"Category has been successfully deleted"})},onError:()=>{e({title:"Error",description:"Failed to delete category. Please try again.",variant:"destructive"})}}),D=yt({mutationFn:async({id:I,data:M})=>(await Je("PUT",`/api/products/${I}`,M)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/products"]}),t.invalidateQueries({queryKey:["/api/products/low-stock"]}),t.invalidateQueries({queryKey:["/api/analytics/inventory-value"]}),t.invalidateQueries({queryKey:["/api/analytics/top-products"]}),m(!1),x(null),_.reset(),e({title:"Product Updated",description:"Product has been successfully updated"})},onError:()=>{e({title:"Error",description:"Failed to update product. Please try again.",variant:"destructive"})}}),q=yt({mutationFn:async I=>{const M=await Je("DELETE",`/api/products/${I}`);if(!M.ok)throw new Error(`Failed to delete product: ${M.status}`);return M.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/products"]}),t.invalidateQueries({queryKey:["/api/products/low-stock"]}),t.invalidateQueries({queryKey:["/api/analytics/inventory-value"]}),t.invalidateQueries({queryKey:["/api/analytics/top-products"]}),e({title:"Product Deleted",description:"Product has been successfully deleted"})},onError:I=>{console.error("Delete product error:",I),e({title:"Error",description:I.message||"Failed to delete product. Please try again.",variant:"destructive"})}}),V=I=>{const M={...I,unitPrice:I.unitPrice,costPrice:I.costPrice,taxRate:I.taxRate};j?D.mutate({id:j.id,data:M}):k.mutate(M)},$=I=>{p?L.mutate({id:p.id,data:I}):F.mutate(I)},K=I=>{b(I),N.reset({name:I.name,description:I.description||""}),y(!0)},B=I=>{confirm("Are you sure you want to delete this category? This action cannot be undone.")&&S.mutate(I)},P=I=>{confirm("Are you sure you want to delete this product? This action cannot be undone.")&&q.mutate(I)},W=I=>{x(I),_.reset({name:I.name,barcode:I.barcode||"",sku:I.sku,description:I.description||"",category:I.category,brand:I.brand||"",unitPrice:I.unitPrice,costPrice:I.costPrice,stockQuantity:I.stockQuantity,minStockLevel:I.minStockLevel,unit:I.unit,taxRate:I.taxRate,hsCode:I.hsCode||"",sroScheduleNo:I.sroScheduleNo||"",sroItemSerialNo:I.sroItemSerialNo||"",sroDescription:I.sroDescription||"",isActive:I.isActive}),m(!0)},re=Array.isArray(n)?n.filter(I=>{const M=I.name.toLowerCase().includes(o.toLowerCase())||I.sku.toLowerCase().includes(o.toLowerCase()),ce=c==="all"||I.category===c;return M&&ce}):[],ve=Array.isArray(s)?s.length:0,Qe=Array.isArray(n)?n.length:0,kt=a&&typeof a=="object"&&"value"in a?a.value:0;return i?r.jsx("div",{className:"p-6 space-y-6",children:r.jsxs("div",{className:"animate-pulse space-y-4",children:[r.jsx("div",{className:"h-8 bg-muted rounded w-1/4"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(I=>r.jsx("div",{className:"h-32 bg-muted rounded"},I))})]})}):r.jsxs("div",{className:"p-6 space-y-6","data-testid":"inventory-container",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground","data-testid":"text-inventory-title",children:"Inventory Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage your product inventory and stock levels"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Pn,{open:u,onOpenChange:y,children:r.jsx(Su,{asChild:!0,children:r.jsxs(G,{variant:"outline",onClick:()=>{N.reset()},"data-testid":"button-add-category",children:[r.jsx(cm,{className:"h-4 w-4 mr-2"}),"Add Category"]})})}),r.jsxs(Pn,{open:f,onOpenChange:m,children:[r.jsx(Su,{asChild:!0,children:r.jsxs(G,{onClick:()=>{x(null),_.reset()},"data-testid":"button-add-product",children:[r.jsx(is,{className:"h-4 w-4 mr-2"}),"Add Product"]})}),r.jsxs(kn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Bn,{children:[r.jsx(zn,{children:j?"Edit Product":"Add New Product"}),r.jsx(ls,{children:j?"Update product information":"Add a new product to your inventory"})]}),r.jsx(li,{..._,children:r.jsxs("form",{onSubmit:_.handleSubmit(V),className:"space-y-4",children:[r.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.jsx(Me,{control:_.control,name:"name",render:({field:I})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Product Name *"}),r.jsx(Ie,{children:r.jsx(ue,{placeholder:"Enter product name",...I,"data-testid":"input-product-name"})}),r.jsx(Fe,{})]})})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Me,{control:_.control,name:"sku",render:({field:I})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"SKU *"}),r.jsx(Ie,{children:r.jsx(ue,{placeholder:"Product SKU",...I,"data-testid":"input-product-sku"})}),r.jsx(Fe,{})]})}),r.jsx(Me,{control:_.control,name:"barcode",render:({field:I})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Barcode"}),r.jsx(Ie,{children:r.jsx(ue,{placeholder:"Product barcode",...I,"data-testid":"input-product-barcode"})}),r.jsx(Fe,{})]})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Me,{control:_.control,name:"category",render:({field:I})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Category *"}),r.jsxs(bt,{onValueChange:I.onChange,defaultValue:I.value,children:[r.jsx(Ie,{children:r.jsx(xt,{"data-testid":"select-product-category",children:r.jsx(jt,{placeholder:"Select category"})})}),r.jsx(gt,{children:w.map(M=>r.jsx(ae,{value:M.name,children:M.name},M.id))})]}),r.jsx(Fe,{})]})}),r.jsx(Me,{control:_.control,name:"brand",render:({field:I})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Brand"}),r.jsx(Ie,{children:r.jsx(ue,{placeholder:"Product brand",...I,"data-testid":"input-product-brand"})}),r.jsx(Fe,{})]})})]}),r.jsx(Me,{control:_.control,name:"description",render:({field:I})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Description"}),r.jsx(Ie,{children:r.jsx(Mr,{placeholder:"Product description",...I,"data-testid":"input-product-description"})}),r.jsx(Fe,{})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Me,{control:_.control,name:"unitPrice",render:({field:I})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Unit Price (PKR) *"}),r.jsx(Ie,{children:r.jsx(ue,{type:"number",step:"0.01",placeholder:"0.00",...I,"data-testid":"input-product-unit-price"})}),r.jsx(Fe,{})]})}),r.jsx(Me,{control:_.control,name:"costPrice",render:({field:I})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Cost Price (PKR) *"}),r.jsx(Ie,{children:r.jsx(ue,{type:"number",step:"0.01",placeholder:"0.00",...I,"data-testid":"input-product-cost-price"})}),r.jsx(Fe,{})]})})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsx(Me,{control:_.control,name:"stockQuantity",render:({field:I})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Stock Quantity *"}),r.jsx(Ie,{children:r.jsx(ue,{type:"number",placeholder:"0",...I,onChange:M=>I.onChange(parseInt(M.target.value)||0),"data-testid":"input-product-stock"})}),r.jsx(Fe,{})]})}),r.jsx(Me,{control:_.control,name:"minStockLevel",render:({field:I})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Min Stock Level *"}),r.jsx(Ie,{children:r.jsx(ue,{type:"number",placeholder:"5",...I,onChange:M=>I.onChange(parseInt(M.target.value)||0),"data-testid":"input-product-min-stock"})}),r.jsx(Fe,{})]})}),r.jsx(Me,{control:_.control,name:"unit",render:({field:I})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Unit *"}),r.jsxs(bt,{onValueChange:I.onChange,defaultValue:I.value,children:[r.jsx(Ie,{children:r.jsx(xt,{"data-testid":"select-product-unit",children:r.jsx(jt,{placeholder:"Select unit"})})}),r.jsx(gt,{children:NM.map(M=>r.jsx(ae,{value:M,children:M},M))})]}),r.jsx(Fe,{})]})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Me,{control:_.control,name:"taxRate",render:({field:I})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Tax Rate (%) *"}),r.jsx(Ie,{children:r.jsx(ue,{type:"number",step:"0.01",placeholder:"18.00",...I,"data-testid":"input-product-tax-rate"})}),r.jsx(Fe,{})]})}),r.jsx(Me,{control:_.control,name:"hsCode",render:({field:I})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"HS Code"}),r.jsx(Ie,{children:r.jsx(ue,{placeholder:"1234.56.7890",...I,"data-testid":"input-product-hs-code"})}),r.jsx(Fe,{})]})})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h4",{className:"text-sm font-medium mb-3",children:"FBR SRO Classification (Optional)"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Me,{control:_.control,name:"sroScheduleNo",render:({field:I})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"SRO Schedule No."}),r.jsx(Ie,{children:r.jsx(ue,{placeholder:"e.g., 1125(I)/2011",...I,"data-testid":"input-product-sro-schedule"})}),r.jsx(Fe,{})]})}),r.jsx(Me,{control:_.control,name:"sroItemSerialNo",render:({field:I})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"SRO Item Serial No."}),r.jsx(Ie,{children:r.jsx(ue,{placeholder:"e.g., 123",...I,"data-testid":"input-product-sro-item-serial"})}),r.jsx(Fe,{})]})})]}),r.jsx(Me,{control:_.control,name:"sroDescription",render:({field:I})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"SRO Description"}),r.jsx(Ie,{children:r.jsx(Mr,{placeholder:"Brief description of SRO classification for reference",...I,"data-testid":"input-product-sro-description",rows:2})}),r.jsx(Fe,{})]})})]})}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx(G,{type:"button",variant:"outline",onClick:()=>m(!1),"data-testid":"button-cancel",children:"Cancel"}),r.jsx(G,{type:"submit",disabled:k.isPending||D.isPending,"data-testid":"button-save-product",children:k.isPending||D.isPending?"Saving...":j?"Update Product":"Add Product"})]})]})})]})]})]}),r.jsx(Pn,{open:u,onOpenChange:y,children:r.jsxs(kn,{className:"max-w-md",children:[r.jsxs(Bn,{children:[r.jsx(zn,{children:p?"Edit Category":"Add New Category"}),r.jsx(ls,{children:p?"Update category information":"Create a new product category for better organization"})]}),r.jsx(li,{...N,children:r.jsxs("form",{onSubmit:N.handleSubmit($),className:"space-y-4",children:[r.jsx(Me,{control:N.control,name:"name",render:({field:I})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Category Name *"}),r.jsx(Ie,{children:r.jsx(ue,{placeholder:"Enter category name",...I,"data-testid":"input-category-name"})}),r.jsx(Fe,{})]})}),r.jsx(Me,{control:N.control,name:"description",render:({field:I})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Description"}),r.jsx(Ie,{children:r.jsx(Mr,{placeholder:"Category description (optional)",...I,"data-testid":"input-category-description"})}),r.jsx(Fe,{})]})}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx(G,{type:"button",variant:"outline",onClick:()=>{y(!1),b(null),N.reset()},"data-testid":"button-cancel-category",children:"Cancel"}),r.jsx(G,{type:"submit",disabled:F.isPending||L.isPending,"data-testid":"button-save-category",children:F.isPending||L.isPending?"Saving...":p?"Update Category":"Add Category"})]})]})})]})}),r.jsx(Pn,{open:v,onOpenChange:g,children:r.jsxs(kn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Bn,{children:[r.jsxs(zn,{className:"flex items-center gap-2",children:[r.jsx(cm,{className:"h-5 w-5"}),"Category Management"]}),r.jsx(ls,{children:"Manage your product categories - create, edit, and delete categories"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium",children:"All Categories"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[w.length," categories total"]})]}),r.jsxs(G,{onClick:()=>{b(null),N.reset(),y(!0)},"data-testid":"button-add-new-category",children:[r.jsx(is,{className:"h-4 w-4 mr-2"}),"Add New Category"]})]}),w.length===0?r.jsx(ie,{className:"p-8 text-center",children:r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx(cm,{className:"h-12 w-12 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium",children:"No Categories Yet"}),r.jsx("p",{className:"text-muted-foreground",children:"Create your first category to organize your products"})]}),r.jsxs(G,{onClick:()=>{b(null),N.reset(),y(!0)},"data-testid":"button-create-first-category",children:[r.jsx(is,{className:"h-4 w-4 mr-2"}),"Create First Category"]})]})}):r.jsx("div",{className:"grid gap-4",children:w.map(I=>r.jsx(ie,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium","data-testid":`text-category-${I.id}`,children:I.name}),I.description&&r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:I.description}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[r.jsxs("span",{children:["Products: ",Array.isArray(n)?n.filter(M=>M.category===I.name).length:0]}),r.jsxs("span",{children:["Created: ",new Date(I.createdAt).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(G,{size:"sm",variant:"outline",onClick:()=>K(I),"data-testid":`button-edit-category-${I.id}`,children:r.jsx(ic,{className:"h-4 w-4"})}),r.jsx(G,{size:"sm",variant:"outline",onClick:()=>B(I.id),disabled:S.isPending,"data-testid":`button-delete-category-${I.id}`,children:S.isPending?r.jsx("div",{className:"h-4 w-4 animate-spin border-2 border-current border-t-transparent rounded-full"}):r.jsx(_a,{className:"h-4 w-4"})})]})]})},I.id))})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(G,{variant:"outline",onClick:()=>g(!1),"data-testid":"button-close-category-management",children:"Close"})})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs(ie,{children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(he,{className:"text-sm font-medium",children:"Total Products"}),r.jsx(er,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(oe,{children:[r.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-products",children:Qe}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Active products in inventory"})]})]}),r.jsxs(ie,{children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(he,{className:"text-sm font-medium",children:"Inventory Value"}),r.jsx(Cs,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(oe,{children:[r.jsx("div",{className:"text-2xl font-bold","data-testid":"text-inventory-value",children:z(kt)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Total cost value of stock"})]})]}),r.jsxs(ie,{children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(he,{className:"text-sm font-medium",children:"Low Stock Items"}),r.jsx(gr,{className:"h-4 w-4 text-destructive"})]}),r.jsxs(oe,{children:[r.jsx("div",{className:"text-2xl font-bold text-destructive","data-testid":"text-low-stock-items",children:ve}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Products need restocking"})]})]}),r.jsxs(ie,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>g(!0),"data-testid":"card-categories-clickable",children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(he,{className:"text-sm font-medium",children:"Categories"}),r.jsx(sc,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(oe,{children:[r.jsx("div",{className:"text-2xl font-bold","data-testid":"text-categories-count",children:w.length}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Click to manage categories"})]})]})]}),r.jsxs(ie,{children:[r.jsx(fe,{children:r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(vx,{className:"h-5 w-5"}),"Filters & Search"]})}),r.jsx(oe,{children:r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(Ee,{htmlFor:"search",children:"Search Products"}),r.jsxs("div",{className:"relative",children:[r.jsx(Pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),r.jsx(ue,{id:"search",placeholder:"Search by name or SKU...",value:o,onChange:I=>l(I.target.value),className:"pl-10","data-testid":"input-search-products"})]})]}),r.jsxs("div",{className:"w-48",children:[r.jsx(Ee,{htmlFor:"category",children:"Category"}),r.jsxs(bt,{value:c,onValueChange:d,children:[r.jsx(xt,{"data-testid":"select-filter-category",children:r.jsx(jt,{placeholder:"All Categories"})}),r.jsxs(gt,{children:[r.jsx(ae,{value:"all",children:"All Categories"}),w.map(I=>r.jsx(ae,{value:I.name,children:I.name},I.id))]})]})]})]})})]}),r.jsxs(ie,{children:[r.jsxs(fe,{children:[r.jsx(he,{children:"Products Inventory"}),r.jsx(Bt,{children:"Manage your product inventory and track stock levels"})]}),r.jsx(oe,{children:r.jsxs(mn,{children:[r.jsx(hn,{children:r.jsxs(Xe,{children:[r.jsx(J,{children:"Product"}),r.jsx(J,{children:"SKU"}),r.jsx(J,{children:"Category"}),r.jsx(J,{children:"Price"}),r.jsx(J,{children:"Stock"}),r.jsx(J,{children:"Status"}),r.jsx(J,{children:"Actions"})]})}),r.jsxs(pn,{children:[re.map(I=>r.jsxs(Xe,{"data-testid":`row-product-${I.id}`,children:[r.jsx(Y,{children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:I.name}),r.jsx("p",{className:"text-xs text-muted-foreground",children:I.brand})]})}),r.jsx(Y,{className:"font-mono text-sm",children:I.sku}),r.jsx(Y,{children:I.category}),r.jsx(Y,{children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:z(parseFloat(I.unitPrice))}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Cost: ",z(parseFloat(I.costPrice))]})]})}),r.jsx(Y,{children:r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium",children:[I.stockQuantity," ",I.unit]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Min: ",I.minStockLevel]})]})}),r.jsx(Y,{children:I.stockQuantity<=I.minStockLevel?r.jsxs(Pe,{variant:"destructive",className:"flex items-center gap-1 w-fit",children:[r.jsx(X4,{className:"h-3 w-3"}),"Low Stock"]}):I.stockQuantity<=I.minStockLevel*2?r.jsxs(Pe,{variant:"secondary",className:"flex items-center gap-1 w-fit",children:[r.jsx(gr,{className:"h-3 w-3"}),"Medium"]}):r.jsx(Pe,{variant:"default",className:"flex items-center gap-1 w-fit",children:"✓ In Stock"})}),r.jsx(Y,{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(G,{size:"sm",variant:"outline",onClick:()=>W(I),"data-testid":`button-edit-product-${I.id}`,children:r.jsx(ic,{className:"h-4 w-4"})}),r.jsx(G,{size:"sm",variant:"outline",onClick:()=>P(I.id),disabled:q.isPending,"data-testid":`button-delete-product-${I.id}`,children:q.isPending?r.jsx("div",{className:"h-4 w-4 animate-spin border-2 border-current border-t-transparent rounded-full"}):r.jsx(_a,{className:"h-4 w-4"})})]})})]},I.id)),re.length===0&&r.jsx(Xe,{children:r.jsxs(Y,{colSpan:7,className:"text-center py-8",children:[r.jsx(er,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),r.jsx("p",{className:"text-muted-foreground",children:o||c!=="all"?"No products found matching your criteria":"No products in inventory. Add your first product to get started."})]})})]})]})})]})]})}xe.object({isValid:xe.boolean(),ntn:xe.string(),businessName:xe.string().optional(),businessType:xe.string().optional(),registrationStatus:xe.enum(["active","inactive","suspended","cancelled"]).optional(),registrationDate:xe.string().optional(),businessAddress:xe.string().optional(),city:xe.string().optional(),province:xe.string().optional(),strn:xe.string().optional(),errorCode:xe.string().optional(),errorMessage:xe.string().optional(),verificationDate:xe.string(),source:xe.enum(["pral_api","local_validation","cache"])});const m8=e=>{const t=e.replace(/[\s-]/g,""),n=/^\d{13}$/;return t?t.length!==13?{isValid:!1,errorMessage:"NTN must be exactly 13 digits"}:n.test(t)?{isValid:!0}:{isValid:!1,errorMessage:"NTN must contain only digits"}:{isValid:!1,errorMessage:"NTN is required"}},a0=e=>{const t=e.replace(/[\s-]/g,"");return t.length===13?`${t.slice(0,7)}-${t.slice(7)}`:t},$l=e=>e.replace(/[\s-]/g,""),fr={INVALID_FORMAT:"INVALID_FORMAT",NOT_FOUND:"NOT_FOUND",INACTIVE:"INACTIVE",SUSPENDED:"SUSPENDED",API_ERROR:"API_ERROR",RATE_LIMIT:"RATE_LIMIT",TIMEOUT:"TIMEOUT"},sT=e=>{switch(e){case fr.INVALID_FORMAT:return"Invalid NTN format. Please enter a valid 13-digit NTN.";case fr.NOT_FOUND:return"NTN not found in FBR records. Please verify the number.";case fr.INACTIVE:return"This NTN is inactive in FBR records.";case fr.SUSPENDED:return"This NTN is suspended in FBR records.";case fr.API_ERROR:return"Unable to verify NTN at the moment. Please try again.";case fr.RATE_LIMIT:return"Too many verification requests. Please wait a moment.";case fr.TIMEOUT:return"Verification timed out. Please try again.";default:return"Unable to verify NTN. Please check the number and try again."}},wd=new Map,h8=24*60*60*1e3;class Zi{constructor(){this.isApiConfigured=!1}static getInstance(){return Zi.instance||(Zi.instance=new Zi),Zi.instance}async checkApiConfiguration(){try{const t=await Je("/api/ntn/config-status");return this.isApiConfigured=t.configured,this.isApiConfigured}catch{return this.isApiConfigured=!1,!1}}async verifyNtn(t){const n=$l(t),s=m8(n);if(!s.isValid)return{isValid:!1,ntn:n,errorCode:fr.INVALID_FORMAT,errorMessage:s.errorMessage,verificationDate:new Date().toISOString(),source:"local_validation"};const a=this.getCachedVerification(n);return a||(await this.checkApiConfiguration(),this.isApiConfigured?await this.verifyWithPralApi(n):await this.localValidationOnly(n))}async verifyWithPralApi(t){try{const n=await Je("/api/ntn/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ntn:t})});return this.setCachedVerification(t,n),n}catch(n){return console.error("PRAL API verification failed:",n),{isValid:!1,ntn:t,errorCode:fr.API_ERROR,errorMessage:sT(fr.API_ERROR),verificationDate:new Date().toISOString(),source:"pral_api"}}}async localValidationOnly(t){return await new Promise(s=>setTimeout(s,500)),{isValid:!0,ntn:t,errorMessage:"NTN format is valid. Real-time verification requires PRAL API integration.",verificationDate:new Date().toISOString(),source:"local_validation"}}getCachedVerification(t){const n=wd.get(t);return n&&Date.now()-n.timestamp<h8?n.data:(n&&wd.delete(t),null)}setCachedVerification(t,n){wd.set(t,{data:n,timestamp:Date.now()})}clearCache(){wd.clear()}async verifyMultipleNtns(t){return await Promise.all(t.map(s=>this.verifyNtn(s)))}}const p8=Zi.getInstance(),x8=()=>{const[e,t]=h.useState("idle"),[n,s]=h.useState(null),[a,i]=h.useState(!1),o=h.useCallback(async c=>{if(!c.trim()){t("idle"),s(null);return}i(!0),t("validating");try{const d=await p8.verifyNtn(c);s(d),d.isValid?t("valid"):t("invalid")}catch(d){console.error("NTN verification error:",d),t("error"),s({isValid:!1,ntn:$l(c),errorCode:fr.API_ERROR,errorMessage:sT(fr.API_ERROR),verificationDate:new Date().toISOString(),source:"local_validation"})}finally{i(!1)}},[]),l=h.useCallback(()=>{t("idle"),s(null),i(!1)},[]);return{verificationState:e,verificationData:n,verifyNtn:o,clearVerification:l,isLoading:a}},g8=({value:e="",onChange:t,placeholder:n="Enter 13-digit NTN (e.g., 1234567890123)",disabled:s=!1,required:a=!1,label:i="NTN (National Tax Number)",className:o,autoVerify:l=!0,showVerificationButton:c=!0,"data-testid":d="input-ntn"})=>{const[f,m]=h.useState(e),[u,y]=h.useState(null),{verificationState:v,verificationData:g,verifyNtn:j,clearVerification:x,isLoading:p}=x8(),b=h.useCallback(F=>{const L=F.target.value,S=$l(L),D=a0(S);if(m(D),t&&t(S,g),v!=="idle"&&x(),l&&S.length===13){u&&clearTimeout(u);const q=setTimeout(()=>{j(S)},1e3);y(q)}},[t,g,v,x,l,u,j]),w=h.useCallback(()=>{const F=$l(f);F.length===13&&j(F)},[f,j]);h.useEffect(()=>{e!==f&&m(a0(e))},[e,f]),h.useEffect(()=>()=>{u&&clearTimeout(u)},[u]);const _=(()=>{switch(v){case"validating":return{icon:r.jsx(Q4,{className:"h-4 w-4 animate-spin"}),color:"text-blue-500",badge:r.jsx(Pe,{variant:"secondary",children:"Verifying..."})};case"valid":return{icon:r.jsx(br,{className:"h-4 w-4"}),color:"text-green-500",badge:r.jsx(Pe,{variant:"default",className:"bg-green-100 text-green-800 border-green-200",children:"Valid"})};case"invalid":return{icon:r.jsx(ac,{className:"h-4 w-4"}),color:"text-red-500",badge:r.jsx(Pe,{variant:"destructive",children:"Invalid"})};case"error":return{icon:r.jsx(gr,{className:"h-4 w-4"}),color:"text-orange-500",badge:r.jsx(Pe,{variant:"secondary",className:"bg-orange-100 text-orange-800 border-orange-200",children:"Error"})};default:return null}})(),N=$l(f),k=N.length===13&&v!=="validating";return r.jsxs("div",{className:Se("space-y-2",o),children:[i&&r.jsxs(Ee,{htmlFor:d,className:"text-sm font-medium",children:[i,a&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(ue,{id:d,"data-testid":d,type:"text",value:f,onChange:b,placeholder:n,disabled:s,required:a,maxLength:14,className:Se("pr-12",v==="valid"&&"border-green-500 focus-visible:ring-green-500",v==="invalid"&&"border-red-500 focus-visible:ring-red-500",v==="error"&&"border-orange-500 focus-visible:ring-orange-500")}),_&&r.jsx("div",{className:Se("absolute right-3 top-1/2 transform -translate-y-1/2",_.color),children:_.icon})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[_==null?void 0:_.badge,c&&r.jsxs(G,{type:"button",variant:"outline",size:"sm",onClick:w,disabled:!k||s,"data-testid":`${d}-verify-button`,children:[r.jsx(Y4,{className:"h-3 w-3 mr-1"}),"Verify"]})]}),N.length>0&&N.length<13&&r.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[r.jsx(nv,{className:"h-3 w-3"}),13-N.length," digits remaining"]})]}),g&&r.jsxs("div",{className:"space-y-2",children:[g.errorMessage&&r.jsx("p",{className:Se("text-xs",g.isValid?"text-green-600":"text-red-600"),children:g.errorMessage}),g.isValid&&g.businessName&&r.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Business:"})," ",g.businessName]}),g.registrationStatus&&r.jsxs("p",{children:[r.jsx("strong",{children:"Status:"})," ",g.registrationStatus]}),g.source==="local_validation"&&r.jsxs("p",{className:"text-orange-600",children:[r.jsx(nv,{className:"h-3 w-3 inline mr-1"}),"Format validated locally. Connect PRAL API for real-time verification."]})]})]})]})},y8=r8.extend({creditLimit:xe.string().min(1,"Credit limit is required")});function v8(){const{toast:e}=Jt(),t=qr(),[n,s]=h.useState(""),[a,i]=h.useState(!1),[o,l]=h.useState(null),[c,d]=h.useState(null),[f,m]=h.useState(!1),{data:u,isLoading:y}=We({queryKey:["/api/customers"]}),{data:v}=We({queryKey:["/api/sales",{customerId:c==null?void 0:c.id}],enabled:!!c}),g=oi({resolver:ci(y8),defaultValues:{name:"",email:"",phone:"",address:"",city:"",ntn:"",cnic:"",businessName:"",loyaltyPoints:0,creditLimit:"0.00",totalPurchases:"0.00",isActive:!0}}),j=yt({mutationFn:async S=>(await Je("POST","/api/customers",S)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/customers"]}),i(!1),l(null),g.reset(),e({title:"Customer Added",description:"Customer has been successfully added"})},onError:()=>{e({title:"Error",description:"Failed to add customer. Please try again.",variant:"destructive"})}}),x=yt({mutationFn:async({id:S,data:D})=>(await Je("PUT",`/api/customers/${S}`,D)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/customers"]}),i(!1),l(null),g.reset(),e({title:"Customer Updated",description:"Customer has been successfully updated"})},onError:()=>{e({title:"Error",description:"Failed to update customer. Please try again.",variant:"destructive"})}}),p=yt({mutationFn:async S=>{const D=await Je("DELETE",`/api/customers/${S}`);if(!D.ok)throw new Error(`Failed to delete customer: ${D.status}`);const q=D.headers.get("content-type");return q&&q.includes("application/json")?D.json():{message:"Customer deleted successfully"}},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/customers"]}),e({title:"Customer Deleted",description:"Customer has been successfully deleted"})},onError:S=>{console.error("Delete customer error:",S),e({title:"Error",description:S.message||"Failed to delete customer. Please try again.",variant:"destructive"})}}),b=S=>{const D={...S,creditLimit:S.creditLimit};o?x.mutate({id:o.id,data:D}):j.mutate(D)},w=S=>{l(S),g.reset({name:S.name,email:S.email||"",phone:S.phone||"",address:S.address||"",city:S.city||"",ntn:S.ntn||"",cnic:S.cnic||"",businessName:S.businessName||"",loyaltyPoints:S.loyaltyPoints,creditLimit:S.creditLimit,totalPurchases:S.totalPurchases,isActive:S.isActive}),i(!0)},C=S=>{d(S),m(!0)},_=S=>{confirm("Are you sure you want to delete this customer? This action cannot be undone.")&&p.mutate(S)},N=(u==null?void 0:u.filter(S=>{var D,q,V;return S.name.toLowerCase().includes(n.toLowerCase())||((D=S.phone)==null?void 0:D.includes(n))||((q=S.email)==null?void 0:q.toLowerCase().includes(n.toLowerCase()))||((V=S.businessName)==null?void 0:V.toLowerCase().includes(n.toLowerCase()))}))||[],k=(u==null?void 0:u.length)||0,F=(u==null?void 0:u.filter(S=>S.isActive).length)||0,L=(u==null?void 0:u.reduce((S,D)=>S+D.loyaltyPoints,0))||0;return y?r.jsx("div",{className:"p-6 space-y-6",children:r.jsxs("div",{className:"animate-pulse space-y-4",children:[r.jsx("div",{className:"h-8 bg-muted rounded w-1/4"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(S=>r.jsx("div",{className:"h-32 bg-muted rounded"},S))})]})}):r.jsxs("div",{className:"p-6 space-y-6","data-testid":"customers-container",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground","data-testid":"text-customers-title",children:"Customer Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage customer information and purchase history"})]}),r.jsxs(Pn,{open:a,onOpenChange:i,children:[r.jsx(Su,{asChild:!0,children:r.jsxs(G,{onClick:()=>{l(null),g.reset()},"data-testid":"button-add-customer",children:[r.jsx(is,{className:"h-4 w-4 mr-2"}),"Add Customer"]})}),r.jsxs(kn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Bn,{children:[r.jsx(zn,{children:o?"Edit Customer":"Add New Customer"}),r.jsx(ls,{children:o?"Update customer information":"Add a new customer to your database"})]}),r.jsx(li,{...g,children:r.jsxs("form",{onSubmit:g.handleSubmit(b),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Me,{control:g.control,name:"name",render:({field:S})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Customer Name *"}),r.jsx(Ie,{children:r.jsx(ue,{placeholder:"Enter full name",...S,"data-testid":"input-customer-name"})}),r.jsx(Fe,{})]})}),r.jsx(Me,{control:g.control,name:"phone",render:({field:S})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Phone Number"}),r.jsx(Ie,{children:r.jsx(ue,{placeholder:"03001234567",...S,"data-testid":"input-customer-phone"})}),r.jsx(Fe,{})]})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Me,{control:g.control,name:"email",render:({field:S})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Email Address"}),r.jsx(Ie,{children:r.jsx(ue,{type:"email",placeholder:"customer@email.com",...S,"data-testid":"input-customer-email"})}),r.jsx(Fe,{})]})}),r.jsx(Me,{control:g.control,name:"city",render:({field:S})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"City"}),r.jsxs(bt,{onValueChange:S.onChange,defaultValue:S.value,children:[r.jsx(Ie,{children:r.jsx(xt,{"data-testid":"select-customer-city",children:r.jsx(jt,{placeholder:"Select city"})})}),r.jsx(gt,{children:SM.map(D=>r.jsx(ae,{value:D,children:D},D))})]}),r.jsx(Fe,{})]})})]}),r.jsx(Me,{control:g.control,name:"address",render:({field:S})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Address"}),r.jsx(Ie,{children:r.jsx(Mr,{placeholder:"Complete address",...S,"data-testid":"input-customer-address"})}),r.jsx(Fe,{})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Me,{control:g.control,name:"ntn",render:({field:S})=>r.jsxs(Re,{children:[r.jsx(Ie,{children:r.jsx(g8,{value:S.value,onChange:(D,q)=>{S.onChange(D),q!=null&&q.businessName&&!g.getValues("name")&&g.setValue("name",q.businessName)},"data-testid":"input-customer-ntn",required:!0})}),r.jsx(Fe,{})]})}),r.jsx(Me,{control:g.control,name:"cnic",render:({field:S})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"CNIC"}),r.jsx(Ie,{children:r.jsx(ue,{placeholder:"12345-1234567-1",...S,"data-testid":"input-customer-cnic"})}),r.jsx(Fe,{})]})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Me,{control:g.control,name:"businessName",render:({field:S})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Business Name"}),r.jsx(Ie,{children:r.jsx(ue,{placeholder:"Company/Business name",...S,"data-testid":"input-customer-business"})}),r.jsx(Fe,{})]})}),r.jsx(Me,{control:g.control,name:"creditLimit",render:({field:S})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Credit Limit (PKR)"}),r.jsx(Ie,{children:r.jsx(ue,{type:"number",step:"0.01",placeholder:"0.00",...S,"data-testid":"input-customer-credit-limit"})}),r.jsx(Fe,{})]})})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx(G,{type:"button",variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel",children:"Cancel"}),r.jsx(G,{type:"submit",disabled:j.isPending||x.isPending,"data-testid":"button-save-customer",children:j.isPending||x.isPending?"Saving...":o?"Update Customer":"Add Customer"})]})]})})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs(ie,{children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(he,{className:"text-sm font-medium",children:"Total Customers"}),r.jsx(bi,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(oe,{children:[r.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-customers",children:k}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[F," active customers"]})]})]}),r.jsxs(ie,{children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(he,{className:"text-sm font-medium",children:"Loyalty Points"}),r.jsx(tv,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(oe,{children:[r.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-loyalty-points",children:L.toLocaleString()}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Total points issued"})]})]}),r.jsxs(ie,{children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(he,{className:"text-sm font-medium",children:"Total Sales Value"}),r.jsx(sv,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(oe,{children:[r.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-sales-value",children:z((u==null?void 0:u.reduce((S,D)=>S+parseFloat(D.totalPurchases),0))||0)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Customer lifetime value"})]})]}),r.jsxs(ie,{children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(he,{className:"text-sm font-medium",children:"Credit Extended"}),r.jsx(Ts,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(oe,{children:[r.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-credit-limit",children:z((u==null?void 0:u.reduce((S,D)=>S+parseFloat(D.creditLimit),0))||0)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Total credit limits"})]})]})]}),r.jsxs(ie,{children:[r.jsx(fe,{children:r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(Pa,{className:"h-5 w-5"}),"Search Customers"]})}),r.jsx(oe,{children:r.jsxs("div",{className:"relative",children:[r.jsx(Pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),r.jsx(ue,{placeholder:"Search by name, phone, email, or business name...",value:n,onChange:S=>s(S.target.value),className:"pl-10","data-testid":"input-search-customers"})]})})]}),r.jsxs(ie,{children:[r.jsxs(fe,{children:[r.jsx(he,{children:"Customer Database"}),r.jsx(Bt,{children:"Manage customer information and view purchase history"})]}),r.jsx(oe,{children:r.jsxs(mn,{children:[r.jsx(hn,{children:r.jsxs(Xe,{children:[r.jsx(J,{children:"Customer"}),r.jsx(J,{children:"Contact"}),r.jsx(J,{children:"Location"}),r.jsx(J,{children:"Purchase History"}),r.jsx(J,{children:"Loyalty Points"}),r.jsx(J,{children:"Credit Limit"}),r.jsx(J,{children:"Actions"})]})}),r.jsxs(pn,{children:[N.map(S=>r.jsxs(Xe,{"data-testid":`row-customer-${S.id}`,children:[r.jsx(Y,{children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:S.name}),S.businessName&&r.jsx("p",{className:"text-sm text-muted-foreground",children:S.businessName}),S.ntn&&r.jsxs("p",{className:"text-xs text-muted-foreground",children:["NTN: ",S.ntn]})]})}),r.jsx(Y,{children:r.jsxs("div",{children:[S.phone&&r.jsxs("p",{className:"flex items-center gap-1 text-sm",children:[r.jsx(jx,{className:"h-3 w-3"}),S.phone]}),S.email&&r.jsx("p",{className:"text-sm text-muted-foreground",children:S.email})]})}),r.jsx(Y,{children:S.city&&r.jsxs("p",{className:"flex items-center gap-1 text-sm",children:[r.jsx(bx,{className:"h-3 w-3"}),S.city]})}),r.jsx(Y,{children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:z(parseFloat(S.totalPurchases))}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Total purchases"})]})}),r.jsx(Y,{children:r.jsxs(Pe,{variant:"secondary",className:"flex items-center gap-1 w-fit",children:[r.jsx(tv,{className:"h-3 w-3"}),S.loyaltyPoints]})}),r.jsx(Y,{children:r.jsx("p",{className:"font-medium",children:z(parseFloat(S.creditLimit))})}),r.jsx(Y,{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(G,{size:"sm",variant:"outline",onClick:()=>w(S),"data-testid":`button-edit-customer-${S.id}`,children:r.jsx(ic,{className:"h-4 w-4"})}),r.jsx(G,{size:"sm",variant:"outline",onClick:()=>C(S),"data-testid":`button-history-customer-${S.id}`,children:r.jsx(U4,{className:"h-4 w-4"})}),r.jsx(G,{size:"sm",variant:"outline",onClick:()=>_(S.id),disabled:p.isPending,"data-testid":`button-delete-customer-${S.id}`,children:p.isPending?r.jsx("div",{className:"h-4 w-4 animate-spin border-2 border-current border-t-transparent rounded-full"}):r.jsx(_a,{className:"h-4 w-4"})})]})})]},S.id)),N.length===0&&r.jsx(Xe,{children:r.jsxs(Y,{colSpan:7,className:"text-center py-8",children:[r.jsx(bi,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),r.jsx("p",{className:"text-muted-foreground",children:n?"No customers found matching your search":"No customers in database. Add your first customer to get started."})]})})]})]})})]}),r.jsx(Pn,{open:f,onOpenChange:m,children:r.jsxs(kn,{className:"max-w-4xl max-h-[90vh]",children:[r.jsxs(Bn,{children:[r.jsxs(zn,{children:["Purchase History - ",c==null?void 0:c.name]}),r.jsx(ls,{children:"Complete purchase history for this customer"})]}),r.jsxs("div",{className:"space-y-4",children:[c&&r.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 bg-muted/50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Total Purchases"}),r.jsx("p",{className:"text-lg font-bold",children:z(parseFloat(c.totalPurchases))})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Loyalty Points"}),r.jsx("p",{className:"text-lg font-bold",children:c.loyaltyPoints})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Credit Limit"}),r.jsx("p",{className:"text-lg font-bold",children:z(parseFloat(c.creditLimit))})]})]}),r.jsx("div",{className:"max-h-60 overflow-y-auto",children:v&&v.length>0?r.jsxs(mn,{children:[r.jsx(hn,{children:r.jsxs(Xe,{children:[r.jsx(J,{children:"Invoice"}),r.jsx(J,{children:"Date"}),r.jsx(J,{children:"Amount"}),r.jsx(J,{children:"Payment"}),r.jsx(J,{children:"FBR Status"})]})}),r.jsx(pn,{children:v.map(S=>r.jsxs(Xe,{children:[r.jsx(Y,{className:"font-mono",children:S.invoiceNumber}),r.jsx(Y,{children:new Date(S.saleDate).toLocaleDateString("en-PK")}),r.jsx(Y,{className:"font-medium",children:z(parseFloat(S.totalAmount))}),r.jsx(Y,{children:r.jsx(Pe,{variant:"outline",children:S.paymentMethod})}),r.jsx(Y,{children:r.jsx(Pe,{variant:S.fbrStatus==="validated"?"default":"secondary",children:S.fbrStatus})})]},S.id))})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(sv,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),r.jsx("p",{className:"text-muted-foreground",children:"No purchase history found"})]})})]})]})})]})}var Tm="rovingFocusGroup.onEntryFocus",b8={bubbles:!1,cancelable:!0},_f="RovingFocusGroup",[fp,aT,j8]=hx(_f),[w8,iT]=hs(_f,[j8]),[N8,S8]=w8(_f),oT=h.forwardRef((e,t)=>r.jsx(fp.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(fp.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(C8,{...e,ref:t})})}));oT.displayName=_f;var C8=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...m}=e,u=h.useRef(null),y=pt(t,u),v=tg(i),[g=null,j]=Na({prop:o,defaultProp:l,onChange:c}),[x,p]=h.useState(!1),b=qn(d),w=aT(n),C=h.useRef(!1),[_,N]=h.useState(0);return h.useEffect(()=>{const k=u.current;if(k)return k.addEventListener(Tm,b),()=>k.removeEventListener(Tm,b)},[b]),r.jsx(N8,{scope:n,orientation:s,dir:v,loop:a,currentTabStopId:g,onItemFocus:h.useCallback(k=>j(k),[j]),onItemShiftTab:h.useCallback(()=>p(!0),[]),onFocusableItemAdd:h.useCallback(()=>N(k=>k+1),[]),onFocusableItemRemove:h.useCallback(()=>N(k=>k-1),[]),children:r.jsx(Ue.div,{tabIndex:x||_===0?-1:0,"data-orientation":s,...m,ref:y,style:{outline:"none",...e.style},onMouseDown:Te(e.onMouseDown,()=>{C.current=!0}),onFocus:Te(e.onFocus,k=>{const F=!C.current;if(k.target===k.currentTarget&&F&&!x){const L=new CustomEvent(Tm,b8);if(k.currentTarget.dispatchEvent(L),!L.defaultPrevented){const S=w().filter(K=>K.focusable),D=S.find(K=>K.active),q=S.find(K=>K.id===g),$=[D,q,...S].filter(Boolean).map(K=>K.ref.current);dT($,f)}}C.current=!1}),onBlur:Te(e.onBlur,()=>p(!1))})})}),lT="RovingFocusGroupItem",cT=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:i,...o}=e,l=Es(),c=i||l,d=S8(lT,n),f=d.currentTabStopId===c,m=aT(n),{onFocusableItemAdd:u,onFocusableItemRemove:y}=d;return h.useEffect(()=>{if(s)return u(),()=>y()},[s,u,y]),r.jsx(fp.ItemSlot,{scope:n,id:c,focusable:s,active:a,children:r.jsx(Ue.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:Te(e.onMouseDown,v=>{s?d.onItemFocus(c):v.preventDefault()}),onFocus:Te(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Te(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const g=k8(v,d.orientation,d.dir);if(g!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let x=m().filter(p=>p.focusable).map(p=>p.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const p=x.indexOf(v.currentTarget);x=d.loop?T8(x,p+1):x.slice(p+1)}setTimeout(()=>dT(x))}})})})});cT.displayName=lT;var P8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _8(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function k8(e,t,n){const s=_8(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return P8[s]}function dT(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function T8(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var E8=oT,D8=cT,lg="Tabs",[A8,o9]=hs(lg,[iT]),uT=iT(),[R8,cg]=A8(lg),fT=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,f=tg(l),[m,u]=Na({prop:s,onChange:a,defaultProp:i});return r.jsx(R8,{scope:n,baseId:Es(),value:m,onValueChange:u,orientation:o,dir:f,activationMode:c,children:r.jsx(Ue.div,{dir:f,"data-orientation":o,...d,ref:t})})});fT.displayName=lg;var mT="TabsList",hT=h.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...a}=e,i=cg(mT,n),o=uT(n);return r.jsx(E8,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:r.jsx(Ue.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});hT.displayName=mT;var pT="TabsTrigger",xT=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:a=!1,...i}=e,o=cg(pT,n),l=uT(n),c=vT(o.baseId,s),d=bT(o.baseId,s),f=s===o.value;return r.jsx(D8,{asChild:!0,...l,focusable:!a,active:f,children:r.jsx(Ue.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Te(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?o.onValueChange(s):m.preventDefault()}),onKeyDown:Te(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(s)}),onFocus:Te(e.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!a&&m&&o.onValueChange(s)})})})});xT.displayName=pT;var gT="TabsContent",yT=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:a,children:i,...o}=e,l=cg(gT,n),c=vT(l.baseId,s),d=bT(l.baseId,s),f=s===l.value,m=h.useRef(f);return h.useEffect(()=>{const u=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(u)},[]),r.jsx(Bs,{present:a||f,children:({present:u})=>r.jsx(Ue.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!u,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:u&&i})})});yT.displayName=gT;function vT(e,t){return`${e}-trigger-${t}`}function bT(e,t){return`${e}-content-${t}`}var I8=fT,jT=hT,wT=xT,NT=yT;const kf=I8,Uc=h.forwardRef(({className:e,...t},n)=>r.jsx(jT,{ref:n,className:Se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Uc.displayName=jT.displayName;const Gn=h.forwardRef(({className:e,...t},n)=>r.jsx(wT,{ref:n,className:Se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Gn.displayName=wT.displayName;const Zn=h.forwardRef(({className:e,...t},n)=>r.jsx(NT,{ref:n,className:Se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Zn.displayName=NT.displayName;const F8=Fc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),qd=h.forwardRef(({className:e,variant:t,...n},s)=>r.jsx("div",{ref:s,role:"alert",className:Se(F8({variant:t}),e),...n}));qd.displayName="Alert";const M8=h.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:Se("mb-1 font-medium leading-none tracking-tight",e),...t}));M8.displayName="AlertTitle";const Wd=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Se("text-sm [&_p]:leading-relaxed",e),...t}));Wd.displayName="AlertDescription";function O8({saleId:e,isOpen:t,onClose:n}){const{toast:s}=Jt(),a=qr(),i=h.useRef(null),[o,l]=h.useState(!1),{data:c,isLoading:d}=We({queryKey:["/api/sales",e],enabled:!!e&&t}),{data:f}=We({queryKey:["/api/settings"]}),m=yt({mutationFn:async()=>(await Je(`/api/invoices/${e}/fbr-submit`,"POST")).json(),onSuccess:C=>{s({title:"FBR Submission Successful",description:`Invoice submitted with IRN: ${C.fbrInvoiceNumber}`}),a.invalidateQueries({queryKey:["/api/sales"]}),a.invalidateQueries({queryKey:["/api/sales",e]})},onError:C=>{s({title:"FBR Submission Failed",description:C.message||"Failed to submit invoice to FBR",variant:"destructive"})}}),u=c==null?void 0:c.sale,y=(c==null?void 0:c.items)||[],v=Array.isArray(f)?f[0]:f;if(d)return r.jsx(Pn,{open:t,onOpenChange:n,children:r.jsxs(kn,{className:"max-w-6xl max-h-[90vh] overflow-y-auto","data-testid":"dialog-fbr-invoice",children:[r.jsx(Bn,{children:r.jsx(zn,{children:"Loading Invoice..."})}),r.jsx("div",{className:"flex justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})]})});if(!u||!v)return null;const g=()=>{if(i.current){const C=i.current.innerHTML,_=window.open("","_blank");_&&(_.document.write(`
          <html>
            <head>
              <title>Invoice ${u.invoiceNumber}</title>
              <style>
                body { font-family: Arial, sans-serif; margin: 20px; }
                .print-container { max-width: 800px; margin: 0 auto; }
                table { width: 100%; border-collapse: collapse; margin: 10px 0; }
                th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
                th { background-color: #f2f2f2; }
                .text-right { text-align: right; }
                .text-center { text-align: center; }
                .font-bold { font-weight: bold; }
                .border-t { border-top: 2px solid #000; }
                .mb-4 { margin-bottom: 16px; }
                .grid { display: grid; }
                .grid-cols-2 { grid-template-columns: 1fr 1fr; }
                .gap-4 { gap: 16px; }
                @media print {
                  .no-print { display: none; }
                  body { margin: 0; }
                }
              </style>
            </head>
            <body>
              <div class="print-container">${C}</div>
            </body>
          </html>
        `),_.document.close(),_.print())}},j=async()=>{l(!0);try{await m.mutateAsync()}catch{}finally{l(!1)}},x=parseFloat(u.subtotal),p=parseFloat(u.taxAmount),b=parseFloat(u.posServiceFee||"1.00"),w=x+p+b-parseFloat(u.discountAmount||"0");return r.jsx(Pn,{open:t,onOpenChange:n,children:r.jsxs(kn,{className:"max-w-6xl max-h-[90vh] overflow-y-auto","data-testid":"dialog-fbr-invoice",children:[r.jsxs(Bn,{children:[r.jsxs(zn,{className:"flex items-center gap-2",children:[r.jsx(ba,{className:"h-5 w-5"}),"FBR-Compliant Invoice - ",u.invoiceNumber]}),r.jsx(ls,{children:"Complete Pakistani FBR-compliant invoice with all 8 mandatory sections per SRO-1006"})]}),r.jsxs("div",{ref:i,className:"print-container",children:[r.jsxs(ie,{className:"mb-4",children:[r.jsx(fe,{children:r.jsxs(he,{className:"flex items-center gap-2 text-lg",children:[r.jsx(Sa,{className:"h-5 w-5"}),"Section 1: Seller Details"]})}),r.jsx(oe,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-xl mb-2",children:(v==null?void 0:v.businessName)||"Business Name"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Business Name (as per FBR)"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Address: "}),(v==null?void 0:v.address)||"Address",", ",(v==null?void 0:v.city)||"City"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Contact: "}),(v==null?void 0:v.phone)||"Phone"]}),(v==null?void 0:v.email)&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Email: "}),v.email]})]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"NTN: "}),(v==null?void 0:v.ntn)||(v==null?void 0:v.businessNtn)||"NTN"]}),(v==null?void 0:v.strn)&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"STRN: "}),v.strn]}),(v==null?void 0:v.taxOffice)&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Tax Office: "}),v.taxOffice]}),(v==null?void 0:v.posRegistrationNumber)&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"PoS Reg #: "}),v.posRegistrationNumber]})]})})]})})]}),r.jsxs(ie,{className:"mb-4",children:[r.jsx(fe,{children:r.jsxs(he,{className:"flex items-center gap-2 text-lg",children:[r.jsx(Mc,{className:"h-5 w-5"}),"Section 2: Buyer Details"]})}),r.jsx(oe,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx("div",{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Name: "}),u.customerName]}),u.customerNtn&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"NTN: "}),u.customerNtn]}),u.customerCnic&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"CNIC: "}),u.customerCnic]})]})}),r.jsx("div",{children:r.jsxs("div",{className:"space-y-2",children:[u.customerAddress&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Address: "}),u.customerAddress]}),u.customerPhone&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Contact: "}),u.customerPhone]}),u.customerEmail&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Email: "}),u.customerEmail]})]})})]})})]}),r.jsxs(ie,{className:"mb-4",children:[r.jsx(fe,{children:r.jsxs(he,{className:"flex items-center gap-2 text-lg",children:[r.jsx(vi,{className:"h-5 w-5"}),"Section 3: Invoice Details"]})}),r.jsx(oe,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Invoice Number: "}),r.jsx(Pe,{variant:"outline",children:u.invoiceNumber})]}),u.fbrInvoiceNumber&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"FBR Invoice Number: "}),r.jsx(Pe,{variant:"secondary",children:u.fbrInvoiceNumber})]}),u.fbrIrn&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"FBR IRN: "}),r.jsx(Pe,{variant:"secondary",children:u.fbrIrn})]})]}),r.jsxs("div",{className:"text-right space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Invoice Date: "}),new Date(u.invoiceDate||u.saleDate).toLocaleDateString("en-PK")]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Time: "}),new Date(u.invoiceDate||u.saleDate).toLocaleTimeString("en-PK")]}),u.dueDate&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Due Date: "}),new Date(u.dueDate).toLocaleDateString("en-PK")]}),u.cashierName&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Cashier: "}),u.cashierName]})]})]})})]}),r.jsxs(ie,{className:"mb-4",children:[r.jsx(fe,{children:r.jsxs(he,{className:"flex items-center gap-2 text-lg",children:[r.jsx(Ar,{className:"h-5 w-5"}),"Section 4: Sale Items"]})}),r.jsx(oe,{children:r.jsxs(mn,{children:[r.jsx(hn,{children:r.jsxs(Xe,{children:[r.jsx(J,{className:"w-12",children:"S#"}),r.jsx(J,{children:"Item Description"}),r.jsx(J,{className:"w-16",children:"UOM"}),r.jsx(J,{className:"w-16 text-right",children:"Qty"}),r.jsx(J,{className:"w-24 text-right",children:"Unit Price"}),r.jsx(J,{className:"w-20 text-right",children:"Tax Rate"}),r.jsx(J,{className:"w-24 text-right",children:"Tax Amount"}),r.jsx(J,{className:"w-24 text-right",children:"Total"})]})}),r.jsx(pn,{children:y.map((C,_)=>r.jsxs(Xe,{children:[r.jsx(Y,{children:_+1}),r.jsx(Y,{children:C.itemDescription||C.productName}),r.jsx(Y,{children:C.uom||"PCS"}),r.jsx(Y,{className:"text-right",children:C.quantity}),r.jsx(Y,{className:"text-right",children:z(parseFloat(C.unitPrice))}),r.jsxs(Y,{className:"text-right",children:[parseFloat(C.taxRate).toFixed(2),"%"]}),r.jsx(Y,{className:"text-right",children:z(parseFloat(C.taxAmount))}),r.jsx(Y,{className:"text-right",children:z(parseFloat(C.totalAmount))})]},C.id))})]})})]}),r.jsxs(ie,{className:"mb-4",children:[r.jsx(fe,{children:r.jsxs(he,{className:"flex items-center gap-2 text-lg",children:[r.jsx(Ts,{className:"h-5 w-5"}),"Section 5: Payment Information"]})}),r.jsx(oe,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Payment Method:"}),r.jsx(Pe,{variant:"outline",className:"mb-2",children:u.paymentMethod.replace("_"," ").toUpperCase()}),u.paymentMethod==="bank_transfer"&&r.jsxs("div",{className:"space-y-1 text-sm",children:[u.bankName&&r.jsxs("div",{children:[r.jsx("strong",{children:"Bank:"})," ",u.bankName]}),u.bankBranch&&r.jsxs("div",{children:[r.jsx("strong",{children:"Branch:"})," ",u.bankBranch]}),u.accountTitle&&r.jsxs("div",{children:[r.jsx("strong",{children:"Account:"})," ",u.accountTitle]}),u.accountNumber&&r.jsxs("div",{children:[r.jsx("strong",{children:"Account #:"})," ",u.accountNumber]}),u.transactionReference&&r.jsxs("div",{children:[r.jsx("strong",{children:"Ref:"})," ",u.transactionReference]})]}),u.paymentMethod==="card"&&r.jsxs("div",{className:"space-y-1 text-sm",children:[u.cardType&&r.jsxs("div",{children:[r.jsx("strong",{children:"Card Type:"})," ",u.cardType]}),u.cardLastFour&&r.jsxs("div",{children:[r.jsx("strong",{children:"Card:"})," **** **** **** ",u.cardLastFour]}),u.transactionId&&r.jsxs("div",{children:[r.jsx("strong",{children:"Transaction ID:"})," ",u.transactionId]})]}),u.paymentMethod==="mobile_wallet"&&r.jsxs("div",{className:"space-y-1 text-sm",children:[u.walletProvider&&r.jsxs("div",{children:[r.jsx("strong",{children:"Wallet:"})," ",u.walletProvider]}),u.transactionId&&r.jsxs("div",{children:[r.jsx("strong",{children:"Transaction ID:"})," ",u.transactionId]})]}),u.paymentMethod==="cheque"&&r.jsxs("div",{className:"space-y-1 text-sm",children:[u.chequeNumber&&r.jsxs("div",{children:[r.jsx("strong",{children:"Cheque #:"})," ",u.chequeNumber]}),u.bankName&&r.jsxs("div",{children:[r.jsx("strong",{children:"Bank:"})," ",u.bankName]}),u.chequeDate&&r.jsxs("div",{children:[r.jsx("strong",{children:"Date:"})," ",new Date(u.chequeDate).toLocaleDateString("en-PK")]})]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"space-y-2",children:[parseFloat(u.advanceAmount)>0&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Advance Received: "}),z(parseFloat(u.advanceAmount))]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Balance Due: "}),z(parseFloat(u.remainingAmount||"0"))]}),r.jsx("div",{children:r.jsx(Pe,{variant:u.paymentStatus==="completed"?"default":u.paymentStatus==="partial"?"secondary":"destructive",children:u.paymentStatus==="completed"?"Paid in Full":u.paymentStatus==="partial"?"Partially Paid":"Pending"})})]})})]})})]}),r.jsxs(ie,{className:"mb-4",children:[r.jsx(fe,{children:r.jsx(he,{className:"text-lg",children:"Section 6: Tax Summary"})}),r.jsx(oe,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Gross Total:"}),r.jsx("span",{className:"font-semibold",children:z(x)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Total Sales Tax Amount:"}),r.jsx("span",{className:"font-semibold",children:z(p)})]}),parseFloat(u.discountAmount||"0")>0&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Discount:"}),r.jsxs("span",{className:"font-semibold",children:["-",z(parseFloat(u.discountAmount))]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"PoS Service Fee (SRO-1006):"}),r.jsx("span",{className:"font-semibold",children:z(b)})]}),r.jsx(Ls,{}),r.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[r.jsx("span",{children:"Net Payable Amount:"}),r.jsx("span",{children:z(w)})]})]})})]}),(u.notes||u.deliveryTerms||u.warrantyInfo)&&r.jsxs(ie,{className:"mb-4",children:[r.jsx(fe,{children:r.jsx(he,{className:"text-lg",children:"Section 7: Remarks"})}),r.jsx(oe,{children:r.jsxs("div",{className:"space-y-2",children:[u.deliveryTerms&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Delivery Terms: "}),u.deliveryTerms]}),u.warrantyInfo&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Warranty: "}),u.warrantyInfo]}),u.notes&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Notes: "}),u.notes]})]})})]}),r.jsxs(ie,{className:"mb-4",children:[r.jsx(fe,{children:r.jsxs(he,{className:"flex items-center gap-2 text-lg",children:[r.jsx(rv,{className:"h-5 w-5"}),"Section 8: FBR Compliance Footer"]})}),r.jsx(oe,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[u.fbrIrn&&r.jsxs("div",{className:"mb-2",children:[r.jsx("span",{className:"font-semibold",children:"FBR IRN: "}),r.jsx(Pe,{variant:"secondary",children:u.fbrIrn})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:'"This is a computer-generated invoice submitted to FBR under SRO 1006(I)/2021."'}),r.jsx("div",{className:"text-sm mt-2",children:'"Verify this invoice through FBR Tax Asaan Mobile App or SMS at 9966 and win exciting prizes in draw"'})]}),r.jsx("div",{className:"text-right",children:u.fbrQrCode?r.jsxs("div",{className:"flex flex-col items-end",children:[r.jsx("div",{className:"text-sm font-semibold mb-2",children:"FBR QR Code (7x7MM)"}),r.jsx("div",{className:"w-20 h-20 bg-gray-200 flex items-center justify-center border",children:r.jsx(rv,{className:"h-16 w-16"})})]}):r.jsx("div",{className:"text-sm text-muted-foreground",children:"QR Code will appear after FBR submission"})})]})})]})]}),r.jsxs("div",{className:"flex justify-between items-center pt-4 border-t no-print",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs(Pe,{variant:u.fbrStatus==="submitted"||u.fbrStatus==="validated"?"default":u.fbrStatus==="failed"?"destructive":"secondary",children:["FBR Status: ",u.fbrStatus.replace("_"," ").toUpperCase()]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(G,{variant:"outline",onClick:g,"data-testid":"button-print-invoice",children:[r.jsx(wx,{className:"h-4 w-4 mr-2"}),"Print"]}),u.fbrStatus==="not_configured"&&r.jsx(G,{onClick:j,disabled:o,"data-testid":"button-submit-fbr",children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Nx,{className:"h-4 w-4 mr-2"}),"Submit to FBR"]})}),r.jsx(G,{variant:"outline",onClick:n,"data-testid":"button-close-invoice",children:"Close"})]})]})]})})}function L8({saleId:e,isOpen:t,onClose:n}){var F;const{toast:s}=Jt(),a=qr(),i=h.useRef(null),[o,l]=h.useState(!1),{data:c,isLoading:d}=We({queryKey:["/api/sales",e],enabled:!!e&&t}),{data:f}=We({queryKey:["/api/settings"]}),m=yt({mutationFn:async()=>(await Je(`/api/invoices/${e}/fbr-submit`,"POST")).json(),onSuccess:L=>{s({title:"FBR Submission Successful",description:`Invoice submitted with IRN: ${L.fbrInvoiceNumber}`}),a.invalidateQueries({queryKey:["/api/sales"]}),a.invalidateQueries({queryKey:["/api/sales",e]})},onError:L=>{s({title:"FBR Submission Failed",description:L.message||"Failed to submit invoice to FBR",variant:"destructive"})}}),u=c==null?void 0:c.sale,y=(c==null?void 0:c.items)||[],v=Array.isArray(f)?f[0]:f;if(d)return r.jsx(Pn,{open:t,onOpenChange:n,children:r.jsxs(kn,{className:"max-w-6xl max-h-[90vh] overflow-y-auto","data-testid":"dialog-professional-fbr-invoice",children:[r.jsx(Bn,{children:r.jsx(zn,{children:"Loading Invoice..."})}),r.jsx("div",{className:"flex justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})]})});if(!u||!v)return null;const g=()=>{i.current&&(console.log("Print content preview:",i.current.innerHTML.substring(0,200)),setTimeout(()=>{var D;const L=(D=i.current)==null?void 0:D.innerHTML;if(!L){console.error("No print content found");return}if(!L.includes("Item Name")){s({title:"Print Error",description:"Invoice content not fully loaded. Please try again.",variant:"destructive"});return}const S=window.open("","_blank");S&&(S.document.write(`
          <!DOCTYPE html>
          <html>
            <head>
              <title>Invoice ${u.invoiceNumber}</title>
              <meta charset="utf-8">
              <style>
                /* Professional Print Styles for A4 Paper */
                @page {
                  size: A4;
                  margin: 0.5in;
                }
                
                * {
                  box-sizing: border-box;
                }
                
                body {
                  font-family: 'Arial', sans-serif;
                  margin: 0;
                  padding: 0;
                  background: white !important;
                  color: #000 !important;
                  font-size: 12px;
                  line-height: 1.4;
                  -webkit-print-color-adjust: exact;
                  print-color-adjust: exact;
                }
                
                .professional-invoice-container {
                  max-width: 100%;
                  margin: 0 auto;
                  background: white !important;
                  color: #000 !important;
                  padding: 20px;
                }
                
                /* Header Section */
                .invoice-header {
                  border-bottom: 3px solid #000 !important;
                  padding-bottom: 15px;
                  margin-bottom: 20px;
                }
                
                .company-info {
                  display: flex;
                  justify-content: space-between;
                  align-items: flex-start;
                  margin-bottom: 10px;
                }
                
                .company-name {
                  font-size: 22px;
                  font-weight: bold;
                  margin-bottom: 5px;
                  text-transform: uppercase;
                  color: #000 !important;
                }
                
                .company-subtitle {
                  font-size: 14px;
                  color: #666;
                  font-weight: normal;
                }
                
                .invoice-title {
                  font-size: 20px;
                  font-weight: bold;
                  text-align: right;
                  margin-bottom: 10px;
                  color: #000 !important;
                }
                
                .invoice-numbers {
                  text-align: right;
                  font-size: 12px;
                }
                
                .invoice-numbers div {
                  margin-bottom: 4px;
                }
                
                /* Information Sections */
                .info-section {
                  border: 1px solid #ddd !important;
                  border-radius: 4px;
                  margin-bottom: 15px;
                  page-break-inside: avoid;
                }
                
                .info-header {
                  background: #f5f5f5 !important;
                  padding: 8px 12px;
                  border-bottom: 1px solid #ddd !important;
                  font-weight: bold;
                  font-size: 13px;
                  color: #333 !important;
                }
                
                .info-content {
                  padding: 12px;
                }
                
                .info-row {
                  margin-bottom: 6px;
                  font-size: 12px;
                }
                
                .info-label {
                  font-weight: bold;
                  display: inline-block;
                  width: 120px;
                  color: #333 !important;
                }
                
                /* Grid Layout for Print */
                .info-grid[style*="grid-template-columns"] {
                  display: grid !important;
                  grid-template-columns: 1fr 1fr !important;
                  gap: 20px !important;
                }
                
                /* Items Table Styling */
                .items-table {
                  width: 100% !important;
                  border-collapse: collapse !important;
                  margin: 20px 0 !important;
                  font-size: 11px !important;
                  page-break-inside: avoid;
                }
                
                .items-table th,
                .items-table td {
                  border: 1px solid #333 !important;
                  padding: 6px 8px !important;
                  text-align: left !important;
                }
                
                .items-table th {
                  background: #f0f0f0 !important;
                  font-weight: bold !important;
                  text-align: center !important;
                  color: #000 !important;
                }
                
                .items-table .text-right {
                  text-align: right !important;
                }
                
                .items-table .text-center {
                  text-align: center !important;
                }
                
                .items-table tbody tr:nth-child(even) {
                  background: #fafafa !important;
                }
                
                /* Tax Summary Styling */
                .tax-summary {
                  width: 300px !important;
                  margin-left: auto !important;
                  border: 1px solid #333 !important;
                  margin-top: 20px !important;
                  font-size: 12px !important;
                  page-break-inside: avoid;
                }
                
                .tax-summary table {
                  width: 100% !important;
                  border-collapse: collapse !important;
                }
                
                .tax-summary td {
                  padding: 6px 10px !important;
                  border-bottom: 1px solid #ddd !important;
                }
                
                .tax-summary .total-row {
                  font-weight: bold !important;
                  background: #f5f5f5 !important;
                  border-top: 2px solid #333 !important;
                }
                
                .tax-summary .text-right {
                  text-align: right !important;
                }
                
                /* Payment Information */
                .payment-info {
                  background: #f9f9f9 !important;
                  border: 1px solid #ddd !important;
                  padding: 12px !important;
                  margin: 15px 0 !important;
                  border-radius: 4px;
                  font-size: 12px !important;
                }
                
                /* Footer Styling */
                .invoice-footer {
                  margin-top: 30px !important;
                  padding-top: 20px !important;
                  border-top: 2px solid #000 !important;
                  font-size: 10px !important;
                  page-break-inside: avoid;
                }
                
                .qr-section {
                  display: flex !important;
                  justify-content: space-between !important;
                  align-items: flex-start !important;
                  gap: 20px !important;
                }
                
                .compliance-text {
                  flex: 1;
                  max-width: 70%;
                }
                
                .qr-placeholder {
                  width: 80px !important;
                  height: 80px !important;
                  border: 2px solid #333 !important;
                  display: flex !important;
                  align-items: center !important;
                  justify-content: center !important;
                  font-size: 8px !important;
                  text-align: center !important;
                  font-weight: bold !important;
                  background: white !important;
                  flex-shrink: 0;
                }
                
                /* Status Badges */
                .status-badge {
                  padding: 4px 8px !important;
                  border-radius: 3px;
                  font-size: 10px !important;
                  font-weight: bold !important;
                  text-transform: uppercase;
                }
                
                .status-paid {
                  background: #d4edda !important;
                  color: #155724 !important;
                  border: 1px solid #c3e6cb !important;
                }
                
                .status-pending {
                  background: #fff3cd !important;
                  color: #856404 !important;
                  border: 1px solid #ffeaa7 !important;
                }
                
                .status-overdue {
                  background: #f8d7da !important;
                  color: #721c24 !important;
                  border: 1px solid #f5c6cb !important;
                }
                
                /* Hide elements not needed for print */
                .no-print { 
                  display: none !important; 
                }
                
                /* Utility Classes */
                .text-center { text-align: center !important; }
                .text-right { text-align: right !important; }
                .text-left { text-align: left !important; }
                .font-bold { font-weight: bold !important; }
                .font-normal { font-weight: normal !important; }
                .uppercase { text-transform: uppercase !important; }
                
                /* Force colors for print */
                * {
                  -webkit-print-color-adjust: exact !important;
                  print-color-adjust: exact !important;
                }
                
                /* Print-specific adjustments */
                @media print {
                  body { 
                    font-size: 11px !important; 
                    margin: 0 !important;
                    padding: 0 !important;
                  }
                  
                  .professional-invoice-container {
                    padding: 10px !important;
                  }
                  
                  .info-grid {
                    display: flex !important; 
                    gap: 20px !important; 
                  }
                  
                  .items-table {
                    font-size: 10px !important;
                  }
                  
                  .items-table th,
                  .items-table td {
                    padding: 4px 6px !important;
                  }
                  
                  .tax-summary {
                    width: 100% !important;
                    margin-left: 0 !important;
                  }
                  
                  .qr-section {
                    flex-direction: column !important;
                    gap: 15px !important;
                  }
                  
                  .compliance-text {
                    max-width: 100% !important;
                  }
                }
              </style>
            </head>
            <body>
              ${L}
            </body>
          </html>
        `),S.document.close(),S.print())},100))},j=async()=>{l(!0);try{await m.mutateAsync()}catch{}finally{l(!1)}},x=()=>{s({title:"PDF Export Ready",description:"Print dialog will open. Select 'Save as PDF' to download the invoice."}),setTimeout(()=>{g()},500)},p=parseFloat(u.subtotal),b=parseFloat(u.taxAmount),w=parseFloat(u.posServiceFee||"1.00"),C=parseFloat(u.discountAmount||"0"),_=p+b+w-C,k=(()=>{var D;const L=((D=u.paymentMethod)==null?void 0:D.replace("_"," ").toUpperCase())||"CASH",S=[];return u.paymentMethod==="bank_transfer"?(u.bankName&&S.push(`Bank: ${u.bankName}`),u.accountNumber&&S.push(`A/C: ${u.accountNumber}`),u.transactionReference&&S.push(`Ref: ${u.transactionReference}`)):u.paymentMethod==="card"?(u.cardType&&S.push(`${u.cardType} Card`),u.cardLastFour&&S.push(`****${u.cardLastFour}`)):u.paymentMethod==="mobile_wallet"?u.walletProvider&&S.push(u.walletProvider):u.paymentMethod==="cheque"&&u.chequeNumber&&S.push(`Cheque #${u.chequeNumber}`),{method:L,details:S}})();return r.jsx(Pn,{open:t,onOpenChange:n,children:r.jsxs(kn,{className:"max-w-6xl max-h-[90vh] overflow-y-auto","data-testid":"dialog-professional-fbr-invoice",children:[r.jsxs(Bn,{children:[r.jsxs(zn,{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(ba,{className:"h-5 w-5"}),"Professional FBR Invoice - ",u.invoiceNumber]}),r.jsx(G,{variant:"ghost",size:"sm",onClick:n,className:"no-print",children:r.jsx(Cx,{className:"h-4 w-4"})})]}),r.jsx(ls,{children:"FBR/PRAL-compliant invoice template as per SRO 1006(I)/2021 - Ready for printing and PDF export"})]}),r.jsxs("div",{ref:i,className:"professional-invoice-container",children:[r.jsx("div",{className:"invoice-header",children:r.jsxs("div",{className:"company-info",children:[r.jsxs("div",{className:"company-details",children:[r.jsx("div",{className:"company-name",children:(v==null?void 0:v.businessName)||"Business Name"}),r.jsx("div",{className:"company-subtitle",children:"Sales Tax Invoice"})]}),r.jsxs("div",{className:"invoice-metadata",children:[r.jsx("div",{className:"invoice-title",children:"INVOICE"}),r.jsxs("div",{className:"invoice-numbers",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Invoice #:"})," ",u.invoiceNumber]}),u.fbrInvoiceNumber&&r.jsxs("div",{children:[r.jsx("strong",{children:"FBR IRN:"})," ",u.fbrInvoiceNumber]})]})]})]})}),r.jsxs("div",{className:"info-grid",style:{display:"flex",gap:"20px",marginBottom:"20px"},children:[r.jsxs("div",{className:"info-section",style:{flex:"1"},children:[r.jsxs("div",{className:"info-header",children:[r.jsx(Sa,{style:{display:"inline",width:"14px",height:"14px",marginRight:"6px"}}),"SELLER INFORMATION"]}),r.jsxs("div",{className:"info-content",children:[r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:"Business Name:"}),r.jsx("span",{children:(v==null?void 0:v.businessName)||"Business Name"})]}),r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:"STRN:"}),r.jsx("span",{children:(v==null?void 0:v.strn)||"Not Available"})]}),r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:"NTN:"}),r.jsx("span",{children:(v==null?void 0:v.ntn)||(v==null?void 0:v.businessNtn)||"Not Available"})]}),r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:"Address:"}),r.jsxs("span",{children:[(v==null?void 0:v.address)||"Address",", ",(v==null?void 0:v.city)||"City"]})]}),r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:"Contact:"}),r.jsx("span",{children:(v==null?void 0:v.phone)||"Phone"})]}),(v==null?void 0:v.email)&&r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:"Email:"}),r.jsx("span",{children:v.email})]})]})]}),r.jsxs("div",{className:"info-section",style:{flex:"1"},children:[r.jsxs("div",{className:"info-header",children:[r.jsx(Mc,{style:{display:"inline",width:"14px",height:"14px",marginRight:"6px"}}),"BUYER INFORMATION"]}),r.jsxs("div",{className:"info-content",children:[r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:"Name:"}),r.jsx("span",{children:u.customerName||"Walk-in Customer"})]}),r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:"NTN/CNIC:"}),r.jsx("span",{children:u.customerNtn||u.customerCnic||"Not Available"})]}),r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:"Address:"}),r.jsx("span",{children:u.customerAddress||"Not Available"})]}),r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:"Contact:"}),r.jsx("span",{children:u.customerPhone||"Not Available"})]})]})]})]}),r.jsxs("div",{className:"info-section",style:{marginBottom:"20px"},children:[r.jsxs("div",{className:"info-header",children:[r.jsx(vi,{style:{display:"inline",width:"14px",height:"14px",marginRight:"6px"}}),"INVOICE DETAILS"]}),r.jsx("div",{className:"info-content",children:r.jsxs("div",{className:"info-grid",style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:"15px"},children:[r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:"Invoice Date:"}),r.jsx("span",{children:new Date(u.invoiceDate||u.saleDate).toLocaleDateString("en-PK")})]}),r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:"Time:"}),r.jsx("span",{children:new Date(u.invoiceDate||u.saleDate).toLocaleTimeString("en-PK")})]}),u.dueDate&&r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:"Due Date:"}),r.jsx("span",{children:new Date(u.dueDate).toLocaleDateString("en-PK")})]}),u.cashierName&&r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:"Cashier:"}),r.jsx("span",{children:u.cashierName})]})]})})]}),r.jsxs("table",{className:"items-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{style:{width:"40px"},children:"S#"}),r.jsx("th",{children:"Item Name"}),r.jsx("th",{style:{width:"60px"},children:"UOM"}),r.jsx("th",{style:{width:"60px"},children:"Qty"}),r.jsx("th",{style:{width:"80px"},children:"Unit Price"}),r.jsx("th",{style:{width:"70px"},children:"Tax Rate"}),r.jsx("th",{style:{width:"80px"},children:"Tax Amount"}),r.jsx("th",{style:{width:"90px"},children:"Total"})]})}),r.jsx("tbody",{children:y.map((L,S)=>r.jsxs("tr",{children:[r.jsx("td",{className:"text-center",children:S+1}),r.jsx("td",{children:L.itemDescription||L.productName}),r.jsx("td",{className:"text-center",children:L.uom||"PCS"}),r.jsx("td",{className:"text-center",children:L.quantity}),r.jsx("td",{className:"text-right",children:z(parseFloat(L.unitPrice))}),r.jsxs("td",{className:"text-center",children:[parseFloat(L.taxRate).toFixed(2),"%"]}),r.jsx("td",{className:"text-right",children:z(parseFloat(L.taxAmount))}),r.jsx("td",{className:"text-right",children:z(parseFloat(L.totalAmount))})]},L.id))})]}),r.jsxs("div",{className:"payment-info",children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Payment Method:"})," ",k.method,k.details.length>0&&r.jsx("div",{style:{fontSize:"11px",marginTop:"4px"},children:k.details.join(" | ")})]}),r.jsx("div",{children:r.jsx("span",{className:`status-badge ${u.paymentStatus==="completed"?"status-paid":(u.paymentStatus==="partial","status-pending")}`,children:u.paymentStatus==="completed"?"PAID IN FULL":u.paymentStatus==="partial"?"PARTIALLY PAID":"PENDING PAYMENT"})})]}),parseFloat(u.advanceAmount||"0")>0&&r.jsxs("div",{style:{marginTop:"8px"},children:[r.jsx("strong",{children:"Advance Received:"})," ",z(parseFloat(u.advanceAmount))," |",r.jsx("strong",{children:" Balance Due:"})," ",z(parseFloat(u.remainingAmount||"0"))]})]}),r.jsx("div",{className:"tax-summary",children:r.jsx("table",{children:r.jsxs("tbody",{children:[r.jsxs("tr",{children:[r.jsx("td",{children:"Gross Total:"}),r.jsx("td",{className:"text-right",children:z(p)})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Total Sales Tax:"}),r.jsx("td",{className:"text-right",children:z(b)})]}),C>0&&r.jsxs("tr",{children:[r.jsx("td",{children:"Discount:"}),r.jsxs("td",{className:"text-right",children:["-",z(C)]})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"PoS Service Fee:"}),r.jsx("td",{className:"text-right",children:z(w)})]}),r.jsxs("tr",{className:"total-row",children:[r.jsx("td",{children:r.jsx("strong",{children:"Net Payable:"})}),r.jsx("td",{className:"text-right",children:r.jsx("strong",{children:z(_)})})]})]})})}),(u.notes||u.deliveryTerms||u.warrantyInfo)&&r.jsxs("div",{className:"info-section",style:{margin:"20px 0"},children:[r.jsx("div",{className:"info-header",children:"REMARKS"}),r.jsxs("div",{className:"info-content",children:[u.deliveryTerms&&r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:"Delivery Terms:"}),r.jsx("span",{children:u.deliveryTerms})]}),u.warrantyInfo&&r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:"Warranty:"}),r.jsx("span",{children:u.warrantyInfo})]}),u.notes&&r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:"Notes:"}),r.jsx("span",{children:u.notes})]})]})]}),r.jsx("div",{className:"invoice-footer",children:r.jsxs("div",{className:"qr-section",children:[r.jsxs("div",{className:"compliance-text",children:[r.jsx("div",{style:{marginBottom:"8px"},children:u.fbrIrn&&r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"FBR IRN:"})," ",u.fbrIrn]})}),r.jsx("div",{style:{marginBottom:"8px",fontStyle:"italic"},children:'"This is a computer-generated invoice submitted to FBR under SRO 1006(I)/2021."'}),r.jsx("div",{style:{fontSize:"9px"},children:"Verify this invoice through FBR Tax Asaan Mobile App or SMS at 9966 and win exciting prizes in draw"})]}),r.jsx("div",{className:"qr-placeholder","data-qr-placeholder":"fbr-qr-code",children:u.fbrQrCode?r.jsx("div",{children:"QR CODE"}):r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("div",{children:"FBR"}),r.jsx("div",{children:"QR CODE"}),r.jsx("div",{children:"(7x7MM)"})]})})]})})]}),r.jsxs("div",{className:"flex justify-between items-center pt-4 border-t no-print",style:{marginTop:"20px"},children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs(Pe,{variant:u.fbrStatus==="submitted"||u.fbrStatus==="validated"?"default":u.fbrStatus==="failed"?"destructive":"secondary",children:["FBR Status: ",((F=u.fbrStatus)==null?void 0:F.replace("_"," ").toUpperCase())||"NOT CONFIGURED"]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(G,{variant:"outline",onClick:g,"data-testid":"button-print-professional-invoice",children:[r.jsx(wx,{className:"h-4 w-4 mr-2"}),"Print A4"]}),r.jsxs(G,{variant:"outline",onClick:x,"data-testid":"button-export-pdf",children:[r.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),u.fbrStatus==="not_configured"&&r.jsx(G,{onClick:j,disabled:o,"data-testid":"button-submit-fbr-professional",children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting to PRAL..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Nx,{className:"h-4 w-4 mr-2"}),"Submit to FBR/PRAL"]})}),r.jsx(G,{variant:"outline",onClick:n,"data-testid":"button-close-professional-invoice",children:"Close"})]})]})]})})}function $8(e){switch(e){case"submitted":return{variant:"default",label:"FBR Submitted",description:"Invoice successfully submitted to FBR"};case"validated":return{variant:"default",label:"FBR Validated",description:"Invoice validated by FBR system"};case"failed":return{variant:"destructive",label:"FBR Failed",description:"Failed to submit to FBR"};case"validation_failed":return{variant:"destructive",label:"Validation Failed",description:"Invoice failed FBR validation"};case"pending":default:return{variant:"outline",label:"FBR Pending",description:"Not yet submitted to FBR"}}}function V8({invoiceId:e,isOpen:t,onClose:n,onSuccess:s}){const a=qr(),{toast:i}=Jt(),[o,l]=h.useState(""),[c,d]=h.useState(""),[f,m]=h.useState("cod"),[u,y]=h.useState("cash"),[v,g]=h.useState(30),[j,x]=h.useState(""),{data:p,isLoading:b}=We({queryKey:["/api/invoices",e],enabled:t&&!!e}),w=yt({mutationFn:async _=>(await Je(`/api/invoices/${e}`,"PATCH",_)).json(),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/invoices"]}),a.invalidateQueries({queryKey:["/api/invoices",e]}),i({title:"Success",description:"Invoice updated successfully"}),n()},onError:_=>{i({title:"Error",description:_.message||"Failed to update invoice",variant:"destructive"})}});h.useEffect(()=>{p&&(l(p.notes||""),d(p.dueDate?new Date(p.dueDate).toISOString().split("T")[0]:""),m(p.paymentTerms||"cod"),y(p.paymentMethod||"cash"),g(p.creditDays||30),x(p.paymentDueDate?new Date(p.paymentDueDate).toISOString().split("T")[0]:""))},[p]);const C=_=>{_.preventDefault();let N=j;if(f==="credit"&&!j){const F=new Date;F.setDate(F.getDate()+v),N=F.toISOString().split("T")[0]}const k={notes:o,dueDate:c?new Date(c).toISOString():null,paymentTerms:f,paymentMethod:u,creditDays:v,paymentDueDate:N?new Date(N).toISOString():null};w.mutate(k)};return b?r.jsx(Pn,{open:t,onOpenChange:n,children:r.jsx(kn,{children:r.jsx("div",{className:"p-4 text-center",children:"Loading invoice data..."})})}):r.jsx(Pn,{open:t,onOpenChange:n,children:r.jsxs(kn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Bn,{children:[r.jsxs(zn,{children:["Edit Invoice #",p==null?void 0:p.invoiceNumber]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Customer: ",p==null?void 0:p.customerName," | Total: ",p?z(parseFloat(p.totalAmount)):""]})]}),r.jsxs("form",{onSubmit:C,className:"space-y-6",children:[r.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Current Status"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Payment Status:"}),r.jsx("span",{className:"ml-2 capitalize",children:p==null?void 0:p.paymentStatus})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"FBR Status:"}),r.jsx("span",{className:"ml-2 capitalize",children:p==null?void 0:p.fbrStatus})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium",children:"Payment Configuration"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{htmlFor:"paymentTerms",children:"Payment Terms"}),r.jsxs(bt,{value:f,onValueChange:m,children:[r.jsx(xt,{"data-testid":"edit-payment-terms",children:r.jsx(jt,{})}),r.jsxs(gt,{children:[r.jsx(ae,{value:"cod",children:"Cash on Delivery"}),r.jsx(ae,{value:"advance",children:"Advance Payment"}),r.jsx(ae,{value:"credit",children:"Credit Payment"}),r.jsx(ae,{value:"partial",children:"Partial Payment"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{htmlFor:"paymentMethod",children:"Payment Method"}),r.jsxs(bt,{value:u,onValueChange:y,children:[r.jsx(xt,{"data-testid":"edit-payment-method",children:r.jsx(jt,{})}),r.jsxs(gt,{children:[r.jsx(ae,{value:"cash",children:"Cash"}),r.jsx(ae,{value:"bank_transfer",children:"Bank Transfer"}),r.jsx(ae,{value:"credit_card",children:"Credit Card"}),r.jsx(ae,{value:"debit_card",children:"Debit Card"}),r.jsx(ae,{value:"digital_wallet",children:"Digital Wallet"})]})]})]})]}),f==="credit"&&r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{htmlFor:"creditDays",children:"Credit Days"}),r.jsx(ue,{id:"creditDays",type:"number",min:"1",max:"365",value:v,onChange:_=>{g(Number(_.target.value));const N=new Date;N.setDate(N.getDate()+Number(_.target.value)),x(N.toISOString().split("T")[0])},"data-testid":"edit-credit-days"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{htmlFor:"paymentDueDate",children:"Payment Due Date"}),r.jsx(ue,{id:"paymentDueDate",type:"date",value:j,onChange:_=>x(_.target.value),"data-testid":"edit-payment-due-date"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium",children:"Invoice Details"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{htmlFor:"dueDate",children:"Invoice Due Date"}),r.jsx(ue,{id:"dueDate",type:"date",value:c,onChange:_=>d(_.target.value),"data-testid":"edit-due-date"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{htmlFor:"notes",children:"Invoice Notes"}),r.jsx(Mr,{id:"notes",value:o,onChange:_=>l(_.target.value),placeholder:"Add any additional notes for this invoice...",rows:3,"data-testid":"edit-notes"})]})]}),(p==null?void 0:p.fbrStatus)==="submitted"&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("div",{className:"text-yellow-600",children:"⚠️"}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-yellow-800",children:"FBR Compliance Notice"}),r.jsx("p",{className:"text-sm text-yellow-700",children:"This invoice has been submitted to FBR. Changes will require re-submission to PRAL for compliance."})]})]})}),r.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[r.jsx(G,{type:"button",variant:"outline",onClick:n,"data-testid":"edit-cancel",children:"Cancel"}),r.jsx(G,{type:"submit",disabled:w.isPending,"data-testid":"edit-update",children:w.isPending?"Updating...":"Update Invoice"})]})]})]})})}function B8(){const{user:e}=zs(),{toast:t}=Jt();Ac();const[n,s]=h.useState({customerId:"",customerName:"",items:[],subtotal:0,taxAmount:0,discountAmount:0,totalAmount:0,notes:"",dueDate:"",paymentTerms:"cod",paymentMethod:"cash",advanceAmount:0,creditDays:30,paymentDueDate:""}),[a,i]=h.useState(""),[o,l]=h.useState(1),[c,d]=h.useState(""),[f,m]=h.useState("all"),[u,y]=h.useState("all"),[v,g]=h.useState("all"),[j,x]=h.useState(null),[p,b]=h.useState(!1),[w,C]=h.useState(!1),[_,N]=h.useState(!1),[k,F]=h.useState(!1),[L,S]=h.useState("create"),{data:D=[]}=We({queryKey:["/api/customers"]}),{data:q=[]}=We({queryKey:["/api/products"]});We({queryKey:["/api/settings"]});const{data:V=[],isLoading:$}=We({queryKey:["/api/invoices"]}),K=E=>({cash:"Cash",bank_transfer:"Bank Transfer",credit_card:"Credit Card",debit_card:"Debit Card",digital_wallet:"Digital Wallet"})[E]||E,B=yt({mutationFn:async E=>(await Je("/api/sales","POST",E)).json(),onSuccess:E=>{t({title:"Invoice Created",description:"Invoice has been generated successfully"}),s({customerId:"",customerName:"",items:[],subtotal:0,taxAmount:0,discountAmount:0,totalAmount:0,notes:"",dueDate:"",paymentTerms:"cod",paymentMethod:"cash",advanceAmount:0,creditDays:30,paymentDueDate:""}),Cn.invalidateQueries({queryKey:["/api/invoices"]}),S("manage")},onError:E=>{t({title:"Error",description:E.message||"Failed to create invoice",variant:"destructive"})}});yt({mutationFn:async E=>Je(`/api/invoices/${E}/reminder`,"POST"),onSuccess:()=>{t({title:"Reminder Sent",description:"Payment reminder email sent successfully"})},onError:E=>{t({title:"Error",description:E.message||"Failed to send reminder",variant:"destructive"})}});const P=yt({mutationFn:async E=>(await Je(`/api/invoices/${E}/submit-fbr`,"POST")).json(),onSuccess:E=>{Cn.invalidateQueries({queryKey:["/api/invoices"]}),t({title:"PRAL Submission Successful",description:E.usin?`Invoice submitted to PRAL. USIN: ${E.usin}`:"Invoice submitted to PRAL successfully"})},onError:E=>{t({title:"PRAL Submission Failed",description:(E==null?void 0:E.message)||"Failed to submit invoice to PRAL. Please check invoice data and try again.",variant:"destructive"})}}),W=yt({mutationFn:async E=>(await Je(`/api/invoices/${E}`,"DELETE")).json(),onSuccess:()=>{Cn.invalidateQueries({queryKey:["/api/invoices"]}),t({title:"Invoice Deleted",description:"Invoice has been successfully deleted"})},onError:E=>{t({title:"Delete Failed",description:(E==null?void 0:E.message)||"Failed to delete invoice. Please try again.",variant:"destructive"})}}),re=()=>{const E=q.find(ln=>ln.id===a);if(!E){t({title:"Error",description:"Please select a product",variant:"destructive"});return}const U=parseFloat(E.unitPrice),se=parseFloat(E.taxRate||"17"),ke=o*U,Ne=ke*se/100,qe={productId:E.id,productName:E.name,quantity:o,unitPrice:U,taxRate:se,discount:0,totalAmount:ke+Ne},ze=[...n.items,qe],_e=ze.reduce((ln,T)=>ln+T.quantity*T.unitPrice,0),ct=ze.reduce((ln,T)=>ln+T.quantity*T.unitPrice*T.taxRate/100,0),Ft=ze.reduce((ln,T)=>ln+T.discount,0),jr=_e+ct-Ft-n.discountAmount;s({...n,items:ze,subtotal:_e,taxAmount:ct,totalAmount:jr}),i(""),l(1)},ve=E=>{const U=n.items.filter((ze,_e)=>_e!==E),se=U.reduce((ze,_e)=>ze+_e.quantity*_e.unitPrice,0),ke=U.reduce((ze,_e)=>ze+_e.quantity*_e.unitPrice*_e.taxRate/100,0),Ne=U.reduce((ze,_e)=>ze+_e.discount,0),qe=se+ke-Ne-n.discountAmount;s({...n,items:U,subtotal:se,taxAmount:ke,totalAmount:qe})},Qe=(E,U,se)=>{const ke=n.items.map((ct,Ft)=>{if(Ft===E){const jr={...ct,[U]:U==="quantity"||U==="unitPrice"||U==="taxRate"||U==="discount"?parseFloat(se)||0:se},ln=jr.quantity*jr.unitPrice,T=ln*jr.taxRate/100;return jr.totalAmount=ln+T-jr.discount,jr}return ct}),Ne=ke.reduce((ct,Ft)=>ct+Ft.quantity*Ft.unitPrice,0),qe=ke.reduce((ct,Ft)=>ct+Ft.quantity*Ft.unitPrice*Ft.taxRate/100,0),ze=ke.reduce((ct,Ft)=>ct+Ft.discount,0),_e=Ne+qe-ze-n.discountAmount;s({...n,items:ke,subtotal:Ne,taxAmount:qe,totalAmount:_e})},kt=E=>{const U=D.find(se=>se.id===E);s({...n,customerId:E,customerName:(U==null?void 0:U.name)||""})},I=()=>{if(!e)return;if(!n.customerId||n.items.length===0){t({title:"Validation Error",description:"Please select a customer and add at least one item",variant:"destructive"});return}const E=n.totalAmount;let U="pending",se="0.00",ke=null;n.paymentTerms==="advance"||n.paymentTerms==="cod"?(U="completed",se=E.toString()):n.paymentTerms==="credit"?(U="pending",se="0.00",ke=n.paymentDueDate?new Date(n.paymentDueDate):new Date(Date.now()+(n.creditDays||30)*24*60*60*1e3)):n.paymentTerms==="partial"&&(U=n.advanceAmount>=E?"completed":"partial",se=n.advanceAmount.toString());const Ne={customerId:n.customerId,customerName:n.customerName,userId:e.id,subtotal:n.subtotal.toString(),taxAmount:n.taxAmount.toString(),discountAmount:n.discountAmount.toString(),totalAmount:n.totalAmount.toString(),paidAmount:se,changeAmount:"0.00",paymentMethod:n.paymentMethod,paymentStatus:U,paymentTerms:n.paymentTerms,advanceAmount:n.advanceAmount.toString(),remainingAmount:(E-parseFloat(se)).toString(),creditDays:n.creditDays,paymentDueDate:ke?ke.toISOString():null,fbrStatus:"pending",notes:n.notes,dueDate:n.dueDate?new Date(n.dueDate).toISOString():ke?ke.toISOString():new Date(Date.now()+30*24*60*60*1e3).toISOString(),items:n.items.map(qe=>({productId:qe.productId,productName:qe.productName,quantity:qe.quantity,unitPrice:qe.unitPrice.toString(),taxRate:qe.taxRate.toString(),taxAmount:(qe.quantity*qe.unitPrice*qe.taxRate/100).toString(),totalAmount:qe.totalAmount.toString()}))};B.mutate(Ne)},M=E=>{const U=new Date(E),se=new Date,ke=U.getTime()-se.getTime(),Ne=Math.ceil(ke/(1e3*60*60*24));return Ne<0?{status:"overdue",days:Math.abs(Ne)}:Ne<=1?{status:"due-soon",days:Ne}:Ne<=7?{status:"due-week",days:Ne}:{status:"normal",days:Ne}},ce=async E=>{try{console.log("Professional PDF generation started for invoice:",E);const{default:U}=await Mo(async()=>{const{default:it}=await import("./jspdf.es.min-BUx7sBui.js").then(An=>An.j);return{default:it}},[]),se=await Mo(()=>import("./html2canvas.esm-CBrSDip1.js"),[]);console.log("Libraries loaded successfully");const ke=await Je(`/api/sales/${E}`),Ne=ke.sale,qe=ke.items,ze=ke.customer;console.log("Sale data loaded:",Ne.invoiceNumber),console.log("Items count:",qe.length);const _e=await Je("/api/settings"),ct=document.createElement("div");ct.style.position="absolute",ct.style.top="-9999px",ct.style.width="794px",ct.style.backgroundColor="white",ct.style.padding="20px",ct.style.fontFamily="Arial, sans-serif",ct.style.fontSize="12px",ct.style.lineHeight="1.4",ct.style.color="#000";const Ft=qe.reduce((it,An)=>it+parseFloat(An.unitPrice)*An.quantity,0),jr=qe.reduce((it,An)=>it+parseFloat(An.discount||0),0),ln=qe.reduce((it,An)=>it+parseFloat(An.unitPrice)*An.quantity*(An.taxRate/100),0),T=Ft-jr+ln,O=`
        .professional-invoice-container {
          max-width: 100%;
          margin: 0 auto;
          background: white;
          color: #000;
          padding: 20px;
          font-family: Arial, sans-serif;
          font-size: 12px;
          line-height: 1.4;
        }
        
        .invoice-header {
          border-bottom: 3px solid #000;
          padding-bottom: 15px;
          margin-bottom: 20px;
        }
        
        .company-info {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 10px;
        }
        
        .company-name {
          font-size: 22px;
          font-weight: bold;
          margin-bottom: 5px;
          text-transform: uppercase;
          color: #000;
        }
        
        .company-subtitle {
          font-size: 14px;
          color: #666;
          font-weight: normal;
        }
        
        .invoice-title {
          font-size: 20px;
          font-weight: bold;
          margin-bottom: 10px;
          color: #000;
        }
        
        .invoice-numbers {
          font-size: 12px;
        }
        
        .info-section {
          border: 1px solid #ddd;
          border-radius: 4px;
          margin-bottom: 15px;
        }
        
        .info-header {
          background: #f5f5f5;
          padding: 8px 12px;
          border-bottom: 1px solid #ddd;
          font-weight: bold;
          font-size: 13px;
          color: #333;
        }
        
        .info-content {
          padding: 12px;
        }
        
        .info-row {
          margin-bottom: 6px;
          font-size: 12px;
        }
        
        .info-label {
          font-weight: bold;
          display: inline-block;
          width: 120px;
          color: #333;
        }
        
        .items-table {
          width: 100%;
          border-collapse: collapse;
          margin: 20px 0;
          font-size: 11px;
        }
        
        .items-table th,
        .items-table td {
          border: 1px solid #333;
          padding: 6px 8px;
        }
        
        .items-table th {
          background: #f0f0f0;
          font-weight: bold;
          text-align: center;
        }
        
        .tax-summary {
          width: 300px;
          margin-left: auto;
          border: 1px solid #333;
          margin-top: 20px;
          font-size: 12px;
        }
        
        .total-row {
          font-weight: bold;
          background: #f5f5f5;
          border-top: 2px solid #333;
        }
        
        .invoice-footer {
          margin-top: 30px;
          padding-top: 20px;
          border-top: 2px solid #000;
          font-size: 10px;
        }
        
        .qr-section {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          gap: 20px;
        }
        
        .compliance-text {
          flex: 1;
          max-width: 70%;
        }
        
        .qr-placeholder {
          width: 80px;
          height: 80px;
          border: 2px solid #333;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 8px;
          text-align: center;
          font-weight: bold;
          background: white;
          flex-shrink: 0;
        }
      `,H=document.createElement("style");H.textContent=O,ct.appendChild(H),ct.innerHTML=`
        <div class="professional-invoice-container">
          
          <!-- Header Section -->
          <div class="invoice-header">
            <div class="company-info">
              <div>
                <div class="company-name">${(_e==null?void 0:_e.businessName)||"Business Name"}</div>
                <div class="company-subtitle">Sales Tax Invoice</div>
              </div>
              <div style="text-align: right;">
                <div class="invoice-title">INVOICE</div>
                <div class="invoice-numbers">
                  <div><strong>Invoice #:</strong> ${Ne.invoiceNumber}</div>
                  ${Ne.fbrInvoiceNumber?`<div><strong>FBR IRN:</strong> ${Ne.fbrInvoiceNumber}</div>`:""}
                </div>
              </div>
            </div>
          </div>

          <!-- Information Sections -->
          <div class="info-section" style="margin-bottom: 20px;">
            <div class="info-header">
              SELLER INFORMATION
            </div>
            <div class="info-content">
              <div class="info-row">
                <span class="info-label">Business Name:</span>
                <span>${(_e==null?void 0:_e.businessName)||"Business Name"}</span>
              </div>
              <div class="info-row">
                <span class="info-label">STRN:</span>
                <span>${(_e==null?void 0:_e.strn)||"Not Available"}</span>
              </div>
              <div class="info-row">
                <span class="info-label">NTN:</span>
                <span>${(_e==null?void 0:_e.ntn)||"Not Available"}</span>
              </div>
              <div class="info-row">
                <span class="info-label">Address:</span>
                <span>${(_e==null?void 0:_e.address)||"Address"}, ${(_e==null?void 0:_e.city)||"City"}</span>
              </div>
              <div class="info-row">
                <span class="info-label">Contact:</span>
                <span>${(_e==null?void 0:_e.phone)||"Phone"}</span>
              </div>
              ${_e!=null&&_e.email?`
                <div class="info-row">
                  <span class="info-label">Email:</span>
                  <span>${_e.email}</span>
                </div>
              `:""}
            </div>
          </div>

          <div class="info-section" style="margin-bottom: 20px;">
            <div class="info-header">
              BUYER INFORMATION
            </div>
            <div class="info-content">
              <div class="info-row">
                <span class="info-label">Name:</span>
                <span>${(ze==null?void 0:ze.name)||Ne.customerName||"Walk-in Customer"}</span>
              </div>
              <div class="info-row">
                <span class="info-label">NTN/CNIC:</span>
                <span>${(ze==null?void 0:ze.ntn)||(ze==null?void 0:ze.cnic)||Ne.customerNtn||Ne.customerCnic||"Not Available"}</span>
              </div>
              <div class="info-row">
                <span class="info-label">Address:</span>
                <span>${(ze==null?void 0:ze.address)||Ne.customerAddress||"Not Available"}</span>
              </div>
              <div class="info-row">
                <span class="info-label">Contact:</span>
                <span>${(ze==null?void 0:ze.phone)||Ne.customerPhone||"Not Available"}</span>
              </div>
            </div>
          </div>

          <div class="info-section" style="margin-bottom: 20px;">
            <div class="info-header">
              INVOICE DETAILS
            </div>
            <div class="info-content">
              <div class="info-row">
                <span class="info-label">Invoice Date:</span>
                <span>${new Date(Ne.saleDate).toLocaleDateString()}</span>
              </div>
              <div class="info-row">
                <span class="info-label">Time:</span>
                <span>${new Date(Ne.saleDate).toLocaleTimeString()}</span>
              </div>
              <div class="info-row">
                <span class="info-label">Due Date:</span>
                <span>${new Date(Ne.dueDate).toLocaleDateString()}</span>
              </div>
            </div>
          </div>

          <!-- Items Table -->
          <table class="items-table" style="width: 100%; border-collapse: collapse; margin: 20px 0; font-size: 11px;">
            <thead>
              <tr>
                <th style="border: 1px solid #333; padding: 8px; background: #f0f0f0; text-align: center; width: 5%;">S#</th>
                <th style="border: 1px solid #333; padding: 8px; background: #f0f0f0; text-align: center; width: 35%;">Item Name</th>
                <th style="border: 1px solid #333; padding: 8px; background: #f0f0f0; text-align: center; width: 8%;">UOM</th>
                <th style="border: 1px solid #333; padding: 8px; background: #f0f0f0; text-align: center; width: 8%;">Qty</th>
                <th style="border: 1px solid #333; padding: 8px; background: #f0f0f0; text-align: center; width: 12%;">Unit Price</th>
                <th style="border: 1px solid #333; padding: 8px; background: #f0f0f0; text-align: center; width: 10%;">Tax Rate</th>
                <th style="border: 1px solid #333; padding: 8px; background: #f0f0f0; text-align: center; width: 12%;">Tax Amount</th>
                <th style="border: 1px solid #333; padding: 8px; background: #f0f0f0; text-align: center; width: 15%;">Total</th>
              </tr>
            </thead>
            <tbody>
              ${qe.map((it,An)=>{const nl=parseFloat(it.unitPrice)*it.quantity*(parseFloat(it.taxRate||0)/100);return`
                  <tr>
                    <td style="border: 1px solid #333; padding: 8px; text-align: center;">${An+1}</td>
                    <td style="border: 1px solid #333; padding: 8px; text-align: left;">${it.productName||"Unknown Product"}</td>
                    <td style="border: 1px solid #333; padding: 8px; text-align: center;">PCS</td>
                    <td style="border: 1px solid #333; padding: 8px; text-align: center;">${it.quantity}</td>
                    <td style="border: 1px solid #333; padding: 8px; text-align: right;">${z(parseFloat(it.unitPrice))}</td>
                    <td style="border: 1px solid #333; padding: 8px; text-align: center;">${parseFloat(it.taxRate||0).toFixed(2)}%</td>
                    <td style="border: 1px solid #333; padding: 8px; text-align: right;">${z(nl)}</td>
                    <td style="border: 1px solid #333; padding: 8px; text-align: right; font-weight: bold;">${z(parseFloat(it.totalAmount))}</td>
                  </tr>
                `}).join("")}
            </tbody>
          </table>

          <!-- Payment Method Section -->
          <div style="margin: 30px 0; padding: 15px; background: #f9f9f9; border: 1px solid #ddd;">
            <div style="display: flex; justify-content: space-between; align-items: center;">
              <div style="font-weight: bold;">
                Payment Terms: ${K(Ne.paymentMethod)||"PENDING"}
              </div>
              <div style="font-weight: bold; color: #d97706;">
                ${Ne.paymentStatus==="completed"?"PAYMENT COMPLETED":"PENDING PAYMENT"}
              </div>
            </div>
          </div>

          <!-- Totals Section -->
          <div style="margin: 30px 0;">
            <table style="width: 100%; max-width: 400px; margin-left: auto; border-collapse: collapse; font-size: 12px;">
              <tr>
                <td style="padding: 8px; text-align: right; font-weight: bold; border-bottom: 1px solid #ddd;">Gross Total:</td>
                <td style="padding: 8px; text-align: right; border-bottom: 1px solid #ddd; width: 150px;">${z(Ft)}</td>
              </tr>
              <tr>
                <td style="padding: 8px; text-align: right; font-weight: bold; border-bottom: 1px solid #ddd;">Total Sales Tax:</td>
                <td style="padding: 8px; text-align: right; border-bottom: 1px solid #ddd;">${z(ln)}</td>
              </tr>
              <tr>
                <td style="padding: 8px; text-align: right; font-weight: bold; border-bottom: 1px solid #ddd;">PoS Service Fee:</td>
                <td style="padding: 8px; text-align: right; border-bottom: 1px solid #ddd;">${z(1)}</td>
              </tr>
              <tr style="font-weight: bold; font-size: 14px; background: #f5f5f5;">
                <td style="padding: 12px; text-align: right; border-top: 2px solid #333;">Net Payable:</td>
                <td style="padding: 12px; text-align: right; border-top: 2px solid #333;">${z(T+1)}</td>
              </tr>
            </table>
          </div>

          <!-- Footer Section -->
          <div style="margin-top: 40px; padding-top: 20px; border-top: 2px solid #000; text-align: center;">
            <p style="margin: 0 0 10px 0; font-style: italic; font-size: 11px;">
              "This is a computer-generated invoice submitted to FBR under SRO 1006(I)/2021."
            </p>
            <p style="margin: 0 0 20px 0; font-size: 11px;">
              Verify this invoice through FBR Tax Asaan Mobile App or SMS at 9966 and win exciting prizes in draw
            </p>
            
            <div style="display: flex; justify-content: center; align-items: center; margin-top: 20px;">
              <div style="width: 80px; height: 80px; border: 2px solid #333; display: flex; flex-direction: column; align-items: center; justify-content: center; font-size: 8px; text-align: center; font-weight: bold; background: white;">
                <div>FBR</div>
                <div>QR CODE</div>
                <div>(7x7MM)</div>
              </div>
            </div>
          </div>
        </div>
      `,document.body.appendChild(ct);const pe=await se.default(ct,{scale:2,useCORS:!0,backgroundColor:"#ffffff"});document.body.removeChild(ct);const le=new U("p","pt","a4"),ne=pe.toDataURL("image/png"),je=le.internal.pageSize.getWidth(),rt=pe.height*je/pe.width;le.addImage(ne,"PNG",0,0,je,rt);const Mt=Ne.invoiceNumber.replace(/[^a-zA-Z0-9-]/g,"");le.save(`Invoice_${Mt}.pdf`),console.log("Professional PDF generated successfully for:",Ne.invoiceNumber),t({title:"Professional PDF Downloaded",description:`FBR-compliant invoice ${Ne.invoiceNumber} downloaded successfully`})}catch(U){console.error("Professional PDF generation error:",U),console.error("Error details:",U.message),console.error("Error stack:",U.stack),t({title:"Download Failed",description:`Unable to generate PDF: ${U.message||"Unknown error"}`,variant:"destructive"})}},X=V.filter(E=>{const U=E.invoiceNumber.toLowerCase().includes(c.toLowerCase())||E.customerName.toLowerCase().includes(c.toLowerCase());let se=!0;if(f!=="all"){const qe=M(E.dueDate||new Date().toISOString());f==="overdue"&&(se=qe.status==="overdue"),f==="due-soon"&&(se=qe.status==="due-soon"),f==="due-week"&&(se=qe.status==="due-week")}let ke=!0;u!=="all"&&(u==="submitted"&&(ke=E.fbrStatus==="submitted"||E.fbrStatus==="validated"),u==="pending"&&(ke=E.fbrStatus==="pending"||!E.fbrStatus),u==="failed"&&(ke=E.fbrStatus==="failed"||E.fbrStatus==="validation_failed"));const Ne=v==="all"||E.paymentTerms===v;return U&&se&&ke&&Ne}),De=V.filter(E=>M(E.dueDate||new Date().toISOString()).status==="overdue"),Be=V.filter(E=>M(E.dueDate||new Date().toISOString()).status==="due-soon");return!e||e.role==="cashier"?r.jsx("div",{className:"container mx-auto p-6",children:r.jsxs(qd,{children:[r.jsx(gr,{className:"h-4 w-4"}),r.jsx(Wd,{children:"Access denied. Only admin and manager users can access invoices."})]})}):r.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Invoice Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Create new invoices and manage existing ones"})]})}),(De.length>0||Be.length>0)&&r.jsxs("div",{className:"space-y-3",children:[De.length>0&&r.jsxs(qd,{className:"border-red-200 bg-red-50",children:[r.jsx(gr,{className:"h-4 w-4 text-red-600"}),r.jsxs(Wd,{className:"text-red-800",children:[r.jsxs("strong",{children:[De.length," invoices are overdue"]})," - Immediate action required"]})]}),Be.length>0&&r.jsxs(qd,{className:"border-orange-200 bg-orange-50",children:[r.jsx(vi,{className:"h-4 w-4 text-orange-600"}),r.jsxs(Wd,{className:"text-orange-800",children:[r.jsxs("strong",{children:[Be.length," invoices due within 24 hours"]})," - Consider sending reminders"]})]})]}),r.jsxs(kf,{value:L,onValueChange:S,className:"space-y-6",children:[r.jsxs(Uc,{className:"grid w-full grid-cols-2",children:[r.jsxs(Gn,{value:"create","data-testid":"tab-create-invoice",children:[r.jsx(Ar,{className:"h-4 w-4 mr-2"}),"Create Invoice"]}),r.jsxs(Gn,{value:"manage","data-testid":"tab-manage-invoices",children:[r.jsx(er,{className:"h-4 w-4 mr-2"}),"Manage Invoices (",V.length,")"]})]}),r.jsx(Zn,{value:"create",children:r.jsxs(ie,{children:[r.jsx(fe,{children:r.jsx(he,{children:"Create New Invoice"})}),r.jsxs(oe,{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{htmlFor:"customer",children:"Customer *"}),r.jsxs(bt,{value:n.customerId,onValueChange:kt,children:[r.jsx(xt,{"data-testid":"select-customer",children:r.jsx(jt,{placeholder:"Select customer"})}),r.jsx(gt,{children:D.map(E=>r.jsxs(ae,{value:E.id,children:[E.name," - ",E.phone]},E.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{htmlFor:"dueDate",children:"Due Date"}),r.jsx(ue,{id:"dueDate",type:"date",value:n.dueDate?n.dueDate.split("T")[0]:"",onChange:E=>s({...n,dueDate:E.target.value?new Date(E.target.value).toISOString():""}),"data-testid":"input-due-date"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Payment Terms"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{htmlFor:"paymentTerms",children:"Payment Terms *"}),r.jsxs(bt,{value:n.paymentTerms,onValueChange:E=>s({...n,paymentTerms:E,advanceAmount:E==="advance"?n.totalAmount:E==="partial"?n.advanceAmount:0,paymentDueDate:E==="credit"?new Date(Date.now()+(n.creditDays||30)*24*60*60*1e3).toISOString().split("T")[0]:""}),children:[r.jsx(xt,{"data-testid":"select-payment-terms",children:r.jsx(jt,{placeholder:"Select payment terms"})}),r.jsxs(gt,{children:[r.jsx(ae,{value:"cod",children:"Cash on Delivery (COD)"}),r.jsx(ae,{value:"advance",children:"Paid in Advance"}),r.jsx(ae,{value:"credit",children:"Credit Payment"}),r.jsx(ae,{value:"partial",children:"Partial Payment"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{htmlFor:"paymentMethod",children:"Payment Method *"}),r.jsxs(bt,{value:n.paymentMethod,onValueChange:E=>s({...n,paymentMethod:E}),children:[r.jsx(xt,{"data-testid":"select-payment-method",children:r.jsx(jt,{placeholder:"Select payment method"})}),r.jsxs(gt,{children:[r.jsx(ae,{value:"cash",children:"Cash"}),r.jsx(ae,{value:"bank_transfer",children:"Bank Transfer"}),r.jsx(ae,{value:"credit_card",children:"Credit Card"}),r.jsx(ae,{value:"debit_card",children:"Debit Card"}),r.jsx(ae,{value:"digital_wallet",children:"Digital Wallet"})]})]})]}),(n.paymentTerms==="partial"||n.paymentTerms==="advance")&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Ee,{htmlFor:"advanceAmount",children:[n.paymentTerms==="advance"?"Advance Amount":"Partial Amount"," (PKR)"]}),r.jsx(ue,{id:"advanceAmount",type:"number",min:"0",step:"0.01",value:n.advanceAmount,onChange:E=>s({...n,advanceAmount:parseFloat(E.target.value)||0}),"data-testid":"input-advance-amount"})]}),n.paymentTerms==="credit"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{htmlFor:"creditDays",children:"Credit Days"}),r.jsx(ue,{id:"creditDays",type:"number",min:"1",value:n.creditDays,onChange:E=>{const U=parseInt(E.target.value)||30;s({...n,creditDays:U,paymentDueDate:new Date(Date.now()+U*24*60*60*1e3).toISOString().split("T")[0]})},"data-testid":"input-credit-days"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{htmlFor:"paymentDueDate",children:"Payment Due Date"}),r.jsx(ue,{id:"paymentDueDate",type:"date",value:n.paymentDueDate,onChange:E=>s({...n,paymentDueDate:E.target.value}),"data-testid":"input-payment-due-date"})]})]})]}),n.totalAmount>0&&r.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Payment Summary"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Total Amount:"}),r.jsx("span",{className:"font-medium",children:z(n.totalAmount)})]}),n.paymentTerms==="partial"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Advance Amount:"}),r.jsx("span",{className:"font-medium",children:z(n.advanceAmount)})]}),r.jsxs("div",{className:"flex justify-between border-t pt-1",children:[r.jsx("span",{children:"Remaining Amount:"}),r.jsx("span",{className:"font-medium text-orange-600",children:z(n.totalAmount-n.advanceAmount)})]})]}),n.paymentTerms==="credit"&&r.jsxs("div",{className:"flex justify-between text-orange-600",children:[r.jsx("span",{children:"Amount Due:"}),r.jsx("span",{className:"font-medium",children:z(n.totalAmount)})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Add Products"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{htmlFor:"product",children:"Product"}),r.jsxs(bt,{value:a,onValueChange:i,children:[r.jsx(xt,{"data-testid":"select-product",children:r.jsx(jt,{placeholder:"Select product"})}),r.jsx(gt,{children:q.map(E=>r.jsxs(ae,{value:E.id,children:[E.name," - ",z(parseFloat(E.unitPrice))]},E.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{htmlFor:"quantity",children:"Quantity"}),r.jsx(ue,{id:"quantity",type:"number",min:"1",value:o,onChange:E=>l(parseInt(E.target.value)),"data-testid":"input-quantity"})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs(G,{onClick:re,disabled:!a,"data-testid":"button-add-item",children:[r.jsx(is,{className:"h-4 w-4 mr-2"}),"Add Item"]})})]}),n.items.length>0&&r.jsx("div",{className:"border rounded-lg",children:r.jsxs(mn,{children:[r.jsx(hn,{children:r.jsxs(Xe,{children:[r.jsx(J,{children:"Product"}),r.jsx(J,{children:"Quantity"}),r.jsx(J,{children:"Unit Price"}),r.jsx(J,{children:"Tax Rate"}),r.jsx(J,{children:"Discount"}),r.jsx(J,{children:"Total"}),r.jsx(J,{children:"Actions"})]})}),r.jsx(pn,{children:n.items.map((E,U)=>r.jsxs(Xe,{children:[r.jsx(Y,{children:E.productName}),r.jsx(Y,{children:r.jsx(ue,{type:"number",min:"1",value:E.quantity,onChange:se=>Qe(U,"quantity",se.target.value),className:"w-20"})}),r.jsx(Y,{children:r.jsx(ue,{type:"number",step:"0.01",min:"0",value:E.unitPrice,onChange:se=>Qe(U,"unitPrice",se.target.value),className:"w-24"})}),r.jsx(Y,{children:r.jsx(ue,{type:"number",step:"0.01",min:"0",max:"100",value:E.taxRate,onChange:se=>Qe(U,"taxRate",se.target.value),className:"w-20"})}),r.jsx(Y,{children:r.jsx(ue,{type:"number",step:"0.01",min:"0",value:E.discount,onChange:se=>Qe(U,"discount",se.target.value),className:"w-20",placeholder:"0.00"})}),r.jsx(Y,{className:"font-medium",children:z(E.totalAmount)}),r.jsx(Y,{children:r.jsx(G,{size:"sm",variant:"outline",onClick:()=>ve(U),"data-testid":`button-remove-item-${U}`,children:r.jsx(_a,{className:"h-4 w-4"})})})]},U))})]})})]}),n.items.length>0&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{htmlFor:"notes",children:"Notes"}),r.jsx(Mr,{id:"notes",value:n.notes,onChange:E=>s({...n,notes:E.target.value}),placeholder:"Additional notes...","data-testid":"textarea-notes"})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{htmlFor:"overall-discount",children:"Overall Discount"}),r.jsx(ue,{id:"overall-discount",type:"number",step:"0.01",min:"0",value:n.discountAmount,onChange:E=>{const U=parseFloat(E.target.value)||0,se=n.items.reduce((ze,_e)=>ze+_e.quantity*_e.unitPrice,0),ke=n.items.reduce((ze,_e)=>ze+_e.quantity*_e.unitPrice*_e.taxRate/100,0),Ne=n.items.reduce((ze,_e)=>ze+_e.discount,0),qe=se+ke-Ne-U;s({...n,discountAmount:U,totalAmount:qe})},placeholder:"0.00","data-testid":"input-overall-discount"})]}),r.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal:"}),r.jsx("span",{children:z(n.subtotal)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Tax:"}),r.jsx("span",{children:z(n.taxAmount)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Item Discounts:"}),r.jsxs("span",{children:["-",z(n.items.reduce((E,U)=>E+U.discount,0))]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Overall Discount:"}),r.jsxs("span",{children:["-",z(n.discountAmount)]})]}),r.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2",children:[r.jsx("span",{children:"Total:"}),r.jsx("span",{children:z(n.totalAmount)})]})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(G,{onClick:I,disabled:B.isPending,size:"lg","data-testid":"button-create-invoice",children:B.isPending?"Creating...":"Create Invoice"})})]})]})]})}),r.jsx(Zn,{value:"manage",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-6",children:[r.jsxs(ie,{children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(he,{className:"text-sm font-medium",children:"Total Invoices"}),r.jsx(Ar,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(oe,{children:r.jsx("div",{className:"text-2xl font-bold",children:V.length})})]}),r.jsxs(ie,{children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(he,{className:"text-sm font-medium",children:"Total Value"}),r.jsx(Ar,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(oe,{children:r.jsx("div",{className:"text-2xl font-bold",children:z(V.reduce((E,U)=>E+parseFloat(U.totalAmount),0))})})]}),r.jsxs(ie,{children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(he,{className:"text-sm font-medium",children:"FBR Submitted"}),r.jsx(qh,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(oe,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:V.filter(E=>E.fbrStatus==="submitted"||E.fbrStatus==="validated").length}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[V.length>0?Math.round(V.filter(E=>E.fbrStatus==="submitted"||E.fbrStatus==="validated").length/V.length*100):0,"% compliance"]})]})]}),r.jsxs(ie,{children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(he,{className:"text-sm font-medium",children:"FBR Pending"}),r.jsx(Ca,{className:"h-4 w-4 text-orange-600"})]}),r.jsx(oe,{children:r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:V.filter(E=>E.fbrStatus==="pending"||!E.fbrStatus).length})})]}),r.jsxs(ie,{children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(he,{className:"text-sm font-medium",children:"Overdue"}),r.jsx(gr,{className:"h-4 w-4 text-red-600"})]}),r.jsx(oe,{children:r.jsx("div",{className:"text-2xl font-bold text-red-600",children:De.length})})]}),r.jsxs(ie,{children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(he,{className:"text-sm font-medium",children:"Due Soon"}),r.jsx(vi,{className:"h-4 w-4 text-orange-600"})]}),r.jsx(oe,{children:r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Be.length})})]})]}),r.jsxs(ie,{children:[r.jsx(fe,{children:r.jsx(he,{children:"Filters"})}),r.jsx(oe,{children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Pa,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(ue,{placeholder:"Search invoices...",value:c,onChange:E=>d(E.target.value),"data-testid":"input-search"})]}),r.jsxs(bt,{value:f,onValueChange:m,children:[r.jsx(xt,{"data-testid":"select-due-date-filter",children:r.jsx(jt,{placeholder:"Due Date"})}),r.jsxs(gt,{children:[r.jsx(ae,{value:"all",children:"All Dates"}),r.jsx(ae,{value:"overdue",children:"Overdue"}),r.jsx(ae,{value:"due-soon",children:"Due Soon (24h)"}),r.jsx(ae,{value:"due-week",children:"Due This Week"})]})]}),r.jsxs(bt,{value:u,onValueChange:y,children:[r.jsx(xt,{"data-testid":"select-fbr-filter",children:r.jsx(jt,{placeholder:"FBR Status"})}),r.jsxs(gt,{children:[r.jsx(ae,{value:"all",children:"All FBR Status"}),r.jsx(ae,{value:"submitted",children:"FBR Submitted"}),r.jsx(ae,{value:"pending",children:"FBR Pending"}),r.jsx(ae,{value:"failed",children:"FBR Failed"})]})]}),r.jsxs(bt,{value:v,onValueChange:g,children:[r.jsx(xt,{"data-testid":"select-payment-terms-filter",children:r.jsx(jt,{placeholder:"Payment Terms"})}),r.jsxs(gt,{children:[r.jsx(ae,{value:"all",children:"All Payment Terms"}),r.jsx(ae,{value:"cod",children:"Cash on Delivery"}),r.jsx(ae,{value:"advance",children:"Advance Payment"}),r.jsx(ae,{value:"credit",children:"Credit Payment"}),r.jsx(ae,{value:"partial",children:"Partial Payment"})]})]}),r.jsxs(G,{variant:"outline",onClick:()=>{d(""),m("all"),y("all"),g("all")},"data-testid":"button-clear-filters",children:[r.jsx(vx,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]})})]}),r.jsxs(ie,{children:[r.jsx(fe,{children:r.jsxs(he,{children:["Invoices (",X.length,")"]})}),r.jsx(oe,{children:$?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):X.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Ar,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),r.jsx("p",{children:"No invoices found"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(mn,{children:[r.jsx(hn,{children:r.jsxs(Xe,{children:[r.jsx(J,{children:"Invoice #"}),r.jsx(J,{children:"Customer"}),r.jsx(J,{children:"Amount"}),r.jsx(J,{children:"Due Date"}),r.jsx(J,{children:"Payment Terms"}),r.jsx(J,{children:"Payment Method"}),r.jsx(J,{children:"FBR Compliance"}),r.jsx(J,{children:"Actions"})]})}),r.jsx(pn,{children:X.map(E=>{const U=M(E.dueDate||new Date().toISOString());return r.jsxs(Xe,{children:[r.jsx(Y,{className:"font-medium",children:E.invoiceNumber}),r.jsx(Y,{children:E.customerName}),r.jsx(Y,{className:"font-medium",children:z(parseFloat(E.totalAmount))}),r.jsx(Y,{children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm",children:new Date(E.dueDate||"").toLocaleDateString()}),U.status!=="normal"&&r.jsxs(Pe,{variant:"secondary",className:U.status==="overdue"?"bg-red-100 text-red-800":U.status==="due-soon"?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800",children:[U.status==="overdue"&&`${U.days}d overdue`,U.status==="due-soon"&&`Due ${U.days===0?"today":"tomorrow"}`,U.status==="due-week"&&`${U.days}d left`]})]})}),r.jsx(Y,{children:r.jsxs(Pe,{variant:"outline",className:"capitalize",children:[E.paymentTerms==="cod"&&"Cash on Delivery",E.paymentTerms==="advance"&&"Advance Payment",E.paymentTerms==="credit"&&"Credit Payment",E.paymentTerms==="partial"&&"Partial Payment",!E.paymentTerms&&"Not Set"]})}),r.jsx(Y,{children:r.jsx(Pe,{variant:"secondary",className:"capitalize",children:K(E.paymentMethod||"cash")})}),r.jsx(Y,{children:(()=>{const se=$8(E.fbrStatus||"pending");return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(Pe,{variant:se.variant,className:"flex items-center space-x-1",children:[E.fbrStatus==="submitted"||E.fbrStatus==="validated"?r.jsx(br,{className:"h-3 w-3"}):E.fbrStatus==="failed"||E.fbrStatus==="validation_failed"?r.jsx(ac,{className:"h-3 w-3"}):r.jsx(Ca,{className:"h-3 w-3"}),r.jsx("span",{children:se.label})]}),E.fbrInvoiceNumber&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["USIN: ",E.fbrInvoiceNumber]})]})})()}),r.jsx(Y,{children:r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(G,{size:"sm",variant:"outline",onClick:()=>{x(E.id),N(!0)},"data-testid":`button-view-${E.id}`,title:"View Professional FBR Invoice (A4 Print Ready)",children:r.jsx(yx,{className:"h-4 w-4"})}),r.jsx(G,{size:"sm",variant:"outline",onClick:()=>ce(E.id),"data-testid":`button-download-${E.id}`,title:"Download PDF",children:r.jsx(Tr,{className:"h-4 w-4"})}),E.paymentStatus!=="completed"&&r.jsx(G,{size:"sm",variant:"default",className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>markAsPaidMutation.mutate({invoiceId:E.id,paymentMethod:E.paymentMethod||"cash"}),disabled:markAsPaidMutation.isPending,"data-testid":`button-mark-paid-${E.id}`,title:"Mark as Fully Paid - Creates Payment Record",children:markAsPaidMutation.isPending?r.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):r.jsx(br,{className:"h-4 w-4"})}),(E.fbrStatus==="pending"||E.fbrStatus==="failed"||E.fbrStatus==="validation_failed"||E.fbrStatus==="not_configured"||!E.fbrStatus)&&r.jsxs(r.Fragment,{children:[r.jsx(G,{size:"sm",variant:"outline",onClick:()=>{x(E.id),F(!0)},"data-testid":`button-edit-${E.id}`,title:"Edit Invoice",children:r.jsx(ic,{className:"h-4 w-4"})}),r.jsx(G,{size:"sm",variant:"destructive",onClick:()=>{window.confirm("Are you sure you want to delete this invoice? This action cannot be undone.")&&W.mutate(E.id)},disabled:W.isPending,"data-testid":`button-delete-${E.id}`,title:"Delete Invoice",children:r.jsx(_a,{className:"h-4 w-4"})})]}),(E.fbrStatus==="pending"||E.fbrStatus==="failed"||E.fbrStatus==="validation_failed"||E.fbrStatus==="not_configured"||!E.fbrStatus)&&r.jsx(G,{size:"sm",variant:"default",onClick:()=>P.mutate(E.id),disabled:P.isPending,"data-testid":`button-pral-submit-${E.id}`,title:"Submit to PRAL",className:"bg-blue-600 hover:bg-blue-700 text-white",children:r.jsx(qh,{className:"h-4 w-4"})})]})})]},E.id)})})]})})})]})]})})]}),r.jsx(J2,{invoiceId:j,isOpen:p,onClose:()=>{b(!1),x(null)}}),j&&r.jsx(O8,{saleId:j,isOpen:w,onClose:()=>{C(!1),x(null)}}),j&&r.jsx(L8,{saleId:j,isOpen:_,onClose:()=>{N(!1),x(null)}}),j&&k&&r.jsx(V8,{invoiceId:j,isOpen:k,onClose:()=>{F(!1),x(null)},onSuccess:()=>{F(!1),x(null),Cn.invalidateQueries({queryKey:["/api/invoices"]}),t({title:"Success",description:"Invoice updated successfully"})}})]})}var $e=function(){return $e=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},$e.apply(this,arguments)};function z8(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function ST(e,t,n){for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}function qc(e){return e.mode==="multiple"}function Wc(e){return e.mode==="range"}function Tf(e){return e.mode==="single"}var U8={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function q8(e,t){return Zt(e,"LLLL y",t)}function W8(e,t){return Zt(e,"d",t)}function Q8(e,t){return Zt(e,"LLLL",t)}function H8(e){return"".concat(e)}function K8(e,t){return Zt(e,"cccccc",t)}function Y8(e,t){return Zt(e,"yyyy",t)}var G8=Object.freeze({__proto__:null,formatCaption:q8,formatDay:W8,formatMonthCaption:Q8,formatWeekNumber:H8,formatWeekdayName:K8,formatYearCaption:Y8}),Z8=function(e,t,n){return Zt(e,"do MMMM (EEEE)",n)},X8=function(){return"Month: "},J8=function(){return"Go to next month"},e$=function(){return"Go to previous month"},t$=function(e,t){return Zt(e,"cccc",t)},n$=function(e){return"Week n. ".concat(e)},r$=function(){return"Year: "},s$=Object.freeze({__proto__:null,labelDay:Z8,labelMonthDropdown:X8,labelNext:J8,labelPrevious:e$,labelWeekNumber:n$,labelWeekday:t$,labelYearDropdown:r$});function a$(){var e="buttons",t=U8,n=H2,s={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:G8,labels:s$,locale:n,modifiersClassNames:s,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function i$(e){var t=e.fromYear,n=e.toYear,s=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return s?i=Un(s):t&&(i=new Date(t,0,1)),a?o=Kx(a):n&&(o=new Date(n,11,31)),{fromDate:i?Oo(i):void 0,toDate:o?Oo(o):void 0}}var CT=h.createContext(void 0);function o$(e){var t,n=e.initialProps,s=a$(),a=i$(n),i=a.fromDate,o=a.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:s.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(Tf(n)||qc(n)||Wc(n))&&(c=n.onSelect);var d=$e($e($e({},s),n),{captionLayout:l,classNames:$e($e({},s.classNames),n.classNames),components:$e({},n.components),formatters:$e($e({},s.formatters),n.formatters),fromDate:i,labels:$e($e({},s.labels),n.labels),mode:n.mode||s.mode,modifiers:$e($e({},s.modifiers),n.modifiers),modifiersClassNames:$e($e({},s.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:$e($e({},s.styles),n.styles),toDate:o});return r.jsx(CT.Provider,{value:d,children:e.children})}function St(){var e=h.useContext(CT);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function PT(e){var t=St(),n=t.locale,s=t.classNames,a=t.styles,i=t.formatters.formatCaption;return r.jsx("div",{className:s.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function l$(e){return r.jsx("svg",$e({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:r.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function _T(e){var t,n,s=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=St(),f=(n=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:l$;return r.jsxs("div",{className:l,style:c,children:[r.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),r.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:s,children:i}),r.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,r.jsx(f,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function c$(e){var t,n=St(),s=n.fromDate,a=n.toDate,i=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,d=n.components,f=n.labels.labelMonthDropdown;if(!s)return r.jsx(r.Fragment,{});if(!a)return r.jsx(r.Fragment,{});var m=[];if(U3(s,a))for(var u=Un(s),y=s.getMonth();y<=a.getMonth();y++)m.push(Nm(u,y));else for(var u=Un(new Date),y=0;y<=11;y++)m.push(Nm(u,y));var v=function(j){var x=Number(j.target.value),p=Nm(Un(e.displayMonth),x);e.onChange(p)},g=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:_T;return r.jsx(g,{name:"months","aria-label":f(),className:c.dropdown_month,style:i.dropdown_month,onChange:v,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:m.map(function(j){return r.jsx("option",{value:j.getMonth(),children:l(j,{locale:o})},j.getMonth())})})}function d$(e){var t,n=e.displayMonth,s=St(),a=s.fromDate,i=s.toDate,o=s.locale,l=s.styles,c=s.classNames,d=s.components,f=s.formatters.formatYearCaption,m=s.labels.labelYearDropdown,u=[];if(!a)return r.jsx(r.Fragment,{});if(!i)return r.jsx(r.Fragment,{});for(var y=a.getFullYear(),v=i.getFullYear(),g=y;g<=v;g++)u.push(Fv(W2(new Date),g));var j=function(p){var b=Fv(Un(n),Number(p.target.value));e.onChange(b)},x=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:_T;return r.jsx(x,{name:"years","aria-label":m(),className:c.dropdown_year,style:l.dropdown_year,onChange:j,value:n.getFullYear(),caption:f(n,{locale:o}),children:u.map(function(p){return r.jsx("option",{value:p.getFullYear(),children:f(p,{locale:o})},p.getFullYear())})})}function u$(e,t){var n=h.useState(e),s=n[0],a=n[1],i=t===void 0?s:t;return[i,a]}function f$(e){var t=e.month,n=e.defaultMonth,s=e.today,a=t||n||s||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&cc(i,a)<0){var d=-1*(c-1);a=Br(i,d)}return o&&cc(a,o)<0&&(a=o),Un(a)}function m$(){var e=St(),t=f$(e),n=u$(t,e.month),s=n[0],a=n[1],i=function(o){var l;if(!e.disableNavigation){var c=Un(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[s,i]}function h$(e,t){for(var n=t.reverseMonths,s=t.numberOfMonths,a=Un(e),i=Un(Br(a,s)),o=cc(i,a),l=[],c=0;c<o;c++){var d=Br(a,c);l.push(d)}return n&&(l=l.reverse()),l}function p$(e,t){if(!t.disableNavigation){var n=t.toDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=Un(e);if(!n)return Br(l,o);var c=cc(n,e);if(!(c<i))return Br(l,o)}}function x$(e,t){if(!t.disableNavigation){var n=t.fromDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=Un(e);if(!n)return Br(l,-o);var c=cc(l,n);if(!(c<=0))return Br(l,-o)}}var kT=h.createContext(void 0);function g$(e){var t=St(),n=m$(),s=n[0],a=n[1],i=h$(s,t),o=p$(s,t),l=x$(s,t),c=function(m){return i.some(function(u){return Gx(m,u)})},d=function(m,u){c(m)||(u&&X2(m,u)?a(Br(m,1+t.numberOfMonths*-1)):a(m))},f={currentMonth:s,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return r.jsx(kT.Provider,{value:f,children:e.children})}function Qc(){var e=h.useContext(kT);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function i0(e){var t,n=St(),s=n.classNames,a=n.styles,i=n.components,o=Qc().goToMonth,l=function(f){o(Br(f,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:PT,d=r.jsx(c,{id:e.id,displayMonth:e.displayMonth});return r.jsxs("div",{className:s.caption_dropdowns,style:a.caption_dropdowns,children:[r.jsx("div",{className:s.vhidden,children:d}),r.jsx(c$,{onChange:l,displayMonth:e.displayMonth}),r.jsx(d$,{onChange:l,displayMonth:e.displayMonth})]})}function y$(e){return r.jsx("svg",$e({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:r.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function v$(e){return r.jsx("svg",$e({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:r.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var zu=h.forwardRef(function(e,t){var n=St(),s=n.classNames,a=n.styles,i=[s.button_reset,s.button];e.className&&i.push(e.className);var o=i.join(" "),l=$e($e({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),r.jsx("button",$e({},e,{ref:t,type:"button",className:o,style:l}))});function b$(e){var t,n,s=St(),a=s.dir,i=s.locale,o=s.classNames,l=s.styles,c=s.labels,d=c.labelPrevious,f=c.labelNext,m=s.components;if(!e.nextMonth&&!e.previousMonth)return r.jsx(r.Fragment,{});var u=d(e.previousMonth,{locale:i}),y=[o.nav_button,o.nav_button_previous].join(" "),v=f(e.nextMonth,{locale:i}),g=[o.nav_button,o.nav_button_next].join(" "),j=(t=m==null?void 0:m.IconRight)!==null&&t!==void 0?t:v$,x=(n=m==null?void 0:m.IconLeft)!==null&&n!==void 0?n:y$;return r.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&r.jsx(zu,{name:"previous-month","aria-label":u,className:y,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?r.jsx(j,{className:o.nav_icon,style:l.nav_icon}):r.jsx(x,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&r.jsx(zu,{name:"next-month","aria-label":v,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?r.jsx(x,{className:o.nav_icon,style:l.nav_icon}):r.jsx(j,{className:o.nav_icon,style:l.nav_icon})})]})}function o0(e){var t=St().numberOfMonths,n=Qc(),s=n.previousMonth,a=n.nextMonth,i=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(v){return Gx(e.displayMonth,v)}),c=l===0,d=l===o.length-1,f=t>1&&(c||!d),m=t>1&&(d||!c),u=function(){s&&i(s)},y=function(){a&&i(a)};return r.jsx(b$,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:m,nextMonth:a,previousMonth:s,onPreviousClick:u,onNextClick:y})}function j$(e){var t,n=St(),s=n.classNames,a=n.disableNavigation,i=n.styles,o=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:PT,d;return a?d=r.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=r.jsx(i0,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=r.jsxs(r.Fragment,{children:[r.jsx(i0,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),r.jsx(o0,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=r.jsxs(r.Fragment,{children:[r.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),r.jsx(o0,{displayMonth:e.displayMonth,id:e.id})]}),r.jsx("div",{className:s.caption,style:i.caption,children:d})}function w$(e){var t=St(),n=t.footer,s=t.styles,a=t.classNames.tfoot;return n?r.jsx("tfoot",{className:a,style:s.tfoot,children:r.jsx("tr",{children:r.jsx("td",{colSpan:8,children:n})})}):r.jsx(r.Fragment,{})}function N$(e,t,n){for(var s=n?Ni(new Date):us(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=Nn(s,i);a.push(o)}return a}function S$(){var e=St(),t=e.classNames,n=e.styles,s=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=N$(a,i,o);return r.jsxs("tr",{style:n.head_row,className:t.head_row,children:[s&&r.jsx("td",{style:n.head_cell,className:t.head_cell}),d.map(function(f,m){return r.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(f,{locale:a}),children:l(f,{locale:a})},m)})]})}function C$(){var e,t=St(),n=t.classNames,s=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:S$;return r.jsx("thead",{style:s.head,className:n.head,children:r.jsx(i,{})})}function P$(e){var t=St(),n=t.locale,s=t.formatters.formatDay;return r.jsx(r.Fragment,{children:s(e.date,{locale:n})})}var dg=h.createContext(void 0);function _$(e){if(!qc(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return r.jsx(dg.Provider,{value:t,children:e.children})}return r.jsx(k$,{initialProps:e.initialProps,children:e.children})}function k$(e){var t=e.initialProps,n=e.children,s=t.selected,a=t.min,i=t.max,o=function(d,f,m){var u,y;(u=t.onDayClick)===null||u===void 0||u.call(t,d,f,m);var v=!!(f.selected&&a&&(s==null?void 0:s.length)===a);if(!v){var g=!!(!f.selected&&i&&(s==null?void 0:s.length)===i);if(!g){var j=s?ST([],s):[];if(f.selected){var x=j.findIndex(function(p){return On(d,p)});j.splice(x,1)}else j.push(d);(y=t.onSelect)===null||y===void 0||y.call(t,j,d,f,m)}}},l={disabled:[]};s&&l.disabled.push(function(d){var f=i&&s.length>i-1,m=s.some(function(u){return On(u,d)});return!!(f&&!m)});var c={selected:s,onDayClick:o,modifiers:l};return r.jsx(dg.Provider,{value:c,children:n})}function ug(){var e=h.useContext(dg);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function T$(e,t){var n=t||{},s=n.from,a=n.to;return s&&a?On(a,e)&&On(s,e)?void 0:On(a,e)?{from:a,to:void 0}:On(s,e)?void 0:Jh(s,e)?{from:e,to:a}:{from:s,to:e}:a?Jh(e,a)?{from:a,to:e}:{from:e,to:a}:s?X2(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var fg=h.createContext(void 0);function E$(e){if(!Wc(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return r.jsx(fg.Provider,{value:t,children:e.children})}return r.jsx(D$,{initialProps:e.initialProps,children:e.children})}function D$(e){var t=e.initialProps,n=e.children,s=t.selected,a=s||{},i=a.from,o=a.to,l=t.min,c=t.max,d=function(y,v,g){var j,x;(j=t.onDayClick)===null||j===void 0||j.call(t,y,v,g);var p=T$(y,s);(x=t.onSelect)===null||x===void 0||x.call(t,p,y,v,g)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(f.range_start=[i],o?(f.range_end=[o],On(i,o)||(f.range_middle=[{after:i,before:o}])):f.range_end=[i]):o&&(f.range_start=[o],f.range_end=[o]),l&&(i&&!o&&f.disabled.push({after:wm(i,l-1),before:Nn(i,l-1)}),i&&o&&f.disabled.push({after:i,before:Nn(i,l-1)}),!i&&o&&f.disabled.push({after:wm(o,l-1),before:Nn(o,l-1)})),c){if(i&&!o&&(f.disabled.push({before:Nn(i,-c+1)}),f.disabled.push({after:Nn(i,c-1)})),i&&o){var m=ns(o,i)+1,u=c-m;f.disabled.push({before:wm(i,u)}),f.disabled.push({after:Nn(o,u)})}!i&&o&&(f.disabled.push({before:Nn(o,-c+1)}),f.disabled.push({after:Nn(o,c-1)}))}return r.jsx(fg.Provider,{value:{selected:s,onDayClick:d,modifiers:f},children:n})}function mg(){var e=h.useContext(fg);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Qd(e){return Array.isArray(e)?ST([],e):e!==void 0?[e]:[]}function A$(e){var t={};return Object.entries(e).forEach(function(n){var s=n[0],a=n[1];t[s]=Qd(a)}),t}var Ur;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Ur||(Ur={}));var R$=Ur.Selected,ys=Ur.Disabled,I$=Ur.Hidden,F$=Ur.Today,Em=Ur.RangeEnd,Dm=Ur.RangeMiddle,Am=Ur.RangeStart,M$=Ur.Outside;function O$(e,t,n){var s,a=(s={},s[R$]=Qd(e.selected),s[ys]=Qd(e.disabled),s[I$]=Qd(e.hidden),s[F$]=[e.today],s[Em]=[],s[Dm]=[],s[Am]=[],s[M$]=[],s);return e.fromDate&&a[ys].push({before:e.fromDate}),e.toDate&&a[ys].push({after:e.toDate}),qc(e)?a[ys]=a[ys].concat(t.modifiers[ys]):Wc(e)&&(a[ys]=a[ys].concat(n.modifiers[ys]),a[Am]=n.modifiers[Am],a[Dm]=n.modifiers[Dm],a[Em]=n.modifiers[Em]),a}var TT=h.createContext(void 0);function L$(e){var t=St(),n=ug(),s=mg(),a=O$(t,n,s),i=A$(t.modifiers),o=$e($e({},a),i);return r.jsx(TT.Provider,{value:o,children:e.children})}function ET(){var e=h.useContext(TT);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function $$(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function V$(e){return!!(e&&typeof e=="object"&&"from"in e)}function B$(e){return!!(e&&typeof e=="object"&&"after"in e)}function z$(e){return!!(e&&typeof e=="object"&&"before"in e)}function U$(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function q$(e,t){var n,s=t.from,a=t.to;if(s&&a){var i=ns(a,s)<0;i&&(n=[a,s],s=n[0],a=n[1]);var o=ns(e,s)>=0&&ns(a,e)>=0;return o}return a?On(a,e):s?On(s,e):!1}function W$(e){return Hx(e)}function Q$(e){return Array.isArray(e)&&e.every(Hx)}function H$(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(W$(n))return On(e,n);if(Q$(n))return n.includes(e);if(V$(n))return q$(e,n);if(U$(n))return n.dayOfWeek.includes(e.getDay());if($$(n)){var s=ns(n.before,e),a=ns(n.after,e),i=s>0,o=a<0,l=Jh(n.before,n.after);return l?o&&i:i||o}return B$(n)?ns(e,n.after)>0:z$(n)?ns(n.before,e)>0:typeof n=="function"?n(e):!1})}function hg(e,t,n){var s=Object.keys(t).reduce(function(i,o){var l=t[o];return H$(e,l)&&i.push(o),i},[]),a={};return s.forEach(function(i){return a[i]=!0}),n&&!Gx(e,n)&&(a.outside=!0),a}function K$(e,t){for(var n=Un(e[0]),s=Kx(e[e.length-1]),a,i,o=n;o<=s;){var l=hg(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Nn(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=Nn(o,1)}return i||a}var Y$=365;function DT(e,t){var n=t.moveBy,s=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,d=a.fromDate,f=a.toDate,m=a.locale,u={day:Nn,week:Xh,month:Br,year:$O,startOfWeek:function(j){return a.ISOWeek?Ni(j):us(j,{locale:m,weekStartsOn:c})},endOfWeek:function(j){return a.ISOWeek?Q2(j):Yx(j,{locale:m,weekStartsOn:c})}},y=u[n](e,s==="after"?1:-1);s==="before"&&d?y=VO([d,y]):s==="after"&&f&&(y=BO([f,y]));var v=!0;if(i){var g=hg(y,i);v=!g.disabled&&!g.hidden}return v?y:l.count>Y$?l.lastFocused:DT(y,{moveBy:n,direction:s,context:a,modifiers:i,retry:$e($e({},l),{count:l.count+1})})}var AT=h.createContext(void 0);function G$(e){var t=Qc(),n=ET(),s=h.useState(),a=s[0],i=s[1],o=h.useState(),l=o[0],c=o[1],d=K$(t.displayMonths,n),f=a??(l&&t.isDateDisplayed(l))?l:d,m=function(){c(a),i(void 0)},u=function(j){i(j)},y=St(),v=function(j,x){if(a){var p=DT(a,{moveBy:j,direction:x,context:y,modifiers:n});On(a,p)||(t.goToDate(p,a),u(p))}},g={focusedDay:a,focusTarget:f,blur:m,focus:u,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return r.jsx(AT.Provider,{value:g,children:e.children})}function pg(){var e=h.useContext(AT);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Z$(e,t){var n=ET(),s=hg(e,n,t);return s}var xg=h.createContext(void 0);function X$(e){if(!Tf(e.initialProps)){var t={selected:void 0};return r.jsx(xg.Provider,{value:t,children:e.children})}return r.jsx(J$,{initialProps:e.initialProps,children:e.children})}function J$(e){var t=e.initialProps,n=e.children,s=function(i,o,l){var c,d,f;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,l);return}(f=t.onSelect)===null||f===void 0||f.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:s};return r.jsx(xg.Provider,{value:a,children:n})}function RT(){var e=h.useContext(xg);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function eV(e,t){var n=St(),s=RT(),a=ug(),i=mg(),o=pg(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,f=o.focusWeekBefore,m=o.blur,u=o.focus,y=o.focusMonthBefore,v=o.focusMonthAfter,g=o.focusYearBefore,j=o.focusYearAfter,x=o.focusStartOfWeek,p=o.focusEndOfWeek,b=function(B){var P,W,re,ve;Tf(n)?(P=s.onDayClick)===null||P===void 0||P.call(s,e,t,B):qc(n)?(W=a.onDayClick)===null||W===void 0||W.call(a,e,t,B):Wc(n)?(re=i.onDayClick)===null||re===void 0||re.call(i,e,t,B):(ve=n.onDayClick)===null||ve===void 0||ve.call(n,e,t,B)},w=function(B){var P;u(e),(P=n.onDayFocus)===null||P===void 0||P.call(n,e,t,B)},C=function(B){var P;m(),(P=n.onDayBlur)===null||P===void 0||P.call(n,e,t,B)},_=function(B){var P;(P=n.onDayMouseEnter)===null||P===void 0||P.call(n,e,t,B)},N=function(B){var P;(P=n.onDayMouseLeave)===null||P===void 0||P.call(n,e,t,B)},k=function(B){var P;(P=n.onDayPointerEnter)===null||P===void 0||P.call(n,e,t,B)},F=function(B){var P;(P=n.onDayPointerLeave)===null||P===void 0||P.call(n,e,t,B)},L=function(B){var P;(P=n.onDayTouchCancel)===null||P===void 0||P.call(n,e,t,B)},S=function(B){var P;(P=n.onDayTouchEnd)===null||P===void 0||P.call(n,e,t,B)},D=function(B){var P;(P=n.onDayTouchMove)===null||P===void 0||P.call(n,e,t,B)},q=function(B){var P;(P=n.onDayTouchStart)===null||P===void 0||P.call(n,e,t,B)},V=function(B){var P;(P=n.onDayKeyUp)===null||P===void 0||P.call(n,e,t,B)},$=function(B){var P;switch(B.key){case"ArrowLeft":B.preventDefault(),B.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":B.preventDefault(),B.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":B.preventDefault(),B.stopPropagation(),d();break;case"ArrowUp":B.preventDefault(),B.stopPropagation(),f();break;case"PageUp":B.preventDefault(),B.stopPropagation(),B.shiftKey?g():y();break;case"PageDown":B.preventDefault(),B.stopPropagation(),B.shiftKey?j():v();break;case"Home":B.preventDefault(),B.stopPropagation(),x();break;case"End":B.preventDefault(),B.stopPropagation(),p();break}(P=n.onDayKeyDown)===null||P===void 0||P.call(n,e,t,B)},K={onClick:b,onFocus:w,onBlur:C,onKeyDown:$,onKeyUp:V,onMouseEnter:_,onMouseLeave:N,onPointerEnter:k,onPointerLeave:F,onTouchCancel:L,onTouchEnd:S,onTouchMove:D,onTouchStart:q};return K}function tV(){var e=St(),t=RT(),n=ug(),s=mg(),a=Tf(e)?t.selected:qc(e)?n.selected:Wc(e)?s.selected:void 0;return a}function nV(e){return Object.values(Ur).includes(e)}function rV(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(s){var a=e.modifiersClassNames[s];if(a)n.push(a);else if(nV(s)){var i=e.classNames["day_".concat(s)];i&&n.push(i)}}),n}function sV(e,t){var n=$e({},e.styles.day);return Object.keys(t).forEach(function(s){var a;n=$e($e({},n),(a=e.modifiersStyles)===null||a===void 0?void 0:a[s])}),n}function aV(e,t,n){var s,a,i,o=St(),l=pg(),c=Z$(e,t),d=eV(e,c),f=tV(),m=!!(o.onDayClick||o.mode!=="default");h.useEffect(function(){var _;c.outside||l.focusedDay&&m&&On(l.focusedDay,e)&&((_=n.current)===null||_===void 0||_.focus())},[l.focusedDay,e,n,m,c.outside]);var u=rV(o,c).join(" "),y=sV(o,c),v=!!(c.outside&&!o.showOutsideDays||c.hidden),g=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:P$,j=r.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),x={style:y,className:u,children:j,role:"gridcell"},p=l.focusTarget&&On(l.focusTarget,e)&&!c.outside,b=l.focusedDay&&On(l.focusedDay,e),w=$e($e($e({},x),(s={disabled:c.disabled,role:"gridcell"},s["aria-selected"]=c.selected,s.tabIndex=b||p?0:-1,s)),d),C={isButton:m,isHidden:v,activeModifiers:c,selectedDays:f,buttonProps:w,divProps:x};return C}function iV(e){var t=h.useRef(null),n=aV(e.date,e.displayMonth,t);return n.isHidden?r.jsx("div",{role:"gridcell"}):n.isButton?r.jsx(zu,$e({name:"day",ref:t},n.buttonProps)):r.jsx("div",$e({},n.divProps))}function oV(e){var t=e.number,n=e.dates,s=St(),a=s.onWeekNumberClick,i=s.styles,o=s.classNames,l=s.locale,c=s.labels.labelWeekNumber,d=s.formatters.formatWeekNumber,f=d(Number(t),{locale:l});if(!a)return r.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:f});var m=c(Number(t),{locale:l}),u=function(y){a(t,n,y)};return r.jsx(zu,{name:"week-number","aria-label":m,className:o.weeknumber,style:i.weeknumber,onClick:u,children:f})}function lV(e){var t,n,s=St(),a=s.styles,i=s.classNames,o=s.showWeekNumber,l=s.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:iV,d=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:oV,f;return o&&(f=r.jsx("td",{className:i.cell,style:a.cell,children:r.jsx(d,{number:e.weekNumber,dates:e.dates})})),r.jsxs("tr",{className:i.row,style:a.row,children:[f,e.dates.map(function(m){return r.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:r.jsx(c,{displayMonth:e.displayMonth,date:m})},V3(m))})]})}function l0(e,t,n){for(var s=n!=null&&n.ISOWeek?Q2(t):Yx(t,n),a=n!=null&&n.ISOWeek?Ni(e):us(e,n),i=ns(s,a),o=[],l=0;l<=i;l++)o.push(Nn(a,l));var c=o.reduce(function(d,f){var m=n!=null&&n.ISOWeek?K2(f):G2(f,n),u=d.find(function(y){return y.weekNumber===m});return u?(u.dates.push(f),d):(d.push({weekNumber:m,dates:[f]}),d)},[]);return c}function cV(e,t){var n=l0(Un(e),Kx(e),t);if(t!=null&&t.useFixedWeeks){var s=z3(e,t);if(s<6){var a=n[n.length-1],i=a.dates[a.dates.length-1],o=Xh(i,6-s),l=l0(Xh(i,1),o,t);n.push.apply(n,l)}}return n}function dV(e){var t,n,s,a=St(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,f=a.components,m=a.weekStartsOn,u=a.firstWeekContainsDate,y=a.ISOWeek,v=cV(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:y,locale:i,weekStartsOn:m,firstWeekContainsDate:u}),g=(t=f==null?void 0:f.Head)!==null&&t!==void 0?t:C$,j=(n=f==null?void 0:f.Row)!==null&&n!==void 0?n:lV,x=(s=f==null?void 0:f.Footer)!==null&&s!==void 0?s:w$;return r.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&r.jsx(g,{}),r.jsx("tbody",{className:o.tbody,style:l.tbody,children:v.map(function(p){return r.jsx(j,{displayMonth:e.displayMonth,dates:p.dates,weekNumber:p.weekNumber},p.weekNumber)})}),r.jsx(x,{displayMonth:e.displayMonth})]})}function uV(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var fV=uV()?h.useLayoutEffect:h.useEffect,Rm=!1,mV=0;function c0(){return"react-day-picker-".concat(++mV)}function hV(e){var t,n=e??(Rm?c0():null),s=h.useState(n),a=s[0],i=s[1];return fV(function(){a===null&&i(c0())},[]),h.useEffect(function(){Rm===!1&&(Rm=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function pV(e){var t,n,s=St(),a=s.dir,i=s.classNames,o=s.styles,l=s.components,c=Qc().displayMonths,d=hV(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),f=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,m=[i.month],u=o.month,y=e.displayIndex===0,v=e.displayIndex===c.length-1,g=!y&&!v;a==="rtl"&&(t=[y,v],v=t[0],y=t[1]),y&&(m.push(i.caption_start),u=$e($e({},u),o.caption_start)),v&&(m.push(i.caption_end),u=$e($e({},u),o.caption_end)),g&&(m.push(i.caption_between),u=$e($e({},u),o.caption_between));var j=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:j$;return r.jsxs("div",{className:m.join(" "),style:u,children:[r.jsx(j,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),r.jsx(dV,{id:f,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function xV(e){var t=St(),n=t.classNames,s=t.styles;return r.jsx("div",{className:n.months,style:s.months,children:e.children})}function gV(e){var t,n,s=e.initialProps,a=St(),i=pg(),o=Qc(),l=h.useState(!1),c=l[0],d=l[1];h.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var f=[a.classNames.root,a.className];a.numberOfMonths>1&&f.push(a.classNames.multiple_months),a.showWeekNumber&&f.push(a.classNames.with_weeknumber);var m=$e($e({},a.styles.root),a.style),u=Object.keys(s).filter(function(v){return v.startsWith("data-")}).reduce(function(v,g){var j;return $e($e({},v),(j={},j[g]=s[g],j))},{}),y=(n=(t=s.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:xV;return r.jsx("div",$e({className:f.join(" "),style:m,dir:a.dir,id:a.id,nonce:s.nonce,title:s.title,lang:s.lang},u,{children:r.jsx(y,{children:o.displayMonths.map(function(v,g){return r.jsx(pV,{displayIndex:g,displayMonth:v},g)})})}))}function yV(e){var t=e.children,n=z8(e,["children"]);return r.jsx(o$,{initialProps:n,children:r.jsx(g$,{children:r.jsx(X$,{initialProps:n,children:r.jsx(_$,{initialProps:n,children:r.jsx(E$,{initialProps:n,children:r.jsx(L$,{children:r.jsx(G$,{children:t})})})})})})})}function vV(e){return r.jsx(yV,$e({},e,{children:r.jsx(gV,{initialProps:e})}))}function IT({className:e,classNames:t,showOutsideDays:n=!0,...s}){return r.jsx(vV,{showOutsideDays:n,className:Se("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Se(Gh({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Se(Gh({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:a,...i})=>r.jsx(O4,{className:Se("h-4 w-4",a),...i}),IconRight:({className:a,...i})=>r.jsx(L4,{className:Se("h-4 w-4",a),...i})},...s})}IT.displayName="Calendar";var gg="Popover",[FT,l9]=hs(gg,[Jo]),Hc=Jo(),[bV,za]=FT(gg),MT=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Hc(t),c=h.useRef(null),[d,f]=h.useState(!1),[m=!1,u]=Na({prop:s,defaultProp:a,onChange:i});return r.jsx(JC,{...l,children:r.jsx(bV,{scope:t,contentId:Es(),triggerRef:c,open:m,onOpenChange:u,onOpenToggle:h.useCallback(()=>u(y=>!y),[u]),hasCustomAnchor:d,onCustomAnchorAdd:h.useCallback(()=>f(!0),[]),onCustomAnchorRemove:h.useCallback(()=>f(!1),[]),modal:o,children:n})})};MT.displayName=gg;var OT="PopoverAnchor",jV=h.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=za(OT,n),i=Hc(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return h.useEffect(()=>(o(),()=>l()),[o,l]),r.jsx(mf,{...i,...s,ref:t})});jV.displayName=OT;var LT="PopoverTrigger",$T=h.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=za(LT,n),i=Hc(n),o=pt(t,a.triggerRef),l=r.jsx(Ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":qT(a.open),...s,ref:o,onClick:Te(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:r.jsx(mf,{asChild:!0,...i,children:l})});$T.displayName=LT;var yg="PopoverPortal",[wV,NV]=FT(yg,{forceMount:void 0}),VT=e=>{const{__scopePopover:t,forceMount:n,children:s,container:a}=e,i=za(yg,t);return r.jsx(wV,{scope:t,forceMount:n,children:r.jsx(Bs,{present:n||i.open,children:r.jsx(Rc,{asChild:!0,container:a,children:s})})})};VT.displayName=yg;var Uo="PopoverContent",BT=h.forwardRef((e,t)=>{const n=NV(Uo,e.__scopePopover),{forceMount:s=n.forceMount,...a}=e,i=za(Uo,e.__scopePopover);return r.jsx(Bs,{present:s||i.open,children:i.modal?r.jsx(CV,{...a,ref:t}):r.jsx(PV,{...a,ref:t})})});BT.displayName=Uo;var SV=yi("PopoverContent.RemoveScroll"),CV=h.forwardRef((e,t)=>{const n=za(Uo,e.__scopePopover),s=h.useRef(null),a=pt(t,s),i=h.useRef(!1);return h.useEffect(()=>{const o=s.current;if(o)return Vx(o)},[]),r.jsx(yf,{as:SV,allowPinchZoom:!0,children:r.jsx(zT,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Te(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Te(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Te(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),PV=h.forwardRef((e,t)=>{const n=za(Uo,e.__scopePopover),s=h.useRef(!1),a=h.useRef(!1);return r.jsx(zT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),zT=h.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,...m}=e,u=za(Uo,n),y=Hc(n);return $x(),r.jsx(xf,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:r.jsx(Yo,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>u.onOpenChange(!1),children:r.jsx(Mx,{"data-state":qT(u.open),role:"dialog",id:u.contentId,...y,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),UT="PopoverClose",_V=h.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=za(UT,n);return r.jsx(Ue.button,{type:"button",...s,ref:t,onClick:Te(e.onClick,()=>a.onOpenChange(!1))})});_V.displayName=UT;var kV="PopoverArrow",TV=h.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=Hc(n);return r.jsx(Ox,{...a,...s,ref:t})});TV.displayName=kV;function qT(e){return e?"open":"closed"}var EV=MT,DV=$T,AV=VT,WT=BT;const RV=EV,IV=DV,QT=h.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},a)=>r.jsx(AV,{children:r.jsx(WT,{ref:a,align:t,sideOffset:n,className:Se("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...s})}));QT.displayName=WT.displayName;const FV=o8.extend({paymentDate:xe.date()});function MV(){const[e,t]=h.useState(null),[n,s]=h.useState(!1),[a,i]=h.useState("");h.useState("all");const[o,l]=h.useState("all");h.useState({});const{toast:c}=Jt(),d=qr(),{data:f=[],isLoading:m}=We({queryKey:["/api/payment-records"],queryFn:()=>Je("/api/payment-records")}),{data:u=[]}=We({queryKey:["/api/invoices"],queryFn:()=>Je("/api/invoices")});We({queryKey:["/api/customers"],queryFn:()=>Je("/api/customers")});const y=h.useMemo(()=>u.map(S=>{const D=f.filter(K=>K.invoiceId===S.id||K.invoiceNumber===S.invoiceNumber),q=parseFloat(S.paidAmount||"0");parseFloat(S.totalAmount);const V=parseFloat(S.remainingAmount||"0");let $=S.paymentStatus||"pending";return $==="pending"&&S.dueDate&&new Date(S.dueDate)<new Date&&($="overdue"),{...S,relatedPayments:D,totalPaid:q,remainingAmount:V,calculatedPaymentStatus:$}}),[u,f]),v=f.reduce((S,D)=>S+parseFloat(D.amount),0);new Set(u.map(S=>S.customerId)).size,f.length>0&&v/f.length;const g=y.filter(S=>S.calculatedPaymentStatus==="completed"),j=y.filter(S=>S.calculatedPaymentStatus==="partial"),x=y.filter(S=>S.calculatedPaymentStatus==="pending"),p=y.filter(S=>S.calculatedPaymentStatus==="overdue"),b=y.reduce((S,D)=>S+D.remainingAmount,0),w=oi({resolver:ci(FV),defaultValues:{paymentDate:new Date,paymentMethod:"cash",status:"recorded"}}),C=yt({mutationFn:async S=>{const D={...S,paymentDate:S.paymentDate.toISOString()};return Je("/api/payment-records","POST",D)},onSuccess:()=>{c({title:"Success",description:"Payment record created successfully"}),s(!1),w.reset(),d.invalidateQueries({queryKey:["/api/payment-records"]}),d.invalidateQueries({queryKey:["/api/invoices"]})},onError:S=>{c({title:"Error",description:S.message||"Failed to create payment record",variant:"destructive"})}}),_=S=>{const D=u.find(q=>q.id===S);if(D){t(D),w.setValue("invoiceId",D.id),w.setValue("invoiceNumber",D.invoiceNumber),w.setValue("customerId",D.customerId||""),w.setValue("customerName",D.customerName);const q=JSON.parse(localStorage.getItem("user")||"{}");w.setValue("recordedBy",q.id||""),w.setValue("recordedByName",q.fullName||"")}},N=S=>{C.mutate(S)},k=S=>{const D={completed:{label:"Fully Paid",color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",icon:br},partial:{label:"Partially Paid",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",icon:Ca},pending:{label:"Pending",color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",icon:Ca},overdue:{label:"Overdue",color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",icon:ac}},q=D[S]||D.pending,V=q.icon;return r.jsxs(Pe,{className:`${q.color} flex items-center gap-1`,children:[r.jsx(V,{className:"h-3 w-3"}),q.label]})},F=S=>({cash:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",card:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",bank_transfer:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",mobile_wallet:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300",cheque:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"})[S]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300",L=y.filter(S=>{var V,$;const D=((V=S.customerName)==null?void 0:V.toLowerCase().includes(a.toLowerCase()))||(($=S.invoiceNumber)==null?void 0:$.toLowerCase().includes(a.toLowerCase())),q=o==="all"||S.calculatedPaymentStatus===o;return D&&q});return r.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:"Payment Records"}),r.jsx("p",{className:"text-muted-foreground",children:"Track invoice payment status and manage payment records"})]}),r.jsxs(Pn,{open:n,onOpenChange:s,children:[r.jsx(Su,{asChild:!0,children:r.jsxs(G,{"data-testid":"button-record-payment",children:[r.jsx(is,{className:"h-4 w-4 mr-2"}),"Record Payment"]})}),r.jsxs(kn,{className:"max-w-2xl",children:[r.jsxs(Bn,{children:[r.jsx(zn,{children:"Record New Payment"}),r.jsx(ls,{children:"Record a payment received for an invoice. This maintains separate payment tracking from FBR compliance."})]}),r.jsx(li,{...w,children:r.jsxs("form",{onSubmit:w.handleSubmit(N),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Me,{control:w.control,name:"invoiceId",render:({field:S})=>r.jsxs(Re,{className:"col-span-2",children:[r.jsx(Oe,{children:"Select Invoice"}),r.jsxs(bt,{onValueChange:D=>{S.onChange(D),_(D)},value:S.value,children:[r.jsx(Ie,{children:r.jsx(xt,{"data-testid":"select-invoice",children:r.jsx(jt,{placeholder:"Choose an invoice"})})}),r.jsxs(gt,{children:[u.filter(D=>D.paymentStatus!=="completed").map(D=>r.jsxs(ae,{value:D.id,children:[D.invoiceNumber," - ",D.customerName," - PKR ",D.totalAmount,D.paymentStatus==="partial"&&" (Partial)",(!D.paymentStatus||D.paymentStatus==="pending")&&" (Pending)"]},D.id)),u.filter(D=>D.paymentStatus!=="completed").length===0&&r.jsx(ae,{value:"",disabled:!0,children:"No pending invoices available"})]})]}),r.jsx(Fe,{})]})}),r.jsx(Me,{control:w.control,name:"amount",render:({field:S})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Payment Amount (PKR)"}),r.jsx(Ie,{children:r.jsx(ue,{...S,type:"number",step:"0.01",placeholder:"0.00","data-testid":"input-payment-amount"})}),r.jsx(Fe,{})]})}),r.jsx(Me,{control:w.control,name:"paymentDate",render:({field:S})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Payment Date"}),r.jsxs(RV,{children:[r.jsx(IV,{asChild:!0,children:r.jsx(Ie,{children:r.jsxs(G,{variant:"outline",className:Se("w-full pl-3 text-left font-normal",!S.value&&"text-muted-foreground"),"data-testid":"button-payment-date",children:[S.value?Zt(S.value,"PPP"):r.jsx("span",{children:"Pick a date"}),r.jsx(vi,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),r.jsx(QT,{className:"w-auto p-0",align:"start",children:r.jsx(IT,{mode:"single",selected:S.value,onSelect:S.onChange,disabled:D=>D>new Date||D<new Date("1900-01-01"),initialFocus:!0})})]}),r.jsx(Fe,{})]})}),r.jsx(Me,{control:w.control,name:"paymentMethod",render:({field:S})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Payment Method"}),r.jsxs(bt,{onValueChange:S.onChange,value:S.value,children:[r.jsx(Ie,{children:r.jsx(xt,{"data-testid":"select-payment-method",children:r.jsx(jt,{placeholder:"Select method"})})}),r.jsxs(gt,{children:[r.jsx(ae,{value:"cash",children:"Cash"}),r.jsx(ae,{value:"card",children:"Card"}),r.jsx(ae,{value:"bank_transfer",children:"Bank Transfer"}),r.jsx(ae,{value:"mobile_wallet",children:"Mobile Wallet"}),r.jsx(ae,{value:"cheque",children:"Cheque"})]})]}),r.jsx(Fe,{})]})}),r.jsx(Me,{control:w.control,name:"transactionReference",render:({field:S})=>r.jsxs(Re,{className:"col-span-2",children:[r.jsx(Oe,{children:"Transaction Reference (Optional)"}),r.jsx(Ie,{children:r.jsx(ue,{...S,placeholder:"Transaction ID, cheque number, etc.","data-testid":"input-transaction-reference"})}),r.jsx(Fe,{})]})}),r.jsx(Me,{control:w.control,name:"notes",render:({field:S})=>r.jsxs(Re,{className:"col-span-2",children:[r.jsx(Oe,{children:"Notes (Optional)"}),r.jsx(Ie,{children:r.jsx(Mr,{...S,placeholder:"Additional notes about this payment...","data-testid":"textarea-payment-notes",value:S.value||""})}),r.jsx(Fe,{})]})})]}),r.jsxs(Wx,{children:[r.jsx(G,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),r.jsx(G,{type:"submit",disabled:C.isPending,"data-testid":"button-save-payment",children:C.isPending?"Saving...":"Save Payment"})]})]})})]})]})]}),r.jsxs(kf,{defaultValue:"overview",className:"space-y-6",children:[r.jsxs(Uc,{className:"grid w-full grid-cols-3",children:[r.jsx(Gn,{value:"overview",children:"Payment Overview"}),r.jsx(Gn,{value:"tracking",children:"Invoice Payment Tracking"}),r.jsx(Gn,{value:"records",children:"Payment Records"})]}),r.jsx(Zn,{value:"overview",className:"space-y-6",children:r.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[r.jsxs(ie,{children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[r.jsx(he,{className:"text-sm font-medium",children:"Total Collected"}),r.jsx(Cs,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(oe,{className:"pt-0",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600 mb-1",children:["Rs ",v.toLocaleString()]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",f.length," payment transactions"]})]})]}),r.jsxs(ie,{children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[r.jsx(he,{className:"text-sm font-medium",children:"Outstanding Amount"}),r.jsx(gr,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(oe,{className:"pt-0",children:[r.jsxs("div",{className:"text-2xl font-bold text-orange-600 mb-1",children:["Rs ",b.toLocaleString()]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending collections"})]})]}),r.jsxs(ie,{children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[r.jsx(he,{className:"text-sm font-medium",children:"Paid Invoices"}),r.jsx(br,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(oe,{className:"pt-0",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:g.length}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.length," partially paid"]})]})]}),r.jsxs(ie,{children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[r.jsx(he,{className:"text-sm font-medium",children:"Overdue Invoices"}),r.jsx(ac,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(oe,{className:"pt-0",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600 mb-1",children:p.length}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[x.length," pending"]})]})]})]})}),r.jsxs(Zn,{value:"tracking",className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Pa,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ue,{placeholder:"Search invoices...",value:a,onChange:S=>i(S.target.value),className:"pl-10","data-testid":"input-search-invoices"})]}),r.jsxs(bt,{value:o,onValueChange:l,children:[r.jsx(xt,{className:"w-48",children:r.jsx(jt,{placeholder:"Filter by status"})}),r.jsxs(gt,{children:[r.jsx(ae,{value:"all",children:"All Status"}),r.jsx(ae,{value:"completed",children:"Fully Paid"}),r.jsx(ae,{value:"partial",children:"Partially Paid"}),r.jsx(ae,{value:"pending",children:"Pending"}),r.jsx(ae,{value:"overdue",children:"Overdue"})]})]})]}),r.jsx("div",{className:"rounded-lg border overflow-hidden shadow-sm",children:r.jsxs(mn,{children:[r.jsx(hn,{children:r.jsxs(Xe,{className:"bg-muted/50",children:[r.jsx(J,{className:"font-semibold",children:"Invoice"}),r.jsx(J,{className:"font-semibold",children:"Customer"}),r.jsx(J,{className:"font-semibold",children:"Total Amount"}),r.jsx(J,{className:"font-semibold",children:"Paid Amount"}),r.jsx(J,{className:"font-semibold",children:"Remaining"}),r.jsx(J,{className:"font-semibold",children:"Payment Status"}),r.jsx(J,{className:"font-semibold",children:"Due Date"}),r.jsx(J,{className:"font-semibold",children:"Actions"})]})}),r.jsx(pn,{children:L.length===0?r.jsx(Xe,{children:r.jsx(Y,{colSpan:8,className:"h-24 text-center",children:"No invoices found matching your criteria."})}):L.map(S=>r.jsxs(Xe,{className:"hover:bg-muted/25",children:[r.jsx(Y,{className:"font-medium py-4",children:S.invoiceNumber}),r.jsx(Y,{className:"py-4",children:S.customerName}),r.jsxs(Y,{className:"py-4",children:["Rs ",parseFloat(S.totalAmount).toLocaleString()]}),r.jsxs(Y,{className:"text-green-600 py-4",children:["Rs ",S.totalPaid.toLocaleString()]}),r.jsxs(Y,{className:"text-orange-600 py-4",children:["Rs ",S.remainingAmount.toLocaleString()]}),r.jsx(Y,{className:"py-4",children:k(S.calculatedPaymentStatus)}),r.jsx(Y,{className:"py-4",children:S.dueDate?Zt(new Date(S.dueDate),"MMM dd, yyyy"):"No due date"}),r.jsx(Y,{className:"py-4",children:r.jsx("div",{className:"flex items-center gap-2",children:S.calculatedPaymentStatus!=="completed"?r.jsx(G,{variant:"outline",size:"sm",onClick:()=>{_(S.id),s(!0)},"data-testid":`button-record-payment-${S.id}`,children:"Record Payment"}):r.jsx(Pe,{variant:"outline",className:"text-green-600 border-green-600",children:"Fully Paid"})})})]},S.id))})]})})]}),r.jsx(Zn,{value:"records",className:"space-y-6",children:r.jsx("div",{className:"rounded-lg border overflow-hidden shadow-sm",children:r.jsxs(mn,{children:[r.jsx(hn,{children:r.jsxs(Xe,{className:"bg-muted/50",children:[r.jsx(J,{className:"font-semibold",children:"Date"}),r.jsx(J,{className:"font-semibold",children:"Invoice"}),r.jsx(J,{className:"font-semibold",children:"Customer"}),r.jsx(J,{className:"font-semibold",children:"Amount"}),r.jsx(J,{className:"font-semibold",children:"Method"}),r.jsx(J,{className:"font-semibold",children:"Reference"}),r.jsx(J,{className:"font-semibold",children:"Status"})]})}),r.jsx(pn,{children:f.length===0?r.jsx(Xe,{children:r.jsx(Y,{colSpan:7,className:"h-24 text-center",children:"No payment records found."})}):f.map(S=>r.jsxs(Xe,{className:"hover:bg-muted/25",children:[r.jsx(Y,{className:"py-4",children:Zt(new Date(S.paymentDate),"MMM dd, yyyy")}),r.jsx(Y,{className:"font-medium py-4",children:S.invoiceNumber}),r.jsx(Y,{className:"py-4",children:S.customerName}),r.jsxs(Y,{className:"text-green-600 py-4",children:["Rs ",parseFloat(S.amount).toLocaleString()]}),r.jsx(Y,{className:"py-4",children:r.jsx(Pe,{className:F(S.paymentMethod),children:S.paymentMethod.replace("_"," ").toUpperCase()})}),r.jsx(Y,{className:"text-sm text-muted-foreground py-4",children:S.referenceNumber||"N/A"}),r.jsx(Y,{className:"py-4",children:r.jsx(Pe,{variant:"outline",children:S.status})})]},S.id))})]})})})]})]})}function OV({order:e,isOpen:t,onClose:n}){const{toast:s}=Jt(),[a,i]=h.useState([]),[o,l]=h.useState(!1),[c,d]=h.useState({to:(e==null?void 0:e.customerEmail)||"",subject:`Sale Order ${e==null?void 0:e.orderNumber} - ${e==null?void 0:e.customerName}`,message:`Dear ${e==null?void 0:e.customerName},

Please find attached your sale order details.

Thank you for your business!

Best regards,
Your Sales Team`}),[f,m]=h.useState(!1),[u,y]=h.useState(!1);h.useEffect(()=>{e&&t&&v()},[e,t]);const v=async()=>{if(e!=null&&e.id){l(!0);try{const C=await(await Je(`/api/sale-orders/${e.id}/items`)).json();i(C)}catch(w){console.error("Failed to fetch order items:",w),i([])}finally{l(!1)}}};if(!e)return null;const g=async()=>{try{const w=await fetch(`/api/sale-orders/${e.id}/pdf`);if(w.ok){const C=await w.blob(),_=URL.createObjectURL(C),N=document.createElement("a");N.href=_,N.download=`SaleOrder-${e.orderNumber}.pdf`,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(_),s({title:"PDF Downloaded",description:`Sale order ${e.orderNumber} has been downloaded`})}else throw new Error("Failed to generate PDF")}catch{s({title:"Download Failed",description:"Failed to download sale order PDF. Please try again.",variant:"destructive"})}},j=async()=>{if(!c.to){s({title:"Email Required",description:"Please enter a valid email address",variant:"destructive"});return}m(!0);try{await Je("/api/sale-orders/email","POST",{orderId:e.id,to:c.to,subject:c.subject,message:c.message}),s({title:"Email Sent",description:`Sale order sent to ${c.to}`}),y(!1)}catch{s({title:"Email Failed",description:"Failed to send email. Please try again.",variant:"destructive"})}finally{m(!1)}},x=async()=>{if(navigator.share)try{await navigator.share({title:`Sale Order ${e.orderNumber}`,text:`Sale Order for ${e.customerName} - Total: ${z(parseFloat(e.totalAmount))}`,url:window.location.href})}catch{navigator.clipboard.writeText(`Sale Order ${e.orderNumber} for ${e.customerName}`),s({title:"Copied to Clipboard",description:"Sale order details copied to clipboard"})}else navigator.clipboard.writeText(`Sale Order ${e.orderNumber} for ${e.customerName}`),s({title:"Copied to Clipboard",description:"Sale order details copied to clipboard"})},b=(w=>{const C={pending:{label:"Pending",color:"bg-yellow-100 text-yellow-800 border-yellow-200"},confirmed:{label:"Confirmed",color:"bg-blue-100 text-blue-800 border-blue-200"},"in-progress":{label:"In Progress",color:"bg-orange-100 text-orange-800 border-orange-200"},ready:{label:"Ready",color:"bg-purple-100 text-purple-800 border-purple-200"},delivered:{label:"Delivered",color:"bg-green-100 text-green-800 border-green-200"}};return C[w]||C.pending})(e.status);return r.jsx(Pn,{open:t,onOpenChange:n,children:r.jsxs(kn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Bn,{children:r.jsxs(zn,{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Sale Order Details"}),r.jsx(Pe,{className:b.color,children:b.label})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(ie,{children:[r.jsx(fe,{children:r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(er,{className:"w-5 h-5"}),"Order #",e.orderNumber]})}),r.jsxs(oe,{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Mc,{className:"w-4 h-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx(Ee,{className:"text-sm font-medium",children:"Customer"}),r.jsx("p",{className:"text-sm",children:e.customerName})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vi,{className:"w-4 h-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx(Ee,{className:"text-sm font-medium",children:"Order Date"}),r.jsx("p",{className:"text-sm",children:new Date(e.orderDate).toLocaleDateString()})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vi,{className:"w-4 h-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx(Ee,{className:"text-sm font-medium",children:"Expected Delivery"}),r.jsx("p",{className:"text-sm",children:new Date(e.expectedDeliveryDate).toLocaleDateString()})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(er,{className:"w-4 h-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx(Ee,{className:"text-sm font-medium",children:"Total Amount"}),r.jsx("p",{className:"text-lg font-bold text-primary",children:z(parseFloat(e.totalAmount))})]})]})]})]})]}),r.jsxs(ie,{children:[r.jsx(fe,{children:r.jsx(he,{children:"Order Items"})}),r.jsx(oe,{children:r.jsxs(mn,{children:[r.jsx(hn,{children:r.jsxs(Xe,{children:[r.jsx(J,{children:"Product"}),r.jsx(J,{children:"Quantity"}),r.jsx(J,{children:"Unit Price"}),r.jsx(J,{children:"Discount"}),r.jsx(J,{children:"Total"})]})}),r.jsx(pn,{children:o?r.jsx(Xe,{children:r.jsx(Y,{colSpan:5,className:"text-center",children:"Loading items..."})}):a.length>0?a.map((w,C)=>{const _=parseFloat(w.unitPrice)*w.quantity-parseFloat(w.discount||"0");return r.jsxs(Xe,{children:[r.jsx(Y,{className:"font-medium",children:w.productName}),r.jsx(Y,{children:w.quantity}),r.jsx(Y,{children:z(parseFloat(w.unitPrice))}),r.jsx(Y,{children:z(parseFloat(w.discount||"0"))}),r.jsx(Y,{className:"font-medium",children:z(_)})]},C)}):r.jsx(Xe,{children:r.jsx(Y,{colSpan:5,className:"text-center text-muted-foreground",children:"No items found"})})})]})})]}),r.jsxs(ie,{children:[r.jsx(fe,{children:r.jsx(he,{children:"Order Summary"})}),r.jsx(oe,{children:r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal:"}),r.jsx("span",{children:z(parseFloat(e.subtotal||e.totalAmount))})]}),e.discountAmount&&parseFloat(e.discountAmount)>0&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Discount:"}),r.jsxs("span",{children:["-",z(parseFloat(e.discountAmount))]})]}),r.jsx("div",{className:"border-t pt-2",children:r.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[r.jsx("span",{children:"Total Amount:"}),r.jsx("span",{className:"text-primary",children:z(parseFloat(e.totalAmount))})]})}),e.paymentTerms&&r.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Payment Terms"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Terms:"}),r.jsx("span",{children:e.paymentTerms})]}),e.advanceAmount&&parseFloat(e.advanceAmount)>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Advance Amount:"}),r.jsx("span",{children:z(parseFloat(e.advanceAmount))})]}),e.remainingAmount&&parseFloat(e.remainingAmount)>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Remaining Amount:"}),r.jsx("span",{children:z(parseFloat(e.remainingAmount))})]}),e.paymentDueDate&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Payment Due:"}),r.jsx("span",{children:new Date(e.paymentDueDate).toLocaleDateString()})]})]})]})]})})]}),e.specialInstructions&&r.jsxs(ie,{children:[r.jsx(fe,{children:r.jsx(he,{children:"Special Instructions"})}),r.jsx(oe,{children:r.jsx("p",{className:"text-sm",children:e.specialInstructions})})]}),u&&r.jsxs(ie,{children:[r.jsx(fe,{children:r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(Ro,{className:"w-5 h-5"}),"Send Email"]})}),r.jsxs(oe,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Ee,{htmlFor:"email-to",children:"To"}),r.jsx(ue,{id:"email-to",type:"email",value:c.to,onChange:w=>d(C=>({...C,to:w.target.value})),placeholder:"customer@example.com"})]}),r.jsxs("div",{children:[r.jsx(Ee,{htmlFor:"email-subject",children:"Subject"}),r.jsx(ue,{id:"email-subject",value:c.subject,onChange:w=>d(C=>({...C,subject:w.target.value}))})]}),r.jsxs("div",{children:[r.jsx(Ee,{htmlFor:"email-message",children:"Message"}),r.jsx(Mr,{id:"email-message",value:c.message,onChange:w=>d(C=>({...C,message:w.target.value})),rows:4})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(G,{onClick:j,disabled:f,children:[r.jsx(Nx,{className:"w-4 h-4 mr-2"}),f?"Sending...":"Send Email"]}),r.jsx(G,{variant:"outline",onClick:()=>y(!1),children:"Cancel"})]})]})]})]}),r.jsxs(Wx,{className:"flex justify-between",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(G,{variant:"outline",onClick:x,children:[r.jsx(G4,{className:"w-4 h-4 mr-2"}),"Share"]}),r.jsxs(G,{variant:"outline",onClick:()=>y(!u),children:[r.jsx(Ro,{className:"w-4 h-4 mr-2"}),"Email"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(G,{variant:"outline",onClick:g,children:[r.jsx(Tr,{className:"w-4 h-4 mr-2"}),"Download PDF"]}),r.jsx(G,{variant:"outline",onClick:n,children:"Close"})]})]})]})})}function LV(){var I;const{user:e}=zs(),{toast:t}=Jt(),[n,s]=h.useState({customerId:"",customerName:"",items:[],subtotal:0,discountAmount:0,totalAmount:0,notes:"",expectedDeliveryDate:"",paymentTerms:"",advanceAmount:0,creditDays:30,paymentDueDate:""}),[a,i]=h.useState(""),[o,l]=h.useState(1),[c,d]=h.useState(""),[f,m]=h.useState("all"),[u,y]=h.useState("all"),[v,g]=h.useState(null),[j,x]=h.useState(!1),{data:p=[]}=We({queryKey:["/api/customers"]}),{data:b=[]}=We({queryKey:["/api/products"]}),{data:w=[],isLoading:C}=We({queryKey:["/api/sale-orders"]}),_=yt({mutationFn:async M=>Je("POST","/api/sale-orders",M),onSuccess:()=>{t({title:"Order Created",description:"Sale order has been created successfully"}),s({customerId:"",customerName:"",items:[],subtotal:0,discountAmount:0,totalAmount:0,notes:"",expectedDeliveryDate:"",paymentTerms:"",advanceAmount:0,creditDays:30,paymentDueDate:""}),Cn.invalidateQueries({queryKey:["/api/sale-orders"]}),Cn.refetchQueries({queryKey:["/api/sale-orders"]})},onError:M=>{t({title:"Error",description:M.message||"Failed to create order",variant:"destructive"})}}),N=yt({mutationFn:async({id:M,status:ce})=>Je("PATCH",`/api/sale-orders/${M}/status`,{status:ce}),onSuccess:()=>{t({title:"Status Updated",description:"Order status has been updated successfully"}),Cn.invalidateQueries({queryKey:["/api/sale-orders"]}),Cn.refetchQueries({queryKey:["/api/sale-orders"]}),Cn.invalidateQueries({queryKey:["/api/invoices"]}),Cn.refetchQueries({queryKey:["/api/invoices"]})},onError:M=>{t({title:"Error",description:M.message||"Failed to update status",variant:"destructive"})}}),k=()=>{const M=b.find(X=>X.id===a);if(!M){t({title:"Error",description:"Please select a product",variant:"destructive"});return}const ce=n.items.findIndex(X=>X.productId===M.id);if(ce!==-1){const X=n.items.map((U,se)=>{if(se===ce){const ke=U.quantity+o,Ne=ke*U.unitPrice;return{...U,quantity:ke,totalAmount:Ne-U.discount}}return U}),De=X.reduce((U,se)=>U+se.quantity*se.unitPrice,0),Be=X.reduce((U,se)=>U+se.discount,0),E=De-Be-n.discountAmount;s({...n,items:X,subtotal:De,totalAmount:E})}else{const X=parseFloat(M.unitPrice),De=o*X,Be={productId:M.id,productName:M.name,quantity:o,unitPrice:X,discount:0,totalAmount:De},E=[...n.items,Be],U=E.reduce((Ne,qe)=>Ne+qe.quantity*qe.unitPrice,0),se=E.reduce((Ne,qe)=>Ne+qe.discount,0),ke=U-se-n.discountAmount;s({...n,items:E,subtotal:U,totalAmount:ke})}i(""),l(1)},F=M=>{const ce=n.items.filter((E,U)=>U!==M),X=ce.reduce((E,U)=>E+U.quantity*U.unitPrice,0),De=ce.reduce((E,U)=>E+U.discount,0),Be=X-De-n.discountAmount;s({...n,items:ce,subtotal:X,totalAmount:Be})},L=(M,ce,X)=>{const De=n.items.map((se,ke)=>{if(ke===M){const Ne={...se,[ce]:ce==="quantity"||ce==="unitPrice"||ce==="discount"?parseFloat(X)||0:X},qe=Ne.quantity*Ne.unitPrice;return Ne.totalAmount=qe-Ne.discount,Ne}return se}),Be=De.reduce((se,ke)=>se+ke.quantity*ke.unitPrice,0),E=De.reduce((se,ke)=>se+ke.discount,0),U=Be-E-n.discountAmount;s({...n,items:De,subtotal:Be,totalAmount:U})},S=M=>{const ce=p.find(X=>X.id===M);s({...n,customerId:M,customerName:(ce==null?void 0:ce.name)||""})},D=()=>{if(!e)return;if(!n.customerId||n.items.length===0||!n.paymentTerms){t({title:"Validation Error",description:"Please select a customer, add at least one item, and choose payment terms",variant:"destructive"});return}const M=n.paymentTerms==="credit"?new Date(Date.now()+n.creditDays*24*60*60*1e3).toISOString():n.paymentDueDate,ce={customerId:n.customerId,customerName:n.customerName,userId:e.id,totalAmount:n.totalAmount,notes:n.notes,expectedDeliveryDate:n.expectedDeliveryDate?new Date(n.expectedDeliveryDate).toISOString():new Date(Date.now()+7*24*60*60*1e3).toISOString(),paymentTerms:n.paymentTerms,advanceAmount:n.advanceAmount.toString(),remainingAmount:(n.totalAmount-n.advanceAmount).toString(),creditDays:n.creditDays,paymentDueDate:M,paymentStatus:n.advanceAmount>=n.totalAmount?"paid":n.advanceAmount>0?"partial":"unpaid",items:n.items.map(X=>({productId:X.productId,productName:X.productName,quantity:X.quantity,unitPrice:X.unitPrice,totalAmount:X.totalAmount}))};_.mutate(ce)},q=M=>{const ce={pending:{icon:Ca,color:"bg-yellow-100 text-yellow-800",label:"Pending"},confirmed:{icon:Nl,color:"bg-blue-100 text-blue-800",label:"Confirmed"},"in-progress":{icon:er,color:"bg-orange-100 text-orange-800",label:"In Progress"},ready:{icon:av,color:"bg-purple-100 text-purple-800",label:"Ready"},delivered:{icon:Nl,color:"bg-green-100 text-green-800",label:"Delivered"}};return ce[M]||ce.pending},V=M=>{const ce={advance:{icon:Ts,color:"bg-green-100 text-green-800",label:"Advance",description:"Paid in advance"},cod:{icon:$d,color:"bg-blue-100 text-blue-800",label:"COD",description:"Cash on delivery"},credit:{icon:ba,color:"bg-orange-100 text-orange-800",label:"Credit",description:"Payment after delivery"},partial:{icon:Cs,color:"bg-purple-100 text-purple-800",label:"Partial",description:"Partial payment"}};return ce[M]||ce.cod},$=M=>({pending:"confirmed",confirmed:"in-progress","in-progress":"ready",ready:"delivered"})[M],K=M=>({pending:"Confirmed",confirmed:"In Progress","in-progress":"Ready",ready:"Delivered"})[M],B=Array.isArray(w)?w.filter(M=>{const ce=(M.customerName||"").toLowerCase().includes(c.toLowerCase())||(M.orderNumber||"").toLowerCase().includes(c.toLowerCase()),X=f==="all"||M.status===f,De=u==="all"||(M.paymentTerms||"cod")===u;return ce&&X&&De}):[],P=Array.isArray(w)?w.reduce((M,ce)=>(M[ce.status]=(M[ce.status]||0)+1,M),{}):{},W=Array.isArray(w)?w.reduce((M,ce)=>{const X=ce.paymentTerms||"cod";return M[X]=(M[X]||0)+1,M},{}):{},re=M=>P[M]||0,ve=M=>W[M]||0,Qe=M=>{g(M),x(!0)},kt=async M=>{try{const ce=await fetch(`/api/sale-orders/${M.id}/pdf`);if(ce.ok){const X=await ce.blob(),De=URL.createObjectURL(X),Be=document.createElement("a");Be.href=De,Be.download=`SaleOrder-${M.orderNumber}.pdf`,document.body.appendChild(Be),Be.click(),document.body.removeChild(Be),URL.revokeObjectURL(De),t({title:"PDF Downloaded",description:`Sale order ${M.orderNumber} has been downloaded`})}else throw new Error("Failed to generate PDF")}catch{t({title:"Download Failed",description:"Failed to download sale order PDF. Please try again.",variant:"destructive"})}};return r.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[r.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Sale Orders"}),r.jsx("p",{className:"text-muted-foreground",children:"Create and manage sale orders for your customers"})]})}),r.jsxs(kf,{defaultValue:"create",className:"space-y-4",children:[r.jsxs(Uc,{className:"grid w-full grid-cols-2",children:[r.jsxs(Gn,{value:"create",className:"flex items-center gap-2",children:[r.jsx(is,{className:"w-4 h-4"}),"Create Order"]}),r.jsxs(Gn,{value:"manage",className:"flex items-center gap-2",children:[r.jsx(Ar,{className:"w-4 h-4"}),"Manage Orders (",w.length,")"]})]}),r.jsxs(Zn,{value:"create",className:"space-y-6",children:[r.jsxs(ie,{children:[r.jsx(fe,{children:r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(Mc,{className:"w-5 h-5"}),"Customer Information"]})}),r.jsxs(oe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{htmlFor:"customer",children:"Customer *"}),r.jsxs(bt,{value:n.customerId,onValueChange:S,children:[r.jsx(xt,{"data-testid":"select-customer",children:r.jsx(jt,{placeholder:"Select customer"})}),r.jsx(gt,{children:p.map(M=>r.jsxs(ae,{value:M.id,children:[M.name," - ",M.phone]},M.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{htmlFor:"deliveryDate",children:"Expected Delivery Date"}),r.jsx(ue,{type:"date",value:n.expectedDeliveryDate,onChange:M=>s({...n,expectedDeliveryDate:M.target.value}),"data-testid":"input-delivery-date"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{htmlFor:"notes",children:"Notes"}),r.jsx(Mr,{placeholder:"Order notes or special instructions...",value:n.notes,onChange:M=>s({...n,notes:M.target.value}),"data-testid":"textarea-notes"})]})]})]}),r.jsxs(ie,{className:"border-l-4 border-l-blue-500",children:[r.jsxs(fe,{children:[r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(Cs,{className:"w-5 h-5 text-blue-600"}),"Payment Terms & Tracking",r.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"(Required)"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose how this customer will pay for their order"})]}),r.jsxs(oe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{htmlFor:"paymentTerms",className:"text-base font-semibold",children:"Payment Terms *"}),r.jsxs(bt,{value:n.paymentTerms,onValueChange:M=>s({...n,paymentTerms:M}),children:[r.jsx(xt,{"data-testid":"select-payment-terms",className:"border-2 border-blue-200 focus:border-blue-500",children:r.jsx(jt,{placeholder:"🔹 Choose payment method..."})}),r.jsxs(gt,{children:[r.jsx(ae,{value:"advance",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ts,{className:"w-4 h-4 text-green-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Advance Payment"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Full payment before delivery"})]})]})}),r.jsx(ae,{value:"cod",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($d,{className:"w-4 h-4 text-blue-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Cash on Delivery"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Pay during delivery"})]})]})}),r.jsx(ae,{value:"credit",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ba,{className:"w-4 h-4 text-orange-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Credit Sale"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Pay after delivery"})]})]})}),r.jsx(ae,{value:"partial",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Cs,{className:"w-4 h-4 text-purple-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Partial Payment"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Pay some now, rest later"})]})]})})]})]}),!n.paymentTerms&&r.jsxs("p",{className:"text-sm text-amber-600 flex items-center gap-1",children:[r.jsx(gC,{className:"w-4 h-4"}),"Please select payment terms to continue"]})]}),(n.paymentTerms==="advance"||n.paymentTerms==="partial")&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{htmlFor:"advanceAmount",children:n.paymentTerms==="advance"?"Full Payment Amount":"Advance Amount"}),r.jsx(ue,{type:"number",step:"0.01",min:"0",max:n.totalAmount,value:n.advanceAmount,onChange:M=>s({...n,advanceAmount:parseFloat(M.target.value)||0}),"data-testid":"input-advance-amount",placeholder:"0.00"})]}),n.paymentTerms==="credit"&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{htmlFor:"creditDays",children:"Credit Days"}),r.jsxs(bt,{value:n.creditDays.toString(),onValueChange:M=>s({...n,creditDays:parseInt(M)}),children:[r.jsx(xt,{"data-testid":"select-credit-days",children:r.jsx(jt,{})}),r.jsxs(gt,{children:[r.jsx(ae,{value:"7",children:"7 Days"}),r.jsx(ae,{value:"15",children:"15 Days"}),r.jsx(ae,{value:"30",children:"30 Days (Standard)"}),r.jsx(ae,{value:"45",children:"45 Days"}),r.jsx(ae,{value:"60",children:"60 Days"}),r.jsx(ae,{value:"90",children:"90 Days"})]})]})]})]}),n.totalAmount>0&&r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Payment Summary"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Total Order Amount:"}),r.jsx("span",{className:"font-medium",children:z(n.totalAmount)})]}),n.paymentTerms==="advance"&&r.jsxs("div",{className:"flex justify-between text-green-700 dark:text-green-300",children:[r.jsx("span",{children:"Full Payment (Advance):"}),r.jsx("span",{className:"font-medium",children:z(n.totalAmount)})]}),n.paymentTerms==="partial"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between text-green-700 dark:text-green-300",children:[r.jsx("span",{children:"Advance Payment:"}),r.jsx("span",{className:"font-medium",children:z(n.advanceAmount)})]}),r.jsxs("div",{className:"flex justify-between text-orange-700 dark:text-orange-300",children:[r.jsx("span",{children:"Remaining Balance:"}),r.jsx("span",{className:"font-medium",children:z(n.totalAmount-n.advanceAmount)})]})]}),n.paymentTerms==="credit"&&r.jsxs("div",{className:"flex justify-between text-orange-700 dark:text-orange-300",children:[r.jsxs("span",{children:["Payment Due in ",n.creditDays," days"]}),r.jsx("span",{className:"font-medium",children:z(n.totalAmount)})]})]})]})]})]}),r.jsxs(ie,{children:[r.jsx(fe,{children:r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(er,{className:"w-5 h-5"}),"Order Items"]})}),r.jsxs(oe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg bg-muted/50",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{children:"Product"}),r.jsxs(bt,{value:a,onValueChange:i,children:[r.jsx(xt,{"data-testid":"select-product",children:r.jsx(jt,{placeholder:"Select product"})}),r.jsx(gt,{children:b.map(M=>r.jsxs(ae,{value:M.id,children:[M.name," - ",z(parseFloat(M.unitPrice))]},M.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{children:"Quantity"}),r.jsx(ue,{type:"number",min:"1",value:o,onChange:M=>l(parseInt(M.target.value)||1),"data-testid":"input-quantity"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{children:"Unit Price"}),r.jsx(ue,{type:"text",value:a?z(parseFloat(((I=b.find(M=>M.id===a))==null?void 0:I.unitPrice)||"0")):"Select a product",disabled:!0,className:"bg-muted","data-testid":"input-unit-price",placeholder:"Unit price will appear here"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{children:" "}),r.jsxs(G,{onClick:k,className:"w-full",disabled:!a,"data-testid":"button-add-item",children:[r.jsx(is,{className:"w-4 h-4 mr-2"}),"Add Item"]})]})]}),n.items.length>0&&r.jsx("div",{className:"border rounded-lg",children:r.jsxs(mn,{children:[r.jsx(hn,{children:r.jsxs(Xe,{children:[r.jsx(J,{children:"Product"}),r.jsx(J,{children:"Quantity"}),r.jsx(J,{children:"Unit Price"}),r.jsx(J,{children:"Discount"}),r.jsx(J,{children:"Total"}),r.jsx(J,{children:"Actions"})]})}),r.jsx(pn,{children:n.items.map((M,ce)=>r.jsxs(Xe,{children:[r.jsx(Y,{className:"font-medium",children:M.productName}),r.jsx(Y,{children:r.jsx(ue,{type:"number",min:"1",value:M.quantity||1,onChange:X=>L(ce,"quantity",X.target.value),className:"w-20"})}),r.jsx(Y,{children:r.jsx(ue,{type:"number",step:"0.01",value:M.unitPrice||0,onChange:X=>L(ce,"unitPrice",X.target.value),className:"w-24"})}),r.jsx(Y,{children:r.jsx(ue,{type:"number",step:"0.01",value:M.discount||0,onChange:X=>L(ce,"discount",X.target.value),className:"w-20"})}),r.jsx(Y,{className:"font-medium",children:z(M.totalAmount)}),r.jsx(Y,{children:r.jsx(G,{variant:"ghost",size:"sm",onClick:()=>F(ce),className:"text-red-600 hover:text-red-700","data-testid":`button-remove-item-${ce}`,children:r.jsx(_a,{className:"w-4 h-4"})})})]},ce))})]})}),n.items.length>0&&r.jsx("div",{className:"flex justify-end",children:r.jsxs("div",{className:"bg-muted p-4 rounded-lg min-w-[300px] space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal:"}),r.jsx("span",{children:z(n.subtotal)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Item Discounts:"}),r.jsxs("span",{children:["-",z(n.items.reduce((M,ce)=>M+ce.discount,0))]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx(Ee,{children:"Order Discount:"}),r.jsx(ue,{type:"number",step:"0.01",value:n.discountAmount||0,onChange:M=>{const ce=parseFloat(M.target.value)||0,X=n.items.reduce((E,U)=>E+U.quantity*U.unitPrice,0),De=n.items.reduce((E,U)=>E+U.discount,0),Be=X-De-ce;s({...n,discountAmount:ce,totalAmount:Be})},className:"w-24 h-8",placeholder:"0.00"})]}),r.jsx("hr",{}),r.jsxs("div",{className:"flex justify-between items-center font-bold text-lg",children:[r.jsx("span",{children:"Total Amount:"}),r.jsx("span",{"data-testid":"text-total-amount",children:z(n.totalAmount)})]})]})}),r.jsx("div",{className:"flex justify-end",children:r.jsx(G,{onClick:D,disabled:_.isPending||n.items.length===0,size:"lg","data-testid":"button-create-order",children:_.isPending?"Creating...":"Create Order"})})]})]})]}),r.jsxs(Zn,{value:"manage",className:"space-y-6",children:[r.jsxs(ie,{children:[r.jsx(fe,{children:r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(vx,{className:"w-5 h-5"}),"Filter Orders"]})}),r.jsx(oe,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{children:"Search Orders"}),r.jsxs("div",{className:"relative",children:[r.jsx(Pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),r.jsx(ue,{placeholder:"Search by customer name or order number...",value:c,onChange:M=>d(M.target.value),className:"pl-10","data-testid":"input-search-orders"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{children:"Filter by Status"}),r.jsxs(bt,{value:f,onValueChange:m,children:[r.jsx(xt,{"data-testid":"select-status-filter",children:r.jsx(jt,{})}),r.jsxs(gt,{children:[r.jsx(ae,{value:"all",children:"All Status"}),r.jsx(ae,{value:"pending",children:"Pending"}),r.jsx(ae,{value:"confirmed",children:"Confirmed"}),r.jsx(ae,{value:"in-progress",children:"In Progress"}),r.jsx(ae,{value:"ready",children:"Ready"}),r.jsx(ae,{value:"delivered",children:"Delivered"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{children:"Filter by Payment Terms"}),r.jsxs(bt,{value:u,onValueChange:y,children:[r.jsx(xt,{"data-testid":"select-payment-filter",children:r.jsx(jt,{})}),r.jsxs(gt,{children:[r.jsx(ae,{value:"all",children:"All Payment Terms"}),r.jsx(ae,{value:"advance",children:"Advance Payment"}),r.jsx(ae,{value:"cod",children:"Cash on Delivery"}),r.jsx(ae,{value:"credit",children:"Credit Sale"}),r.jsx(ae,{value:"partial",children:"Partial Payment"})]})]})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[r.jsx(ie,{children:r.jsx(oe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ca,{className:"w-4 h-4 text-yellow-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pending"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:re("pending")})]})]})})}),r.jsx(ie,{children:r.jsx(oe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Nl,{className:"w-4 h-4 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Confirmed"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:re("confirmed")})]})]})})}),r.jsx(ie,{children:r.jsx(oe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(er,{className:"w-4 h-4 text-orange-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"In Progress"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:re("in-progress")})]})]})})}),r.jsx(ie,{children:r.jsx(oe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(av,{className:"w-4 h-4 text-purple-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Ready"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:re("ready")})]})]})})}),r.jsx(ie,{children:r.jsx(oe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Nl,{className:"w-4 h-4 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Delivered"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:re("delivered")})]})]})})})]}),r.jsxs(ie,{children:[r.jsx(fe,{children:r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(Cs,{className:"w-5 h-5"}),"Payment Terms Overview"]})}),r.jsx(oe,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ts,{className:"w-4 h-4 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Advance"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:ve("advance")})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx($d,{className:"w-4 h-4 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"COD"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ve("cod")})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ba,{className:"w-4 h-4 text-orange-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Credit"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:ve("credit")})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Cs,{className:"w-4 h-4 text-purple-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Partial"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:ve("partial")})]})]})]})})]}),r.jsxs(ie,{children:[r.jsx(fe,{children:r.jsxs(he,{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Orders"}),r.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:[B.length," of ",w.length," orders"]})]})}),r.jsx(oe,{children:C?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):B.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Sx,{className:"mx-auto h-12 w-12 text-muted-foreground"}),r.jsx("h3",{className:"mt-2 text-sm font-semibold text-muted-foreground",children:"No orders found"}),r.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:c||f!=="all"||u!=="all"?"Try adjusting your search criteria.":"Create your first order to get started."})]}):r.jsx("div",{className:"border rounded-lg",children:r.jsxs(mn,{children:[r.jsx(hn,{children:r.jsxs(Xe,{children:[r.jsx(J,{children:"Order Number"}),r.jsx(J,{children:"Customer"}),r.jsx(J,{children:"Date"}),r.jsx(J,{children:"Delivery Date"}),r.jsx(J,{children:"Amount"}),r.jsx(J,{children:"Payment Terms"}),r.jsx(J,{children:"Status"}),r.jsx(J,{children:"Actions"})]})}),r.jsx(pn,{children:B.map(M=>{const ce=q(M.status),X=ce.icon,De=$(M.status),Be=K(M.status);return r.jsxs(Xe,{"data-testid":`row-order-${M.id}`,children:[r.jsx(Y,{className:"font-medium",children:M.orderNumber}),r.jsx(Y,{children:M.customerName}),r.jsx(Y,{children:new Date(M.orderDate).toLocaleDateString()}),r.jsx(Y,{children:new Date(M.expectedDeliveryDate).toLocaleDateString()}),r.jsx(Y,{className:"font-medium",children:z(parseFloat(M.totalAmount))}),r.jsx(Y,{children:(()=>{const E=V(M.paymentTerms||"cod"),U=E.icon;return r.jsxs(Pe,{className:E.color,title:E.description,children:[r.jsx(U,{className:"w-3 h-3 mr-1"}),E.label]})})()}),r.jsx(Y,{children:r.jsxs(Pe,{className:ce.color,children:[r.jsx(X,{className:"w-3 h-3 mr-1"}),ce.label]})}),r.jsx(Y,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(G,{variant:"outline",size:"sm",onClick:()=>Qe(M),"data-testid":`button-view-${M.id}`,title:"View Order",children:r.jsx(yx,{className:"w-4 h-4"})}),r.jsx(G,{variant:"outline",size:"sm",onClick:()=>kt(M),"data-testid":`button-download-${M.id}`,title:"Download PDF",children:r.jsx(Tr,{className:"w-4 h-4"})}),De&&r.jsx(G,{variant:"outline",size:"sm",onClick:()=>N.mutate({id:M.id,status:De}),disabled:N.isPending,"data-testid":`button-next-status-${M.id}`,children:Be})]})})]},M.id)})})]})})})]})]})]}),r.jsx(OV,{order:v,isOpen:j,onClose:()=>{x(!1),g(null)}})]})}function $V(){var _;const{toast:e}=Jt(),[t,n]=h.useState({startDate:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[s,a]=h.useState(new Date().getMonth()+1),[i,o]=h.useState(new Date().getFullYear()),{data:l}=We({queryKey:["/api/analytics/daily-sales"],refetchInterval:3e4,refetchOnWindowFocus:!0}),{data:c}=We({queryKey:["/api/analytics/monthly-sales",`year=${i}&month=${s}`],refetchInterval:6e4,refetchOnWindowFocus:!0}),{data:d}=We({queryKey:["/api/analytics/top-products/10"],refetchInterval:6e4,refetchOnWindowFocus:!0}),{data:f}=We({queryKey:["/api/sales"],refetchInterval:3e4,refetchOnWindowFocus:!0}),{data:m}=We({queryKey:["/api/products"],refetchInterval:6e4,refetchOnWindowFocus:!0}),{data:u}=We({queryKey:["/api/customers"],refetchInterval:12e4,refetchOnWindowFocus:!0}),{data:y}=We({queryKey:["/api/analytics/inventory-value"],refetchInterval:6e4,refetchOnWindowFocus:!0}),v=f?{total:f.length,validated:f.filter(N=>N.fbrStatus==="validated").length,pending:f.filter(N=>N.fbrStatus==="pending").length,failed:f.filter(N=>N.fbrStatus==="failed").length}:{total:0,validated:0,pending:0,failed:0},g=v.total>0?(v.validated/v.total*100).toFixed(2):"0.00",j=f?{totalSales:f.reduce((N,k)=>N+parseFloat(k.totalAmount),0),totalTax:f.reduce((N,k)=>N+parseFloat(k.taxAmount),0),gstCollected:f.reduce((N,k)=>N+parseFloat(k.taxAmount),0)}:{totalSales:0,totalTax:0,gstCollected:0},x=N=>{console.log(`Exporting ${N} report...`);let k=[],F=`${N}_report_${new Date().toISOString().split("T")[0]}`;switch(N){case"sales":k=f||[],F=`sales_report_${t.startDate}_to_${t.endDate}.csv`;break;case"inventory":k=m||[],F=`inventory_report_${new Date().toISOString().split("T")[0]}.csv`;break;case"customers":k=u||[],F=`customers_report_${new Date().toISOString().split("T")[0]}.csv`;break;case"tax":k=f||[],F=`tax_report_${i}_${s}.csv`;break;case"fbr":k=f||[],F=`fbr_compliance_report_${new Date().toISOString().split("T")[0]}.csv`;break}k.length>0?p(k,F):e({title:"No Data",description:"No data available to export for this report.",variant:"destructive"})},p=(N,k)=>{if(N.length===0)return;const F=Object.keys(N[0]),L=[F.join(","),...N.map(V=>F.map($=>{const K=V[$];return typeof K=="string"&&K.includes(",")?`"${K.replace(/"/g,'""')}"`:K}).join(","))].join(`
`),S=new Blob([L],{type:"text/csv;charset=utf-8;"}),D=document.createElement("a"),q=URL.createObjectURL(S);D.setAttribute("href",q),D.setAttribute("download",k),D.style.visibility="hidden",document.body.appendChild(D),D.click(),document.body.removeChild(D),e({title:"Export Successful",description:`${k} has been downloaded successfully.`})},b=new Date().getFullYear(),w=Array.from({length:5},(N,k)=>b-k),C=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}];return r.jsxs("div",{className:"p-6 space-y-6","data-testid":"reports-container",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground","data-testid":"text-reports-title",children:"Reports & Analytics"}),r.jsx("p",{className:"text-muted-foreground",children:"Comprehensive business reports and FBR compliance analytics"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs(ie,{children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(he,{className:"text-sm font-medium",children:"Today's Sales"}),r.jsx(Cs,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(oe,{children:[r.jsx("div",{className:"text-2xl font-bold","data-testid":"text-today-sales",children:z((l==null?void 0:l.totalRevenue)||0)}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[(l==null?void 0:l.totalSales)||0," transactions"]})]})]}),r.jsxs(ie,{children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(he,{className:"text-sm font-medium",children:"Monthly Revenue"}),r.jsx(jC,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(oe,{children:[r.jsx("div",{className:"text-2xl font-bold","data-testid":"text-monthly-revenue",children:z((c==null?void 0:c.totalRevenue)||0)}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[(c==null?void 0:c.totalSales)||0," transactions this month"]})]})]}),r.jsxs(ie,{children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(he,{className:"text-sm font-medium",children:"FBR Compliance"}),r.jsx(br,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(oe,{children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600","data-testid":"text-fbr-compliance",children:[g,"%"]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[v.validated,"/",v.total," invoices validated"]})]})]}),r.jsxs(ie,{children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(he,{className:"text-sm font-medium",children:"Tax Collected"}),r.jsx(ba,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(oe,{children:[r.jsx("div",{className:"text-2xl font-bold","data-testid":"text-tax-collected",children:z(j.totalTax)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"GST collected this period"})]})]})]}),r.jsxs(kf,{defaultValue:"sales",className:"space-y-6",children:[r.jsxs(Uc,{className:"grid w-full grid-cols-5",children:[r.jsx(Gn,{value:"sales","data-testid":"tab-sales",children:"Sales Report"}),r.jsx(Gn,{value:"fbr","data-testid":"tab-fbr",children:"FBR Compliance"}),r.jsx(Gn,{value:"inventory","data-testid":"tab-inventory",children:"Inventory"}),r.jsx(Gn,{value:"customers","data-testid":"tab-customers",children:"Customers"}),r.jsx(Gn,{value:"tax","data-testid":"tab-tax",children:"Tax Report"})]}),r.jsx(Zn,{value:"sales",className:"space-y-6",children:r.jsxs(ie,{children:[r.jsx(fe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(sc,{className:"h-5 w-5"}),"Sales Performance Report"]}),r.jsx(Bt,{children:"Detailed sales analysis and performance metrics"})]}),r.jsxs(G,{onClick:()=>x("sales"),"data-testid":"button-export-sales",children:[r.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})}),r.jsx(oe,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-4 items-end",children:[r.jsxs("div",{children:[r.jsx(Ee,{htmlFor:"start-date",children:"Start Date"}),r.jsx(ue,{id:"start-date",type:"date",value:t.startDate,onChange:N=>n(k=>({...k,startDate:N.target.value})),"data-testid":"input-start-date"})]}),r.jsxs("div",{children:[r.jsx(Ee,{htmlFor:"end-date",children:"End Date"}),r.jsx(ue,{id:"end-date",type:"date",value:t.endDate,onChange:N=>n(k=>({...k,endDate:N.target.value})),"data-testid":"input-end-date"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium",children:"Total Sales"}),r.jsx("p",{className:"text-2xl font-bold","data-testid":"text-period-total-sales",children:z(j.totalSales)})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium",children:"Average Order Value"}),r.jsx("p",{className:"text-2xl font-bold",children:z(v.total>0?j.totalSales/v.total:0)})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium",children:"Total Transactions"}),r.jsx("p",{className:"text-2xl font-bold",children:v.total})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Top Selling Products"}),r.jsxs(mn,{children:[r.jsx(hn,{children:r.jsxs(Xe,{children:[r.jsx(J,{children:"Rank"}),r.jsx(J,{children:"Product"}),r.jsx(J,{children:"Quantity Sold"}),r.jsx(J,{children:"Revenue"})]})}),r.jsx(pn,{children:(d==null?void 0:d.slice(0,5).map((N,k)=>r.jsxs(Xe,{children:[r.jsx(Y,{children:r.jsx(Pe,{variant:"secondary",children:k+1})}),r.jsx(Y,{children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:N.product.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:N.product.category})]})}),r.jsx(Y,{children:N.totalQuantity}),r.jsx(Y,{className:"font-medium",children:z(N.totalRevenue)})]},N.product.id)))||r.jsx(Xe,{children:r.jsx(Y,{colSpan:4,className:"text-center py-4",children:"No sales data available for this period"})})})]})]})]})})]})}),r.jsx(Zn,{value:"fbr",className:"space-y-6",children:r.jsxs(ie,{children:[r.jsx(fe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(Ar,{className:"h-5 w-5"}),"FBR Digital Invoicing Compliance"]}),r.jsx(Bt,{children:"Monitor FBR e-invoicing compliance and validation status"})]}),r.jsxs(G,{onClick:()=>x("fbr"),"data-testid":"button-export-fbr",children:[r.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Export Compliance Report"]})]})}),r.jsx(oe,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(br,{className:"h-4 w-4 text-green-600"}),r.jsx("p",{className:"text-sm font-medium",children:"Validated"})]}),r.jsx("p",{className:"text-2xl font-bold text-green-600","data-testid":"text-fbr-validated",children:v.validated})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Ca,{className:"h-4 w-4 text-yellow-600"}),r.jsx("p",{className:"text-sm font-medium",children:"Pending"})]}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600","data-testid":"text-fbr-pending",children:v.pending})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(gr,{className:"h-4 w-4 text-red-600"}),r.jsx("p",{className:"text-sm font-medium",children:"Failed"})]}),r.jsx("p",{className:"text-2xl font-bold text-red-600","data-testid":"text-fbr-failed",children:v.failed})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(sc,{className:"h-4 w-4 text-blue-600"}),r.jsx("p",{className:"text-sm font-medium",children:"Compliance Rate"})]}),r.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[g,"%"]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Recent Invoice Status"}),r.jsxs(mn,{children:[r.jsx(hn,{children:r.jsxs(Xe,{children:[r.jsx(J,{children:"Invoice Number"}),r.jsx(J,{children:"Date"}),r.jsx(J,{children:"Customer"}),r.jsx(J,{children:"Amount"}),r.jsx(J,{children:"FBR Status"}),r.jsx(J,{children:"FBR Invoice #"})]})}),r.jsx(pn,{children:(f==null?void 0:f.slice(0,10).map(N=>r.jsxs(Xe,{children:[r.jsx(Y,{className:"font-mono",children:N.invoiceNumber}),r.jsx(Y,{children:new Date(N.saleDate).toLocaleDateString("en-PK")}),r.jsx(Y,{children:N.customerName}),r.jsx(Y,{className:"font-medium",children:z(parseFloat(N.totalAmount))}),r.jsx(Y,{children:r.jsx(Pe,{variant:N.fbrStatus==="validated"?"default":N.fbrStatus==="pending"?"secondary":"destructive",children:N.fbrStatus})}),r.jsx(Y,{className:"font-mono text-sm",children:N.fbrInvoiceNumber||"-"})]},N.id)))||r.jsx(Xe,{children:r.jsx(Y,{colSpan:6,className:"text-center py-4",children:"No invoices found"})})})]})]})]})})]})}),r.jsx(Zn,{value:"inventory",className:"space-y-6",children:r.jsxs(ie,{children:[r.jsx(fe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(er,{className:"h-5 w-5"}),"Inventory Status Report"]}),r.jsx(Bt,{children:"Current inventory levels and stock analysis"})]}),r.jsxs(G,{onClick:()=>x("inventory"),"data-testid":"button-export-inventory",children:[r.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Export Inventory Report"]})]})}),r.jsx(oe,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium",children:"Total Products"}),r.jsx("p",{className:"text-2xl font-bold","data-testid":"text-inventory-total-products",children:(m==null?void 0:m.length)||0})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium",children:"Inventory Value"}),r.jsx("p",{className:"text-2xl font-bold",children:z((y==null?void 0:y.value)||0)})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium",children:"Low Stock Items"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:(m==null?void 0:m.filter(N=>N.stockQuantity<=N.minStockLevel).length)||0})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Stock Status by Category"}),r.jsxs(mn,{children:[r.jsx(hn,{children:r.jsxs(Xe,{children:[r.jsx(J,{children:"Category"}),r.jsx(J,{children:"Total Items"}),r.jsx(J,{children:"Low Stock Items"}),r.jsx(J,{children:"Stock Value"})]})}),r.jsx(pn,{children:m&&Array.from(new Set(m.map(N=>N.category))).map(N=>{const k=m.filter(S=>S.category===N),F=k.filter(S=>S.stockQuantity<=S.minStockLevel),L=k.reduce((S,D)=>S+parseFloat(D.costPrice)*D.stockQuantity,0);return r.jsxs(Xe,{children:[r.jsx(Y,{className:"font-medium",children:N}),r.jsx(Y,{children:k.length}),r.jsx(Y,{children:F.length>0?r.jsx(Pe,{variant:"destructive",children:F.length}):r.jsx(Pe,{variant:"default",children:"0"})}),r.jsx(Y,{className:"font-medium",children:z(L)})]},N)})})]})]})]})})]})}),r.jsx(Zn,{value:"customers",className:"space-y-6",children:r.jsxs(ie,{children:[r.jsx(fe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(bi,{className:"h-5 w-5"}),"Customer Analytics Report"]}),r.jsx(Bt,{children:"Customer behavior and sales performance analysis"})]}),r.jsxs(G,{onClick:()=>x("customers"),"data-testid":"button-export-customers",children:[r.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Export Customer Report"]})]})}),r.jsx(oe,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium",children:"Total Customers"}),r.jsx("p",{className:"text-2xl font-bold","data-testid":"text-customer-total",children:(u==null?void 0:u.length)||0})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium",children:"Active Customers"}),r.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.filter(N=>N.isActive).length)||0})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium",children:"Customer Lifetime Value"}),r.jsx("p",{className:"text-2xl font-bold",children:z((u==null?void 0:u.reduce((N,k)=>N+parseFloat(k.totalPurchases),0))||0)})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Top Customers by Purchase Value"}),r.jsxs(mn,{children:[r.jsx(hn,{children:r.jsxs(Xe,{children:[r.jsx(J,{children:"Rank"}),r.jsx(J,{children:"Customer"}),r.jsx(J,{children:"Total Purchases"}),r.jsx(J,{children:"Loyalty Points"}),r.jsx(J,{children:"City"})]})}),r.jsx(pn,{children:(u==null?void 0:u.sort((N,k)=>parseFloat(k.totalPurchases)-parseFloat(N.totalPurchases)).slice(0,10).map((N,k)=>r.jsxs(Xe,{children:[r.jsx(Y,{children:r.jsx(Pe,{variant:"secondary",children:k+1})}),r.jsx(Y,{children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:N.name}),N.businessName&&r.jsx("p",{className:"text-sm text-muted-foreground",children:N.businessName})]})}),r.jsx(Y,{className:"font-medium",children:z(parseFloat(N.totalPurchases))}),r.jsx(Y,{children:r.jsx(Pe,{variant:"outline",children:N.loyaltyPoints})}),r.jsx(Y,{children:N.city||"-"})]},N.id)))||r.jsx(Xe,{children:r.jsx(Y,{colSpan:5,className:"text-center py-4",children:"No customer data available"})})})]})]})]})})]})}),r.jsx(Zn,{value:"tax",className:"space-y-6",children:r.jsxs(ie,{children:[r.jsx(fe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(ba,{className:"h-5 w-5"}),"Tax Collection Report"]}),r.jsx(Bt,{children:"GST and tax collection summary for compliance"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(bt,{value:s.toString(),onValueChange:N=>a(parseInt(N)),children:[r.jsx(xt,{className:"w-32",children:r.jsx(jt,{})}),r.jsx(gt,{children:C.map(N=>r.jsx(ae,{value:N.value.toString(),children:N.label},N.value))})]}),r.jsxs(bt,{value:i.toString(),onValueChange:N=>o(parseInt(N)),children:[r.jsx(xt,{className:"w-24",children:r.jsx(jt,{})}),r.jsx(gt,{children:w.map(N=>r.jsx(ae,{value:N.toString(),children:N},N))})]}),r.jsxs(G,{onClick:()=>x("tax"),"data-testid":"button-export-tax",children:[r.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})}),r.jsx(oe,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium",children:"Total Sales (Pre-Tax)"}),r.jsx("p",{className:"text-2xl font-bold",children:z(j.totalSales-j.totalTax)})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium",children:"GST Collected"}),r.jsx("p",{className:"text-2xl font-bold text-green-600","data-testid":"text-gst-collected",children:z(j.gstCollected)})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium",children:"Total with Tax"}),r.jsx("p",{className:"text-2xl font-bold",children:z(j.totalSales)})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium",children:"Average Tax Rate"}),r.jsxs("p",{className:"text-2xl font-bold",children:[j.totalSales>0?(j.totalTax/(j.totalSales-j.totalTax)*100).toFixed(2):"0.00","%"]})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold mb-3",children:["Tax Summary for ",(_=C.find(N=>N.value===s))==null?void 0:_.label," ",i]}),r.jsx("div",{className:"p-4 border rounded-lg bg-muted/50",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly Sales"}),r.jsx("p",{className:"text-lg font-bold",children:z((c==null?void 0:c.totalRevenue)||0)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly Tax"}),r.jsx("p",{className:"text-lg font-bold",children:z(((c==null?void 0:c.totalRevenue)||0)*.18)})]})]})})]})]})})]})})]})]})}var vg="Switch",[VV,c9]=hs(vg),[BV,zV]=VV(vg),HT=h.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:f,...m}=e,[u,y]=h.useState(null),v=pt(t,b=>y(b)),g=h.useRef(!1),j=u?f||!!u.closest("form"):!0,[x=!1,p]=Na({prop:a,defaultProp:i,onChange:d});return r.jsxs(BV,{scope:n,checked:x,disabled:l,children:[r.jsx(Ue.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":GT(x),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:v,onClick:Te(e.onClick,b=>{p(w=>!w),j&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),j&&r.jsx(UV,{control:u,bubbles:!g.current,name:s,value:c,checked:x,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});HT.displayName=vg;var KT="SwitchThumb",YT=h.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,a=zV(KT,n);return r.jsx(Ue.span,{"data-state":GT(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});YT.displayName=KT;var UV=e=>{const{control:t,checked:n,bubbles:s=!0,...a}=e,i=h.useRef(null),o=yP(n),l=UC(t);return h.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&m){const u=new Event("click",{bubbles:s});m.call(c,n),c.dispatchEvent(u)}},[o,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function GT(e){return e?"checked":"unchecked"}var ZT=HT,qV=YT;const XT=h.forwardRef(({className:e,...t},n)=>r.jsx(ZT,{className:Se("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(qV,{className:Se("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));XT.displayName=ZT.displayName;function WV(){const{user:e}=zs(),{toast:t}=Jt(),n=qr(),[s,a]=h.useState("business"),[i,o]=h.useState(!1),[l,c]=h.useState(""),[d,f]=h.useState(!1),[m,u]=h.useState([]),[y,v]=h.useState(null),g=(e==null?void 0:e.role)==="admin"?["business","email","fbr","hardware","users"]:(e==null?void 0:e.role)==="manager"?["business","email","fbr","hardware"]:["business"];h.useEffect(()=>{g.includes(s)||a(g[0])},[g,s]);const j=oi({resolver:ci(xe.object({businessName:xe.string().min(1,"Business name is required"),businessAddress:xe.string().min(1,"Business address is required"),businessPhone:xe.string().min(1,"Business phone is required"),businessEmail:xe.string().email("Valid email is required"),ntn:xe.string().min(1,"NTN is required"),strn:xe.string().optional(),currency:xe.string().min(1,"Currency is required"),taxRate:xe.number().min(0).max(100),language:xe.string().min(1,"Language is required")})),defaultValues:{businessName:"",businessAddress:"",businessPhone:"",businessEmail:"",ntn:"",strn:"",currency:"PKR",taxRate:18,language:"en"}}),x=oi({resolver:ci(xe.object({fullName:xe.string().min(1,"Full name is required"),username:xe.string().min(3,"Username must be at least 3 characters"),password:xe.string().min(6,"Password must be at least 6 characters").optional(),role:xe.enum(["admin","manager","cashier"])})),defaultValues:{fullName:"",username:"",password:"",role:"cashier"}}),p=oi({resolver:ci(xe.object({fullName:xe.string().min(1,"Full name is required"),username:xe.string().min(3,"Username must be at least 3 characters"),password:xe.string().optional(),role:xe.enum(["admin","manager","cashier"])})),defaultValues:{fullName:"",username:"",password:"",role:"admin"}}),{data:b,isLoading:w}=We({queryKey:["/api/settings"]}),{data:C}=We({queryKey:["/api/users"]}),_=yt({mutationFn:P=>Je("/api/settings",{method:"POST",body:JSON.stringify(P)}),onSuccess:()=>{t({title:"Settings saved successfully"}),n.invalidateQueries({queryKey:["/api/settings"]})},onError:()=>{t({title:"Failed to save settings",variant:"destructive"})}}),N=yt({mutationFn:P=>Je("/api/users",{method:"POST",body:JSON.stringify(P)}),onSuccess:()=>{t({title:"User created successfully"}),n.invalidateQueries({queryKey:["/api/users"]}),x.reset()},onError:()=>{t({title:"Failed to create user",variant:"destructive"})}}),k=yt({mutationFn:P=>Je(`/api/users/${P}`,{method:"DELETE"}),onSuccess:()=>{t({title:"User deleted successfully"}),n.invalidateQueries({queryKey:["/api/users"]})},onError:()=>{t({title:"Failed to delete user",variant:"destructive"})}}),F=yt({mutationFn:({userId:P,userData:W})=>(console.log("Updating user:",P,W),Je(`/api/users/${P}`,"PUT",W)),onSuccess:()=>{t({title:"User updated successfully"}),n.invalidateQueries({queryKey:["/api/users"]}),v(null),p.reset()},onError:P=>{console.error("User update error:",P),t({title:"Failed to update user",variant:"destructive"})}}),L=P=>{_.mutate(P)},S=P=>{N.mutate(P)},D=P=>{if(y){const W={...P};(!W.password||W.password.trim()==="")&&delete W.password,console.log("Submitting user edit:",{userId:y,userData:W}),F.mutate({userId:y,userData:W})}},q=P=>{v(P.id),p.reset({fullName:P.fullName,username:P.username,password:"",role:P.role})},V=()=>{v(null),p.reset()},$=async()=>{try{(await Je("/api/settings/test-email",{method:"POST",body:JSON.stringify({smtpHost:j.getValues().businessEmail,smtpPassword:l})})).ok?t({title:"Email test successful",description:"Test email sent successfully"}):t({title:"Email test failed",description:"Please check your settings",variant:"destructive"})}catch{t({title:"Email test failed",description:"Connection error",variant:"destructive"})}},K=async()=>{f(!0);try{await new Promise(W=>setTimeout(W,3e3));const P=[{id:"1",name:"Card Reader Pro-X1",type:"card_reader",connected:!1,battery:85},{id:"2",name:"Barcode Scanner BT-200",type:"barcode_scanner",connected:!1,battery:92},{id:"3",name:"Thermal Printer TP-58",type:"printer",connected:!1}];u(P),t({title:"Bluetooth scan complete",description:`Found ${P.length} devices`})}catch{t({title:"Scan failed",description:"Could not scan for devices",variant:"destructive"})}finally{f(!1)}},B=async P=>{const W=m.find(re=>re.id===P);if(W)try{await new Promise(re=>setTimeout(re,2e3)),u(re=>re.map(ve=>ve.id===P?{...ve,connected:!ve.connected}:ve)),t({title:W.connected?"Device Disconnected":"Device Connected",description:`${W.name} ${W.connected?"disconnected":"connected"} successfully`})}catch{t({title:"Connection Failed",description:`Could not connect to ${W.name}`,variant:"destructive"})}};return w?r.jsx("div",{className:"p-6 space-y-6",children:r.jsxs("div",{className:"animate-pulse space-y-4",children:[r.jsx("div",{className:"h-8 bg-muted rounded w-1/4"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2,3,4].map(P=>r.jsx("div",{className:"h-32 bg-muted rounded"},P))})]})}):r.jsxs("div",{className:"p-6 space-y-6","data-testid":"settings-container",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground","data-testid":"text-settings-title",children:"System Settings"}),r.jsx("p",{className:"text-muted-foreground",children:"Configure your business settings and system preferences"})]}),r.jsxs("div",{className:"flex gap-6",children:[r.jsxs("div",{className:"w-64 space-y-2",children:[g.includes("business")&&r.jsxs(G,{variant:s==="business"?"default":"ghost",className:"w-full justify-start h-12",onClick:()=>a("business"),"data-testid":"nav-business",children:[r.jsx(Sa,{className:"h-5 w-5 mr-3"}),"Business"]}),g.includes("email")&&r.jsxs(G,{variant:s==="email"?"default":"ghost",className:"w-full justify-start h-12",onClick:()=>a("email"),"data-testid":"nav-email",children:[r.jsx(Ro,{className:"h-5 w-5 mr-3"}),"Email"]}),g.includes("fbr")&&r.jsxs(G,{variant:s==="fbr"?"default":"ghost",className:"w-full justify-start h-12",onClick:()=>a("fbr"),"data-testid":"nav-fbr",children:[r.jsx(Ar,{className:"h-5 w-5 mr-3"}),"FBR Settings"]}),g.includes("hardware")&&r.jsxs(G,{variant:s==="hardware"?"default":"ghost",className:"w-full justify-start h-12",onClick:()=>a("hardware"),"data-testid":"nav-hardware",children:[r.jsx(wl,{className:"h-5 w-5 mr-3"}),"Hardware Settings"]}),g.includes("users")&&r.jsxs(G,{variant:s==="users"?"default":"ghost",className:"w-full justify-start h-12",onClick:()=>a("users"),"data-testid":"nav-users",children:[r.jsx(bi,{className:"h-5 w-5 mr-3"}),"Users"]})]}),r.jsxs("div",{className:"flex-1",children:[s==="business"&&r.jsx("div",{className:"space-y-6",children:r.jsxs(ie,{children:[r.jsxs(fe,{children:[r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(Sa,{className:"h-5 w-5"}),"Business Information"]}),r.jsx(Bt,{children:"Configure your business details and basic settings"})]}),r.jsx(oe,{children:r.jsx(li,{...j,children:r.jsxs("form",{onSubmit:j.handleSubmit(L),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Me,{control:j.control,name:"businessName",render:({field:P})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Business Name *"}),r.jsx(Ie,{children:r.jsx(ue,{placeholder:"Your Business Name",...P,"data-testid":"input-business-name"})}),r.jsx(Fe,{})]})}),r.jsx(Me,{control:j.control,name:"businessPhone",render:({field:P})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Business Phone *"}),r.jsx(Ie,{children:r.jsx(ue,{placeholder:"+92-XXX-XXXXXXX",...P,"data-testid":"input-business-phone"})}),r.jsx(Fe,{})]})})]}),r.jsx(Me,{control:j.control,name:"businessAddress",render:({field:P})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Business Address *"}),r.jsx(Ie,{children:r.jsx(Mr,{placeholder:"Complete business address",...P,"data-testid":"input-business-address"})}),r.jsx(Fe,{})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Me,{control:j.control,name:"businessEmail",render:({field:P})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Business Email *"}),r.jsx(Ie,{children:r.jsx(ue,{type:"email",placeholder:"business@example.com",...P,"data-testid":"input-business-email"})}),r.jsx(Fe,{})]})}),r.jsx(Me,{control:j.control,name:"ntn",render:({field:P})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"NTN (National Tax Number) *"}),r.jsx(Ie,{children:r.jsx(ue,{placeholder:"1234567-8",...P,"data-testid":"input-business-ntn"})}),r.jsx(Fe,{})]})})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsx(Me,{control:j.control,name:"strn",render:({field:P})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"STRN (Optional)"}),r.jsx(Ie,{children:r.jsx(ue,{placeholder:"XX-XX-XXXX-XXX-XX",...P,"data-testid":"input-business-strn"})}),r.jsx(Fe,{})]})}),r.jsx(Me,{control:j.control,name:"currency",render:({field:P})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Currency"}),r.jsxs(bt,{onValueChange:P.onChange,defaultValue:P.value,children:[r.jsx(Ie,{children:r.jsx(xt,{"data-testid":"select-business-currency",children:r.jsx(jt,{})})}),r.jsxs(gt,{children:[r.jsx(ae,{value:"PKR",children:"Pakistani Rupee (PKR)"}),r.jsx(ae,{value:"USD",children:"US Dollar (USD)"}),r.jsx(ae,{value:"EUR",children:"Euro (EUR)"})]})]}),r.jsx(Fe,{})]})}),r.jsx(Me,{control:j.control,name:"taxRate",render:({field:P})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Default Tax Rate (%)"}),r.jsx(Ie,{children:r.jsx(ue,{type:"number",step:"0.01",placeholder:"18.00",...P,"data-testid":"input-business-tax-rate"})}),r.jsx(Fe,{})]})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(G,{type:"submit",disabled:_.isPending,"data-testid":"button-save-business",children:[r.jsx(xd,{className:"h-4 w-4 mr-2"}),_.isPending?"Saving...":"Save Business Settings"]})})]})})})]})}),s==="email"&&r.jsx("div",{className:"space-y-6",children:r.jsxs(ie,{children:[r.jsxs(fe,{children:[r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(Ro,{className:"h-5 w-5"}),"Email Configuration"]}),r.jsx(Bt,{children:"Configure SMTP settings for sending professional invoices and reminders to customers"})]}),r.jsxs(oe,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{children:"SMTP Host *"}),r.jsx(ue,{placeholder:"smtp.gmail.com","data-testid":"input-smtp-host"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{children:"SMTP Port *"}),r.jsx(ue,{type:"number",placeholder:"587","data-testid":"input-smtp-port"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{children:"Email Address *"}),r.jsx(ue,{type:"email",placeholder:"your-business@gmail.com","data-testid":"input-smtp-email"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{children:"App Password *"}),r.jsxs("div",{className:"relative",children:[r.jsx(ue,{type:i?"text":"password",placeholder:"Your app password",value:l,onChange:P=>c(P.target.value),"data-testid":"input-smtp-password"}),r.jsx(G,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>o(!i),"data-testid":"button-toggle-password",children:i?r.jsx(z4,{className:"h-4 w-4"}):r.jsx(yx,{className:"h-4 w-4"})})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(XT,{"data-testid":"switch-smtp-secure"}),r.jsx(Ee,{children:"Use TLS/SSL Encryption"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(G,{onClick:$,"data-testid":"button-test-email",children:[r.jsx(Z4,{className:"h-4 w-4 mr-2"}),"Test Email Configuration"]}),r.jsxs(G,{variant:"outline","data-testid":"button-save-email",children:[r.jsx(xd,{className:"h-4 w-4 mr-2"}),"Save Email Settings"]})]}),r.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-950/50 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"📧 Quick Setup Guide"}),r.jsxs("div",{className:"space-y-3 text-sm text-blue-700 dark:text-blue-300",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Gmail Users:"}),r.jsxs("ul",{className:"list-disc list-inside ml-4 mt-1 space-y-1",children:[r.jsx("li",{children:"Host: smtp.gmail.com, Port: 587, Secure: Off"}),r.jsx("li",{children:"Enable 2-Factor Authentication in your Google Account"}),r.jsx("li",{children:"Generate App Password: Google Account → Security → App passwords"}),r.jsx("li",{children:"Use the 16-character app password, not your regular password"})]})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Outlook/Hotmail Users:"}),r.jsxs("ul",{className:"list-disc list-inside ml-4 mt-1 space-y-1",children:[r.jsx("li",{children:"Host: smtp-mail.outlook.com, Port: 587, Secure: Off"}),r.jsx("li",{children:"Use your regular email and password"})]})]})]})]})]})]})}),s==="fbr"&&r.jsx("div",{className:"space-y-6",children:r.jsxs(ie,{children:[r.jsxs(fe,{children:[r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(q4,{className:"h-5 w-5"}),"FBR Integration Settings"]}),r.jsx(Bt,{children:"Configure FBR digital invoicing API settings for compliance"})]}),r.jsxs(oe,{children:[(e==null?void 0:e.role)==="manager"&&r.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 dark:bg-yellow-950/50 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 text-yellow-800 dark:text-yellow-200",children:[r.jsx(qh,{className:"h-4 w-4"}),r.jsx("span",{className:"font-medium",children:"Read-Only Access"})]}),r.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"You can view FBR settings but only admins can modify them."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{children:"PRAL API Base URL *"}),r.jsx(ue,{placeholder:"https://pral.api.fbr.gov.pk",disabled:(e==null?void 0:e.role)!=="admin","data-testid":"input-pral-url"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{children:"Client ID *"}),r.jsx(ue,{placeholder:"Your PRAL Client ID",disabled:(e==null?void 0:e.role)!=="admin","data-testid":"input-pral-client-id"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ee,{children:"Client Secret *"}),r.jsx(ue,{type:"password",placeholder:"Your PRAL Client Secret",disabled:(e==null?void 0:e.role)!=="admin","data-testid":"input-pral-client-secret"})]})]}),r.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-950/50 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-red-900 dark:text-red-100 mb-2",children:"⚠️ Production Only - No Demo Mode"}),r.jsxs("ul",{className:"text-sm text-red-800 dark:text-red-200 space-y-1",children:[r.jsx("li",{children:"• FBR submissions require valid IRIS API credentials"}),r.jsx("li",{children:"• System blocks all demo/test tokens automatically"}),r.jsx("li",{children:"• Only official FBR government URLs accepted"}),r.jsx("li",{children:"• Configure valid credentials above to enable FBR integration"})]})]}),(e==null?void 0:e.role)==="admin"&&r.jsxs(G,{type:"submit",disabled:_.isPending,"data-testid":"button-save-fbr",children:[r.jsx(xd,{className:"h-4 w-4 mr-2"}),"Save FBR Settings"]})]})]})]})}),s==="hardware"&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(ie,{children:[r.jsxs(fe,{children:[r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(wl,{className:"h-5 w-5"}),"Bluetooth Devices"]}),r.jsx(Bt,{children:"Scan and pair Bluetooth card readers and barcode scanners"})]}),r.jsxs(oe,{className:"space-y-4",children:[r.jsx("div",{className:"flex gap-3",children:r.jsx(G,{onClick:K,disabled:d,"data-testid":"button-bluetooth-scan",children:d?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin h-4 w-4 mr-2 border-2 border-current border-t-transparent rounded-full"}),"Scanning..."]}):r.jsxs(r.Fragment,{children:[r.jsx(wl,{className:"h-4 w-4 mr-2"}),"Scan for Devices"]})})}),r.jsx("div",{className:"space-y-3",children:m.length===0?r.jsx("p",{className:"text-muted-foreground text-sm",children:"No devices found. Click scan to search for Bluetooth devices."}):m.map(P=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(wl,{className:`h-5 w-5 ${P.connected?"text-green-500":"text-gray-400"}`}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:P.name}),r.jsxs("p",{className:"text-sm text-muted-foreground capitalize",children:[P.type.replace("_"," "),P.battery&&` • ${P.battery}% battery`]})]})]}),r.jsx(G,{variant:P.connected?"destructive":"default",size:"sm",onClick:()=>B(P.id),"data-testid":`button-connect-${P.id}`,children:P.connected?"Disconnect":"Connect"})]},P.id))})]})]}),r.jsxs(ie,{children:[r.jsxs(fe,{children:[r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(V4,{className:"h-5 w-5"}),"Hardware Compatibility"]}),r.jsx(Bt,{children:"Supported hardware types and connection methods"})]}),r.jsxs(oe,{children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between p-2 bg-green-50 dark:bg-green-950/50 rounded",children:[r.jsx("span",{children:"USB Barcode Scanners"}),r.jsx(Pe,{variant:"default",children:"Supported"})]}),r.jsxs("div",{className:"flex justify-between p-2 bg-green-50 dark:bg-green-950/50 rounded",children:[r.jsx("span",{children:"USB Card Readers"}),r.jsx(Pe,{variant:"default",children:"Supported"})]}),r.jsxs("div",{className:"flex justify-between p-2 bg-blue-50 dark:bg-blue-950/50 rounded",children:[r.jsx("span",{children:"QR Code Scanners"}),r.jsx(Pe,{variant:"default",children:"Supported"})]}),r.jsxs("div",{className:"flex justify-between p-2 bg-purple-50 dark:bg-purple-950/50 rounded",children:[r.jsx("span",{children:"Wireless & Bluetooth"}),r.jsx(Pe,{variant:"secondary",children:"Auto-Detect"})]})]}),r.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-950/50 rounded mt-4",children:[r.jsx("h4",{className:"font-medium text-green-900 dark:text-green-100 mb-2",children:"Universal Hardware Compatibility"}),r.jsxs("ul",{className:"text-sm text-green-800 dark:text-green-200 space-y-1",children:[r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Barcode Scanners:"})," Any USB HID scanner works instantly"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Card Readers:"})," All Pakistani bank terminals supported"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"No Drivers Needed:"})," Plug and play compatibility"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Wireless Support:"})," Bluetooth auto-detection"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Multi-Protocol:"})," 1D, 2D, QR codes, NFC payments"]})]})]})]})]})]})}),s==="users"&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(ie,{children:[r.jsxs(fe,{children:[r.jsxs(he,{className:"flex items-center gap-2",children:[r.jsx(bi,{className:"h-5 w-5"}),"Add New User"]}),r.jsx(Bt,{children:"Create new user accounts for your team"})]}),r.jsx(oe,{children:r.jsx(li,{...x,children:r.jsxs("form",{onSubmit:x.handleSubmit(S),className:"space-y-4",children:[r.jsx(Me,{control:x.control,name:"fullName",render:({field:P})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Full Name *"}),r.jsx(Ie,{children:r.jsx(ue,{placeholder:"Enter full name",...P,"data-testid":"input-user-fullname"})}),r.jsx(Fe,{})]})}),r.jsx(Me,{control:x.control,name:"username",render:({field:P})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Username *"}),r.jsx(Ie,{children:r.jsx(ue,{placeholder:"Enter username",...P,"data-testid":"input-user-username"})}),r.jsx(Fe,{})]})}),r.jsx(Me,{control:x.control,name:"password",render:({field:P})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Password *"}),r.jsx(Ie,{children:r.jsx(ue,{type:"password",placeholder:"Enter password",...P,"data-testid":"input-user-password"})}),r.jsx(Fe,{})]})}),r.jsx(Me,{control:x.control,name:"role",render:({field:P})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Role *"}),r.jsxs(bt,{onValueChange:P.onChange,defaultValue:P.value,children:[r.jsx(Ie,{children:r.jsx(xt,{"data-testid":"select-user-role",children:r.jsx(jt,{})})}),r.jsxs(gt,{children:[r.jsx(ae,{value:"admin",children:"Admin"}),r.jsx(ae,{value:"manager",children:"Manager"}),r.jsx(ae,{value:"cashier",children:"Cashier"})]})]}),r.jsx(Fe,{})]})}),r.jsxs(G,{type:"submit",className:"w-full",disabled:N.isPending,"data-testid":"button-create-user",children:[r.jsx(is,{className:"h-4 w-4 mr-2"}),N.isPending?"Creating...":"Create User"]})]})})})]}),r.jsxs(ie,{children:[r.jsxs(fe,{children:[r.jsx(he,{children:"Existing Users"}),r.jsx(Bt,{children:"Manage existing user accounts - Admins can edit any user"})]}),r.jsx(oe,{children:r.jsx("div",{className:"space-y-3",children:C&&C.length>0?C.map(P=>r.jsx("div",{children:y===P.id?r.jsx("div",{className:"p-4 border rounded-lg bg-muted/50",children:r.jsx(li,{...p,children:r.jsxs("form",{onSubmit:p.handleSubmit(D),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Me,{control:p.control,name:"fullName",render:({field:W})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Full Name *"}),r.jsx(Ie,{children:r.jsx(ue,{placeholder:"Enter full name",...W,"data-testid":`input-edit-fullname-${P.id}`})}),r.jsx(Fe,{})]})}),r.jsx(Me,{control:p.control,name:"username",render:({field:W})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Username *"}),r.jsx(Ie,{children:r.jsx(ue,{placeholder:"Enter username",...W,"data-testid":`input-edit-username-${P.id}`})}),r.jsx(Fe,{})]})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Me,{control:p.control,name:"password",render:({field:W})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"New Password (leave empty to keep current)"}),r.jsx(Ie,{children:r.jsx(ue,{type:"password",placeholder:"Enter new password",...W,"data-testid":`input-edit-password-${P.id}`})}),r.jsx(Fe,{})]})}),r.jsx(Me,{control:p.control,name:"role",render:({field:W})=>r.jsxs(Re,{children:[r.jsx(Oe,{children:"Role *"}),r.jsxs(bt,{onValueChange:W.onChange,value:W.value,children:[r.jsx(Ie,{children:r.jsx(xt,{"data-testid":`select-edit-role-${P.id}`,children:r.jsx(jt,{})})}),r.jsxs(gt,{children:[r.jsx(ae,{value:"admin",children:"Admin"}),r.jsx(ae,{value:"manager",children:"Manager"}),r.jsx(ae,{value:"cashier",children:"Cashier"})]})]}),r.jsx(Fe,{})]})})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(G,{type:"button",variant:"outline",onClick:V,"data-testid":`button-cancel-edit-${P.id}`,children:"Cancel"}),r.jsxs(G,{type:"submit",disabled:F.isPending,"data-testid":`button-save-edit-${P.id}`,children:[r.jsx(xd,{className:"h-4 w-4 mr-2"}),F.isPending?"Saving...":"Save Changes"]})]})]})})}):r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:P.fullName}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm text-muted-foreground",children:["@",P.username]}),r.jsx(Pe,{variant:P.role==="admin"?"default":P.role==="manager"?"secondary":"outline",children:P.role}),P.id===(e==null?void 0:e.id)&&r.jsx(Pe,{variant:"outline",className:"text-xs",children:"You"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[(e==null?void 0:e.role)==="admin"&&r.jsx(G,{variant:"outline",size:"sm",onClick:()=>q(P),"data-testid":`button-edit-user-${P.id}`,children:r.jsx(ic,{className:"h-4 w-4"})}),(e==null?void 0:e.role)==="admin"&&P.id!==(e==null?void 0:e.id)&&r.jsx(G,{variant:"destructive",size:"sm",onClick:()=>{window.confirm(`Are you sure you want to delete ${P.fullName}? This action cannot be undone.`)&&k.mutate(P.id)},disabled:k.isPending,"data-testid":`button-delete-user-${P.id}`,children:r.jsx(_a,{className:"h-4 w-4"})})]})]})},P.id)):r.jsx("p",{className:"text-muted-foreground text-sm",children:"No users found."})})})]})]})})]})]})]})}function QV(){const[e,t]=sR("/invoice/:id"),n=t==null?void 0:t.id,{toast:s}=Jt(),a=qr(),{data:i,isLoading:o}=We({queryKey:["/api/invoices",n],enabled:!!n}),l=yt({mutationFn:async v=>(await Je("POST",`/api/invoices/${v}/fbr-submit`)).json(),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/invoices",n]}),s({title:"FBR Submission Successful",description:"Invoice has been successfully submitted to FBR IRIS system"})},onError:v=>{s({title:"FBR Submission Failed",description:v.message||"Failed to submit invoice to FBR",variant:"destructive"})}}),c=async()=>{if(!(!n||!i))try{const v=(await Mo(async()=>{const{default:k}=await import("./html2canvas.esm-CBrSDip1.js");return{default:k}},[])).default,g=(await Mo(async()=>{const{default:k}=await import("./jspdf.es.min-BUx7sBui.js").then(F=>F.j);return{default:k}},[])).default,j=document.querySelector(".professional-invoice-container");if(!j){s({title:"Error",description:"Invoice content not found. Please try again.",variant:"destructive"});return}const x=await v(j,{scale:2,useCORS:!0,backgroundColor:"#ffffff"}),p=new g("p","mm","a4"),b=x.toDataURL("image/png"),w=p.internal.pageSize.getWidth(),C=p.internal.pageSize.getHeight(),_=w,N=x.height*w/x.width;p.addImage(b,"PNG",0,0,_,N),p.save(`Invoice-${i.invoiceNumber}.pdf`),s({title:"Success",description:"Invoice PDF downloaded successfully"})}catch(v){console.error("PDF generation error:",v),s({title:"Error",description:"Failed to generate PDF. Please try again.",variant:"destructive"})}},d=()=>{const v=window.location.href;navigator.share?navigator.share({title:`Invoice ${i==null?void 0:i.invoiceNumber}`,text:`Invoice for ${i==null?void 0:i.customerName}`,url:v}):navigator.clipboard.writeText(v)},f=()=>{n&&(i==null?void 0:i.fbrStatus)!=="submitted"&&l.mutate(n)},m=v=>{const g=new Date(v),j=new Date,x=g.getTime()-j.getTime(),p=Math.ceil(x/(1e3*60*60*24));return p<0?{status:"overdue",label:"Overdue",color:"bg-red-100 text-red-800"}:p<=1?{status:"due-soon",label:"Due Soon",color:"bg-orange-100 text-orange-800"}:p<=7?{status:"due-week",label:"Due This Week",color:"bg-yellow-100 text-yellow-800"}:{status:"normal",label:"Active",color:"bg-blue-100 text-blue-800"}},u=v=>{switch(v){case"completed":return"bg-green-100 text-green-800";case"partial":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-blue-100 text-blue-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};if(o)return r.jsx("div",{className:"container mx-auto p-6",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})})});if(!i)return r.jsx("div",{className:"container mx-auto p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Invoice Not Found"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"The requested invoice could not be found."}),r.jsxs(G,{onClick:()=>window.history.back(),className:"mt-4","data-testid":"button-go-back",children:[r.jsx(ev,{className:"h-4 w-4 mr-2"}),"Go Back"]})]})});const y=m(i.dueDate);return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b",children:r.jsx("div",{className:"container mx-auto p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(G,{variant:"outline",onClick:()=>window.history.back(),"data-testid":"button-back",children:[r.jsx(ev,{className:"h-4 w-4 mr-2"}),"Back"]}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold",children:["Invoice ",i.invoiceNumber]}),r.jsxs("p",{className:"text-gray-600",children:["Customer: ",i.customerName]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Pe,{className:u(i.paymentStatus),children:i.paymentStatus.charAt(0).toUpperCase()+i.paymentStatus.slice(1)}),r.jsx(Pe,{className:y.color,children:y.label}),r.jsxs(G,{variant:"outline",onClick:d,"data-testid":"button-share",children:[r.jsx(bC,{className:"h-4 w-4 mr-2"}),"Share"]}),r.jsxs(G,{variant:i.fbrStatus==="submitted"?"default":"outline",onClick:f,disabled:i.fbrStatus==="submitted"||l.isPending,"data-testid":"button-fbr-submit",children:[r.jsx(Ar,{className:"h-4 w-4 mr-2"}),l.isPending?"Submitting...":i.fbrStatus==="submitted"?"Submitted to FBR":"Submit to FBR"]}),r.jsxs(G,{onClick:c,"data-testid":"button-download",children:[r.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Download PDF"]})]})]})})}),r.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:r.jsxs(ie,{className:"bg-white",children:[r.jsxs(fe,{className:"pb-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Sa,{className:"h-6 w-6 text-primary"}),r.jsx("h2",{className:"text-xl font-bold",children:"Your Business Name"})]}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(bx,{className:"h-4 w-4"}),r.jsx("span",{children:"Business Address Line 1, City, Country"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(jx,{className:"h-4 w-4"}),r.jsx("span",{children:"+92 300 1234567"})]})]})]}),r.jsxs("div",{className:"text-right space-y-2",children:[r.jsx("h1",{className:"text-3xl font-bold text-primary",children:"INVOICE"}),r.jsxs("div",{className:"text-sm space-y-1",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Invoice #:"})," ",i.invoiceNumber]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Date:"})," ",Zt(new Date(i.saleDate),"PPP")]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Due Date:"})," ",Zt(new Date(i.dueDate),"PPP")]})]})]})]}),r.jsx(Ls,{}),r.jsxs("div",{className:"grid grid-cols-2 gap-8 pt-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Bill To:"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsx("div",{className:"font-medium",children:i.customerName}),i.customerEmail&&r.jsx("div",{className:"text-gray-600",children:i.customerEmail}),i.customerPhone&&r.jsx("div",{className:"text-gray-600",children:i.customerPhone}),i.customerAddress&&r.jsx("div",{className:"text-gray-600",children:i.customerAddress})]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Payment Status:"}),r.jsx(Pe,{className:u(i.paymentStatus),children:i.paymentStatus.charAt(0).toUpperCase()+i.paymentStatus.slice(1)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"FBR Status:"}),r.jsx(Pe,{variant:"outline",children:i.fbrStatus.charAt(0).toUpperCase()+i.fbrStatus.slice(1)})]})]})})]})]}),r.jsxs(oe,{children:[r.jsx("div",{className:"border rounded-lg overflow-hidden mb-6",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Description"}),r.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-900",children:"Qty"}),r.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900",children:"Unit Price"}),r.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-900",children:"Tax Rate"}),r.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900",children:"Total"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:i.items.map((v,g)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:v.productName}),r.jsx("td",{className:"px-4 py-3 text-sm text-center text-gray-700",children:v.quantity}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-700",children:z(parseFloat(v.unitPrice))}),r.jsxs("td",{className:"px-4 py-3 text-sm text-center text-gray-700",children:[parseFloat(v.taxRate),"%"]}),r.jsx("td",{className:"px-4 py-3 text-sm text-right font-medium text-gray-900",children:z(parseFloat(v.totalAmount))})]},g))})]})}),r.jsx("div",{className:"flex justify-end",children:r.jsxs("div",{className:"w-80 space-y-2",children:[r.jsxs("div",{className:"flex justify-between py-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Subtotal:"}),r.jsx("span",{className:"text-sm font-medium",children:z(parseFloat(i.subtotal))})]}),parseFloat(i.discountAmount)>0&&r.jsxs("div",{className:"flex justify-between py-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Discount:"}),r.jsxs("span",{className:"text-sm font-medium text-red-600",children:["-",z(parseFloat(i.discountAmount))]})]}),r.jsxs("div",{className:"flex justify-between py-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Tax (GST):"}),r.jsx("span",{className:"text-sm font-medium",children:z(parseFloat(i.taxAmount))})]}),r.jsx(Ls,{}),r.jsxs("div",{className:"flex justify-between py-3",children:[r.jsx("span",{className:"text-lg font-bold",children:"Total:"}),r.jsx("span",{className:"text-lg font-bold text-primary",children:z(parseFloat(i.totalAmount))})]})]})}),i.notes&&r.jsxs("div",{className:"mt-8 pt-6 border-t",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Notes:"}),r.jsx("p",{className:"text-sm text-gray-600",children:i.notes})]}),r.jsxs("div",{className:"mt-8 pt-6 border-t text-center text-sm text-gray-500",children:[r.jsx("p",{children:"Thank you for your business!"}),r.jsx("p",{className:"mt-1",children:"This is a computer generated invoice and does not require signature."})]})]})]})})]})}function JT(){const[,e]=Ac(),{toast:t}=Jt(),{setUser:n}=zs(),[s,a]=h.useState(!1),[i,o]=h.useState({username:"",password:""}),l=async c=>{c.preventDefault(),a(!0);try{const f=await(await Je("/api/auth/login","POST",i)).json();n(f.user),localStorage.setItem("user",JSON.stringify(f.user)),t({title:"Welcome!",description:"Successfully logged in to your POS system"}),e("/")}catch{t({title:"Login Failed",description:"Invalid username or password",variant:"destructive"})}finally{a(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-secondary/10 flex items-center justify-center p-4",children:r.jsxs(ie,{className:"w-full max-w-md shadow-2xl",children:[r.jsxs(fe,{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 p-3 bg-primary/10 rounded-full w-16 h-16 flex items-center justify-center",children:r.jsx(Sa,{className:"h-8 w-8 text-primary"})}),r.jsx(he,{className:"text-2xl font-bold",children:"D-Invoice"}),r.jsx(Bt,{className:"text-lg",children:"FBR Compliant Business Solution"})]}),r.jsx(oe,{children:r.jsxs("form",{onSubmit:l,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Ee,{htmlFor:"username",className:"flex items-center gap-2",children:[r.jsx(Mc,{className:"h-4 w-4"}),"Username"]}),r.jsx(ue,{id:"username","data-testid":"input-username",type:"text",placeholder:"Enter your username",value:i.username,onChange:c=>o(d=>({...d,username:c.target.value})),required:!0,autoComplete:"username"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Ee,{htmlFor:"password",className:"flex items-center gap-2",children:[r.jsx(yC,{className:"h-4 w-4"}),"Password"]}),r.jsx(ue,{id:"password","data-testid":"input-password",type:"password",placeholder:"Enter your password",value:i.password,onChange:c=>o(d=>({...d,password:c.target.value})),required:!0,autoComplete:"current-password"})]}),r.jsx(G,{type:"submit",className:"w-full",disabled:s,"data-testid":"button-login",children:s?"Signing In...":"Sign In"})]})})]})})}function HV(){return r.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:r.jsx(ie,{className:"w-full max-w-md mx-4",children:r.jsxs(oe,{className:"pt-6",children:[r.jsxs("div",{className:"flex mb-4 gap-2",children:[r.jsx(gC,{className:"h-8 w-8 text-red-500"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),r.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Kr({children:e}){const{user:t,isLoading:n}=zs();return n?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):t?r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(jM,{}),r.jsx("main",{className:"pt-16",children:e})]}):r.jsx(JT,{})}function KV(){return r.jsxs(oR,{children:[r.jsx(lr,{path:"/login",component:JT}),r.jsx(lr,{path:"/",children:r.jsx(Kr,{children:r.jsx(CM,{})})}),r.jsx(lr,{path:"/pos",children:r.jsx(Kr,{children:r.jsx(Qs,{allowedRoles:["admin","cashier"],children:r.jsx(Q3,{})})})}),r.jsx(lr,{path:"/inventory",children:r.jsx(Kr,{children:r.jsx(Qs,{allowedRoles:["admin","manager","cashier"],children:r.jsx(f8,{})})})}),r.jsx(lr,{path:"/customers",children:r.jsx(Kr,{children:r.jsx(Qs,{allowedRoles:["admin","manager"],children:r.jsx(v8,{})})})}),r.jsx(lr,{path:"/invoices",children:r.jsx(Kr,{children:r.jsx(Qs,{allowedRoles:["admin","manager"],children:r.jsx(B8,{})})})}),r.jsx(lr,{path:"/payment-records",children:r.jsx(Kr,{children:r.jsx(Qs,{allowedRoles:["admin","manager"],children:r.jsx(MV,{})})})}),r.jsx(lr,{path:"/sale-orders",children:r.jsx(Kr,{children:r.jsx(Qs,{allowedRoles:["admin","manager"],children:r.jsx(LV,{})})})}),r.jsx(lr,{path:"/invoice/:id",children:r.jsx(Kr,{children:r.jsx(Qs,{allowedRoles:["admin","manager"],children:r.jsx(QV,{})})})}),r.jsx(lr,{path:"/reports",children:r.jsx(Kr,{children:r.jsx(Qs,{allowedRoles:["admin"],children:r.jsx($V,{})})})}),r.jsx(lr,{path:"/settings",children:r.jsx(Kr,{children:r.jsx(WV,{})})}),r.jsx(lr,{component:HV})]})}function YV(){return r.jsx(_R,{client:Cn,children:r.jsx(bM,{children:r.jsx(dM,{attribute:"class",defaultTheme:"light",enableSystem:!0,children:r.jsxs(iM,{children:[r.jsx(FI,{}),r.jsx(KV,{})]})})})})}xS(document.getElementById("root")).render(r.jsx(YV,{}));export{Mo as _,ZV as c,nN as g};
